{"version":3,"sources":["../../draft-js-utils/packages/draft-js-export-markdown/lib/main.js","../../draft-js-utils/packages/draft-js-export-markdown/lib/stateToMarkdown.js","utils/object/index.js","utils/array/index.js","utils/getMarkdownSyncApi/modelToMarkdown.js","utils/logger/index.js","utils/getMarkdownSyncApi/splitMarkdown.js","utils/getMarkdownSyncApi/markdownToModel.js","utils/getMarkdownSyncApi/index.js","hooks/useMarkdownSync/index.js","utils/editor/index.js","hooks/useFullscreen/index.js","components/Menu/index.js","components/AreaBorder/index.js","hooks/useIsFocusWithin/index.js","icons/formatBold.svg","icons/formatSize.svg","icons/formatItalic.svg","icons/formatListBulleted.svg","icons/formatListNumbered.svg","icons/formatStrikethrough.svg","icons/formatUnderlined.svg","icons/note.svg","components/Editor/controlTypes.js","components/Editor/components/StyleButton.js","components/Editor/components/ControlsGroup.js","components/Editor/components/Controls.js","components/Editor/components/Card.js","components/Editor/getCardRenderer.js","components/Editor/index.js","components/CanvasArea/index.js","components/CanvasHeader/index.js","components/BusinessModelCanvas/model.js","components/BusinessModelCanvas/index.js"],"names":["Object","defineProperty","exports","value","_stateToMarkdown","__webpack_require__","enumerable","get","obj","__esModule","default","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","sliceIterator","TypeError","_createClass","defineProperties","target","props","descriptor","configurable","writable","key","Constructor","protoProps","staticProps","prototype","content","options","MarkupGenerator","generate","_draftJsUtils","BOLD","INLINE_STYLE","CODE","ITALIC","STRIKETHROUGH","UNDERLINE","defaultOptions","gfm","contentState","instance","_classCallCheck","this","output","blocks","getBlockMap","toArray","totalBlocks","currentBlock","listItemCounts","processBlock","join","block","blockType","getType","BLOCK_TYPE","HEADER_ONE","insertLineBreaks","renderBlockContent","HEADER_TWO","HEADER_THREE","HEADER_FOUR","HEADER_FIVE","HEADER_SIX","UNORDERED_LIST_ITEM","blockDepth","getDepth","lastBlock","getLastBlock","lastBlockType","lastBlockDepth","canHaveDepth","ORDERED_LIST_ITEM","indent","repeat","depth","_blockDepth","_lastBlock","_lastBlockType","_lastBlockDepth","_indent","count","getListItemCount","BLOCKQUOTE","language","getData","index","prevBlock","n","text","getText","charMetaList","getCharacterList","getEntityRanges","map","_ref","_ref2","entityKey","_ref3","_ref4","style","has","replace","encodeCode","encodeContent","entity","getEntity","ENTITY_TYPE","LINK","data","url","href","title","escapeTitle","encodeURL","IMAGE","_data","src","alt","mergeObjects","destination","source","isPlainObject","mergeWith","cloneDeep","destinationEntry","sourceEntry","mapObject","object","callback","keys","reduce","acc","objectSpread","getArrayObjectKeys","array","entry","mergeArraysByKey","destinationKeyValues","sourceKeyValues","union","keyValue","indexOf","isNil","modelToMarkdown","header","sections","concat","sectionHeader","placeholder","logger","log","console","warn","error","mainHeaderRegex","anyHeaderRegex","propertyRegex","sectionHeaderRegex","placeholderRegex","placeholderStartRegex","placeholderEndRegex","splitMarkdown","lines","split","_findHeader","currentIndex","currentLine","headerMatch","match","_headerMatch","slicedToArray","trim","findHeader","_findProps","startIndex","propertyMatch","_propertyMatch","lastIndex","findProps","sectionHeaderMatch","_sectionHeaderMatch","preHeader","postHeader","_findPlaceholderText","findPlaceholderText","placeholderIndex","findSections","placeholderLines","placeholderMatch","placeholderStartMatch","placeholderEndMatch","markdownToModel","model","markdown","nextModel","modelSectionKeys","defaultModelSectionKeys","invalidSectionKeys","without","apply","toConsumableArray","forEach","invalidSectionKey","modelPropertyKeys","defaultModelPropertyKeys","invalidPropertyKeys","invalidPropertyKey","deepMergeObjects","merged","storeLocal","debounce","localStorage","setItem","localStorageKey","getInitialMarkdownSyncApi","markdownSyncApi","Error","onModelChange","currentModel","handleModelChange","loadFromFile","file","Promise","resolve","reject","fileReader","FileReader","onload","event","loadMarkdown","result","onerror","readAsText","loadFromLocalStorage","getItem","saveAs","blob","Blob","type","fileName","substr","FileSaver","reset","setOnChange","nextOnModelChange","removeOnChange","SECTION_KEYS","getSectionIndex","findIndex","getSection","updateSection","sectionUpdate","currentSection","nextSections","from","updateHeader","headerUpdate","PROP_KEYS","getPropertyIndex","getProperty","updateProperty","propertyUpdate","currentProperty","nextProps","getMarkdownSyncApi","updateEditorStateWithMarkdown","editorState","md","EditorState","stateFromMarkdown","getMarkdownFromEditorState","stateToMarkdown","getCurrentContent","toggleInlineStyle","inlineStyle","RichUtils","toggleBlockType","blockData","selectedBlock","getSelectedBlock","hasBlockType","hasBlockData","setBlockData","toggledEditorState","getBlockForKey","getSelection","getStartKey","currentBlockData","blockDataKeys","size","find","nextContentState","Modifier","getIsFullscreen","Boolean","document","fullscreenElement","webkitCurrentFullScreenElement","toggleFullscreen","exitFullscreen","mozExitFullscreen","webkitExitFullscreen","element","arguments","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","itemStyles","Container","styled","div","_templateObject","theme","pageBackground","HiddenForm","form","_templateObject2","MenuButton","button","_templateObject3","Notice","span","_templateObject4","Menu","onReset","onSaveAs","otherProps","objectWithoutProperties","importFormRef","useRef","importInputRef","handleReset","useCallback","window","confirm","handleHelp","_useFullscreen","_useState","useState","_useState2","isFullscreen","setIsFullscreen","useEffect","handleFullscreenChange","addEventListener","removeEventListener","isFullscreenSupported","supports","fullscreen","useFullscreen","react_default","a","createElement","platform","isIos","mode","isStandalone","onClick","current","click","ref","accept","aria-hidden","tabIndex","onChange","files","print","aria-label","AreaBorderBase","AreaBorder_templateObject","borderColor","AreaBorderTop","AreaBorder_templateObject2","AreaBorderRight","AreaBorder_templateObject3","AreaBorderBottom","AreaBorder_templateObject4","AreaBorderLeft","_templateObject5","AreaBorder","top","right","bottom","left","Fragment","watchers","addToGlobalHandlers","setIsFocusWithin","isFocusWithin","body","checkIfFocusIsWithin","removeFromGlobalHandlers","remove","watcher","currentElement","contains","_extends","assign","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","formatBold_ref2","d","fill","formatBold_SvgFormatBold","svgRef","width","height","viewBox","ForwardRef","forwardRef","p","formatSize_extends","formatSize_objectWithoutProperties","formatSize_objectWithoutPropertiesLoose","formatSize_ref2","formatSize_ref3","formatSize_SvgFormatSize","formatSize_ForwardRef","formatItalic_extends","formatItalic_objectWithoutProperties","formatItalic_objectWithoutPropertiesLoose","formatItalic_ref2","formatItalic_ref3","formatItalic_SvgFormatItalic","formatItalic_ForwardRef","formatListBulleted_extends","formatListBulleted_objectWithoutProperties","formatListBulleted_objectWithoutPropertiesLoose","formatListBulleted_ref2","formatListBulleted_ref3","formatListBulleted_SvgFormatListBulleted","formatListBulleted_ForwardRef","formatListNumbered_extends","formatListNumbered_objectWithoutProperties","formatListNumbered_objectWithoutPropertiesLoose","formatListNumbered_ref2","formatListNumbered_ref3","formatListNumbered_SvgFormatListNumbered","formatListNumbered_ForwardRef","formatStrikethrough_extends","formatStrikethrough_objectWithoutProperties","formatStrikethrough_objectWithoutPropertiesLoose","formatStrikethrough_ref2","formatStrikethrough_ref3","formatStrikethrough_SvgFormatStrikethrough","formatStrikethrough_ForwardRef","formatUnderlined_extends","formatUnderlined_objectWithoutProperties","formatUnderlined_objectWithoutPropertiesLoose","formatUnderlined_ref2","formatUnderlined_ref3","formatUnderlined_SvgFormatUnderlined","formatUnderlined_ForwardRef","note_extends","note_objectWithoutProperties","note_objectWithoutPropertiesLoose","note_ref2","note_ref3","note_SvgNote","note_ForwardRef","inlineControlTypes","label","icon","blockControlTypes","getCardType","color","_ref$key","Button","StyleButton_templateObject","StyleButton","isActive","onToggle","handleClick","preventDefault","aria-pressed","onKeyDown","onMouseDown","ControlsGroup_templateObject","BlockStyleControls","controlTypes","getIsActive","ControlsGroup_Container","controlType","components_StyleButton","ControlsContainer","Controls_templateObject","isVisible","Controls","cardControlTypes","handleToggleInlineStyle","handleToggleBlockType","nextEditorState","getIsActiveBlock","currentStyle","getCurrentInlineStyle","getIsActiveStyle","ControlsGroup","SectionElement","section","Card_templateObject","Card","blockProps","Draft","memoize","cardStyles","contentBlock","currentCardStyle","cardStyle","component","editable","EditorContainer","Editor_templateObject","GlobalDraftJsEditorStyle","createGlobalStyle","Editor_templateObject2","Editor","isSimple","editorRef","containerRef","useIsFocusWithin","cardRenderer","useMemo","getCardRenderer","handleChange","handleKeyCommand","command","newState","focus","blockRendererFn","components_Controls","defaultProps","AreaBox","article","CanvasArea_templateObject","AreaHeader","h2","CanvasArea_templateObject2","HiddenAreaHeader","CanvasArea_templateObject3","StyledEditor","CanvasArea_templateObject4","CanvasArea","border","components_AreaBorder","CanvasHeader_templateObject","HeaderContainer","CanvasHeader_templateObject2","Header","h1","CanvasHeader_templateObject3","HeaderInput","input","CanvasHeader_templateObject4","HeaderContainerRight","CanvasHeader_templateObject5","PropertyInput","_templateObject6","StyledCanvasArea","_templateObject7","CanvasHeader","gridArea","onHeaderChange","onPropertyChange","sectionProps","handleHeaderChange","handleDateChange","handleNameChange","CanvasHeader_Container","BusinessModelCanvas_model","Date","toLocaleDateString","isHeader","GridContainer","BusinessModelCanvas_templateObject","paperBackground","BusinessModelCanvas_templateObject2","StyledCanvasHeader","BusinessModelCanvas_templateObject3","StyledMenu","BusinessModelCanvas_templateObject4","getInitialEditorStates","createWithContent","BusinessModelCanvas","triggerRenderCycle","useMarkdownSync","initialEditorStates","editorStates","setEditorStates","updateEditorStates","nextEditorStates","then","_ref5","_ref6","setSectionEditorState","BusinessModelCanvas_StyledCanvasArea"],"mappings":"0FAEAA,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAC,EAAuBC,EAAQ,KAE/BL,OAAAC,eAAAC,EAAA,mBACAI,YAAA,EACAC,IAAA,WACA,OAIAC,EAJAJ,EAKAI,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IANAE,QAIA,IAAAF,uCCbAR,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAQ,EAAA,WA2BA,gBAAAC,EAAAC,GACA,GAAAC,MAAAC,QAAAH,GACA,OAAAA,EACK,GAAAI,OAAAC,YAAAjB,OAAAY,GACL,OA9BA,SAAAA,EAAAC,GACA,IAAAK,EAAA,GACAC,GAAA,EACAC,GAAA,EACAC,OAAAC,EAEA,IACA,QAAAC,EAAAC,EAAAZ,EAAAI,OAAAC,cAA+CE,GAAAI,EAAAC,EAAAC,QAAAC,QAC/CR,EAAAS,KAAAJ,EAAApB,QAEAU,GAAAK,EAAAU,SAAAf,GAH8EM,GAAA,IAKzE,MAAAU,GACLT,GAAA,EACAC,EAAAQ,EACK,QACL,KACAV,GAAAK,EAAA,QAAAA,EAAA,SACO,QACP,GAAAJ,EAAA,MAAAC,GAIA,OAAAH,EAOAY,CAAAlB,EAAAC,GAEA,UAAAkB,UAAA,yDAjCA,GAsCAC,EAAA,WACA,SAAAC,EAAAC,EAAAC,GACA,QAAAtB,EAAA,EAAmBA,EAAAsB,EAAAP,OAAkBf,IAAA,CACrC,IAAAuB,EAAAD,EAAAtB,GACAuB,EAAA9B,WAAA8B,EAAA9B,aAAA,EACA8B,EAAAC,cAAA,EACA,UAAAD,MAAAE,UAAA,GACAtC,OAAAC,eAAAiC,EAAAE,EAAAG,IAAAH,IAIA,gBAAAI,EAAAC,EAAAC,GAGA,OAFAD,GAAAR,EAAAO,EAAAG,UAAAF,GACAC,GAAAT,EAAAO,EAAAE,GACAF,GAdA,GAkBAtC,EAAAQ,QAyUA,SAAAkC,EAAAC,GACA,WAAAC,EAAAF,EAAAC,GAAAE,YAxUA,IAAAC,EAAoB3C,EAAQ,KAQ5B,IAAA4C,EAAAD,EAAAE,aAAAD,KACAE,EAAAH,EAAAE,aAAAC,KACAC,EAAAJ,EAAAE,aAAAE,OACAC,EAAAL,EAAAE,aAAAG,cACAC,EAAAN,EAAAE,aAAAI,UAEAC,EAAA,CACAC,KAAA,GAGAV,EAAA,WACA,SAAAA,EAAAW,EAAAZ,IAjBA,SAAAa,EAAAlB,GACA,KAAAkB,aAAAlB,GACA,UAAAT,UAAA,qCAgBA4B,CAAAC,KAAAd,GAEAc,KAAAH,eACAG,KAAAf,WAAAU,EA+QA,OA5QAvB,EAAAc,EAAA,EACAP,IAAA,WACApC,MAAA,WAOA,IANAyD,KAAAC,OAAA,GACAD,KAAAE,OAAAF,KAAAH,aAAAM,cAAAC,UACAJ,KAAAK,YAAAL,KAAAE,OAAAlC,OACAgC,KAAAM,aAAA,EACAN,KAAAO,eAAA,GAEAP,KAAAM,aAAAN,KAAAK,aACAL,KAAAQ,eAGA,OAAAR,KAAAC,OAAAQ,KAAA,MAEG,CACH9B,IAAA,eACApC,MAAA,WACA,IAAAmE,EAAAV,KAAAE,OAAAF,KAAAM,cACAK,EAAAD,EAAAE,UAEA,OAAAD,GACA,KAAAvB,EAAAyB,WAAAC,WAEAd,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,KAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAI,WAEAjB,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,MAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAK,aAEAlB,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,OAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAM,YAEAnB,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,QAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAO,YAEApB,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,SAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAQ,WAEArB,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,UAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAS,oBAEA,IAAAC,EAAAb,EAAAc,WACAC,EAAAzB,KAAA0B,eACAC,EAAAF,IAAAb,UAAA,KACAgB,EAAAH,GAAAI,EAAAF,GAAAF,EAAAD,WAAA,KAEAG,IAAAhB,GAAAiB,IAAAL,EAAA,IACAvB,KAAAe,iBAAA,GAEAY,IAAAvC,EAAAyB,WAAAiB,mBACA9B,KAAAe,iBAAA,IAIA,IAAAgB,EAAA,IAAAC,OAAA,EAAAtB,EAAAuB,OACAjC,KAAAC,OAAAlC,KAAAgE,EAAA,KAAA/B,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAiB,kBAEA,IAAAI,EAAAxB,EAAAc,WAEAW,EAAAnC,KAAA0B,eAEAU,EAAAD,IAAAvB,UAAA,KAEAyB,EAAAF,GAAAN,EAAAO,GAAAD,EAAAX,WAAA,KAEAY,IAAAzB,GAAA0B,IAAAH,EAAA,IACAlC,KAAAe,iBAAA,GAEAqB,IAAAhD,EAAAyB,WAAAS,qBACAtB,KAAAe,iBAAA,IAIA,IAAAuB,EAAA,IAAAN,OAAA,EAAAE,GAGAK,EAAAvC,KAAAwC,iBAAA9B,GAAA,GACAV,KAAAC,OAAAlC,KAAAuE,GAAAC,EAAA,MAAAvC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAA4B,WAEAzC,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAA,MAAAiC,KAAAgB,mBAAAN,GAAA,MACA,MAGA,KAAAtB,EAAAyB,WAAAtB,KAIA,GAFAS,KAAAe,iBAAA,GAEAf,KAAAf,QAAAW,IAAA,CACA,IAAA8C,EAAAhC,EAAAiC,WAAAjC,EAAAiC,UAAAhG,IAAA,YAAA+D,EAAAiC,UAAAhG,IAAA,eACAqD,KAAAC,OAAAlC,KAAA,MAAA2E,EAAA,MACA1C,KAAAC,OAAAlC,KAAAiC,KAAAgB,mBAAAN,GAAA,MACAV,KAAAC,OAAAlC,KAAA,cAEAiC,KAAAC,OAAAlC,KA5IA,OA4IAiC,KAAAgB,mBAAAN,GAAA,MAGA,MAGA,QAEAV,KAAAe,iBAAA,GACAf,KAAAC,OAAAlC,KAAAiC,KAAAgB,mBAAAN,GAAA,MAKAV,KAAAM,cAAA,IAEG,CACH3B,IAAA,eACApC,MAAA,WACA,OAAAyD,KAAAE,OAAAF,KAAAM,aAAA,KAEG,CACH3B,IAAA,eACApC,MAAA,WACA,OAAAyD,KAAAE,OAAAF,KAAAM,aAAA,KAEG,CACH3B,IAAA,mBACApC,MAAA,SAAAmE,GAQA,IAPA,IAAAC,EAAAD,EAAAE,UACAW,EAAAb,EAAAc,WAGAoB,EAAA5C,KAAAM,aAAA,EACAuC,EAAA7C,KAAAE,OAAA0C,GAEAC,GAAAhB,EAAAgB,EAAAjC,YAAAiC,EAAArB,WAAAD,GACAqB,GAAA,EACAC,EAAA7C,KAAAE,OAAA0C,GAOA,OAJAC,KAAAjC,YAAAD,GAAAkC,EAAArB,aAAAD,IACAvB,KAAAO,eAAAgB,GAAA,GAGAvB,KAAAO,eAAAgB,GAAAvB,KAAAO,eAAAgB,GAAA,IAEG,CACH5C,IAAA,mBACApC,MAAA,SAAAuG,GACA,GAAA9C,KAAAM,aAAA,EACA,QAAArD,EAAA,EAAuBA,EAAA6F,EAAO7F,IAC9B+C,KAAAC,OAAAlC,KAAA,QAIG,CACHY,IAAA,qBACApC,MAAA,SAAAmE,GACA,IAAAb,EAAAG,KAAAH,aACAc,EAAAD,EAAAE,UACAmC,EAAArC,EAAAsC,UAEA,QAAAD,EAGA,eAGA,IAAAE,EAAAvC,EAAAwC,mBAEA,OADA,EAAA9D,EAAA+D,iBAAAJ,EAAAE,GACAG,IAAA,SAAAC,GACA,IAAAC,EAAAvG,EAAAsG,EAAA,GACAE,EAAAD,EAAA,GAGAtE,EAFAsE,EAAA,GAEAF,IAAA,SAAAI,GACA,IAAAC,EAAA1G,EAAAyG,EAAA,GACAT,EAAAU,EAAA,GACAC,EAAAD,EAAA,GAGA,IAAAV,EACA,SAGA,IAAA/D,EAAA+D,EAEA,OAAApC,IAAAvB,EAAAyB,WAAAtB,KACAP,EAMA0E,EAAAC,IAAApE,GACA,IA+DA,SAAAwD,GACA,OAAAA,EAAAa,QAAA,YAhEAC,CAAA7E,GAAA,KAGAA,EAwDA,SAAA+D,GACA,OAAAA,EAAAa,QAAA,iBAzDAE,CAAAf,GAEAW,EAAAC,IAAAtE,KACAL,EAAA,KAAAA,EAAA,MAGA0E,EAAAC,IAAAjE,KAEAV,EAAA,KAAAA,EAAA,MAGA0E,EAAAC,IAAAnE,KACAR,EAAA,IAAAA,EAAA,KAGA0E,EAAAC,IAAAlE,KAEAT,EAAA,KAAAA,EAAA,MAGAA,KACSyB,KAAA,IACTsD,EAAAR,EAAA1D,EAAAmE,UAAAT,GAAA,KAEA,SAAAQ,KAAAnD,YAAAxB,EAAA6E,YAAAC,KAAA,CACA,IAAAC,EAAAJ,EAAApB,UACAyB,EAAAD,EAAAE,MAAAF,EAAAC,KAAA,GACAE,EAAAH,EAAAG,MAAA,KAAAC,EAAAJ,EAAAG,OAAA,OACA,UAAAtF,EAAA,KAAAwF,EAAAJ,GAAAE,EAAA,IACS,SAAAP,KAAAnD,YAAAxB,EAAA6E,YAAAQ,MAAA,CACT,IAAAC,EAAAX,EAAApB,UAEAgC,EAAAD,EAAAC,KAAA,GAEA,YADAD,EAAAE,IAAA,GAAAL,EAAAG,EAAAE,KAAA,IACA,KAAAJ,EAAAG,GAAA,IAEA,OAAA3F,IAEOyB,KAAA,QAIPvB,EApRA,GAuRA,SAAA2C,EAAAlB,GACA,OAAAA,GACA,KAAAvB,EAAAyB,WAAAS,oBACA,KAAAlC,EAAAyB,WAAAiB,kBACA,SAEA,QACA,UAcA,SAAA0C,EAAAJ,GACA,OAAAA,EAAAR,QAAA,aAIA,SAAAW,EAAAxB,GACA,OAAAA,EAAAa,QAAA,iNC3XO,SAASiB,EAAaC,EAAaC,GACxC,OAAIC,IAAcF,GACTG,IACLC,IAAUJ,GACVC,EACA,SAACI,EAAkBC,GACjB,GAAIjI,IAAQgI,GACV,OAAOC,SAKO1H,IAAXqH,EACFA,EAEAD,EAmBJ,SAASO,EAAUC,EAAQC,GAChC,OAAOnJ,OAAOoJ,KAAKF,GAAQG,OACzB,SAACC,EAAK/G,GAAN,OAAAvC,OAAAuJ,EAAA,EAAAvJ,CAAA,GACKsJ,EADLtJ,OAAAC,EAAA,EAAAD,CAAA,GAEGuC,EAAM4G,EAAS5G,EAAK2G,EAAO3G,OAE9B,2CChCG,SAASiH,EAAmBC,EAAOlH,GACxC,OAAOkH,EAAMzC,IAAI,SAAC0C,GAAD,OAAWA,GAASA,EAAMnH,KAGtC,SAASoH,EAAiBjB,EAAaC,EAAvC1B,GAAwD,IAAP1E,EAAO0E,EAAP1E,IACtD,GAAIxB,IAAQ2H,IAAgB3H,IAAQ4H,GAAS,CAC3C,IAAMiB,EAAuBJ,EAAmBd,EAAanG,GACvDsH,EAAkBL,EAAmBb,EAAQpG,GAGnD,OAFwBuH,IAAMF,EAAsBC,GAE7B7C,IAAI,SAAC+C,GAI1B,OAAOtB,EAHkBC,EAAYkB,EAAqBI,QAAQD,IAC9CpB,EAAOkB,EAAgBG,QAAQD,OAIhD,OAAIE,IAAMtB,GACRD,EAEAC,4DCpCI,SAASuB,EAATjD,GAMb,IAJEkD,EAIFlD,EAJEkD,OACAhI,EAGF8E,EAHE9E,MACAiI,EAEFnD,EAFEmD,SAGF,WAAAC,OAAYF,EAAOhK,MAAnB,MAAAkK,OACAlI,EAAM6E,IAAI,SAAAE,GAAA,IACR3E,EADQ2E,EACR3E,IACApC,EAFQ+G,EAER/G,MAFQ,SAAAkK,OAGD9H,EAHC,KAAA8H,OAGMlK,EAAK,IAAAkK,OAAOlK,GAAU,MAAMkE,KAAK,MAJjD,QAAAgG,OAMAD,EAASpD,IAAI,SAAAI,GAAA,IACX7E,EADW6E,EACX7E,IACQ+H,EAFGlD,EAEX+C,OACAI,EAHWnD,EAGXmD,YACA3H,EAJWwE,EAIXxE,QAJW,YAAAyH,OAKDC,EALC,MAAAD,OAKiB9H,EALjB,KAAA8H,OAKwBE,EAAW,MAAAF,OAC/CE,EAD+C,KAC9B,IANLF,OAMUzH,EAAO,KAAAyH,OAC9BzH,GAAY,GAPC,QAQZyB,KAAK,MAdN,mBCLamG,EAAA,CACbC,IAAKC,QAAQD,IACbE,KAAMD,QAAQC,KACdC,MAAOF,QAAQE,yBCJXC,EAAkB,qBAClBC,EAAiB,aACjBC,EAAgB,qBAChBC,EAAqB,8BACrBC,EAAmB,cACnBC,EAAwB,YACxBC,EAAsB,gBAGb,SAASC,EAAcxI,GACpC,IAAMyI,EAAQzI,EAAQ0I,MAAM,MADiBC,EAwBxC,SAAoBF,GACzB,IAAIG,EAAe,EAEnB,KAAOA,EAAeH,EAAMzJ,QAAQ,CAClC,IAAM6J,EAAcJ,EAAMG,GACpBE,EAAcD,EAAYE,MAAMd,GAEtC,GAAIa,EAAa,KAAAE,EAAA5L,OAAA6L,EAAA,EAAA7L,CACmB0L,EADnB,GACSvB,EADTyB,EAAA,GAEf,MAAO,CACLzB,OAAQ,CACNhK,MAAOgK,EAAO2B,QAEhBtF,MAAOgF,GAGXA,GAAgB,EAElB,MAAO,CACLrB,OAAQ,CACNhK,MAAO,IAETqG,OAAQ,GAxCNuF,CAAWV,GAFblB,EAJ2CoB,EAI3CpB,OAJ2C6B,EAkDxC,SAAmBX,EAAOY,GAC/B,IAAIT,EAAeS,EACb9J,EAAQ,GAEd,KAAOqJ,EAAeH,EAAMzJ,QAAQ,CAClC,IAAM6J,EAAcJ,EAAMG,GACpBU,EAAgBT,EAAYE,MAAMZ,GAExC,GAAImB,EAAe,KAAAC,EAAAnM,OAAA6L,EAAA,EAAA7L,CACqBkM,EADrB,GACO3J,EADP4J,EAAA,GACYhM,EADZgM,EAAA,GAEjBhK,EAAMR,KAAK,CACTY,IAAKA,EAAIuJ,OACT3L,MAAOA,EAAM2L,cAEV,GAAIL,EAAYE,MAAMb,GAC3B,MAEFU,GAAgB,EAGlB,MAAO,CACLrJ,QACAiK,UAAWZ,EAAe,GA7DxBa,CAAUhB,EAX+BE,EAK3C/E,MAMiC,GAMnC,MAAO,CACL2D,SACAhI,MAnB2C6J,EAS3C7J,MAWAiI,SAwDG,SAAsBiB,EAAOY,GAClC,IAAIT,EAAeS,EACb7B,EAAW,GAEjB,KAAOoB,EAAeH,EAAMzJ,QAAQ,CAClC,IAAI6J,EAAcJ,EAAMG,GAClBc,EAAqBb,EAAYE,MAAMX,GAE7C,GAAIsB,EAAoB,KAAAC,EAAAvM,OAAA6L,EAAA,EAAA7L,CACgCsM,EADhC,GACEE,EADFD,EAAA,GACahK,EADbgK,EAAA,GACkBE,EADlBF,EAAA,GAGhBpC,EAAS,GAAAE,OAAGmC,EAAUV,OAAb,KAAAzB,OAAuBoC,EAAWX,QAASA,OAHpCY,EAQlBC,EAAoBtB,EAAOG,EAAe,GAF5CjB,EANoBmC,EAMpBnC,YACOqC,EAPaF,EAOpBlG,MAGFgF,EAAeoB,EAAmB,GAAKpB,EAAe,EAGtD,IAFA,IAAM5I,EAAU,GAET4I,EAAeH,EAAMzJ,UAAYyJ,EAAMG,EAAe,IAAM,IAAIG,MAAMX,IAC3ES,EAAcJ,EAAMG,GACpB5I,EAAQjB,KAAK8J,GACbD,GAAgB,EAGlBpB,EAASzI,KAAK,CACZY,IAAKA,EAAIuJ,OACT3B,SACAI,cACA3H,QAASA,EAAQyB,KAAK,MAAMyH,SAGhCN,GAAgB,EAElB,MAAO,CACLpB,YAlGEyC,CAAaxB,EAf4BW,EAU3CI,UAKsC,GADtChC,UAuGG,SAASuC,EAAoBtB,EAAOY,GAIzC,IAHA,IAAIT,EAAeS,EACba,EAAmB,GAElBtB,EAAeH,EAAMzJ,QAAQ,CAClC,IAAM6J,EAAcJ,EAAMG,GAAcM,OAExC,GAAgC,IAA5BgB,EAAiBlL,OAAc,CACjC,IAAMmL,EAAmBtB,EAAYE,MAAMV,GAC3C,GAAI8B,EAEF,MAAO,CACLxC,YAHkBvK,OAAA6L,EAAA,EAAA7L,CACmB+M,EADnB,MAGOjB,OACzBtF,MAAOgF,GAGT,IAAMwB,EAAwBvB,EAAYE,MAAMT,GAChD,GAAI8B,EAAuB,KACDzC,EADCvK,OAAA6L,EAAA,EAAA7L,CACcgN,EADd,MAEzBF,EAAiBnL,KAAK4I,EAAYuB,aAC7B,GAAoB,KAAhBL,EACT,WAGC,GAAIqB,EAAiBlL,OAAS,EAAG,CACtC,IAAMqL,EAAsBxB,EAAYE,MAAMR,GAE9C,GAAI8B,EAAqB,KACC1C,EADDvK,OAAA6L,EAAA,EAAA7L,CACgBiN,EADhB,MAGvB,OADAH,EAAiBnL,KAAK4I,EAAYuB,QAC3B,CACLvB,YAAauC,EAAiBzI,KAAK,MACnCmC,MAAOgF,GAGTsB,EAAiBnL,KAAK8J,GAG1BD,GAAgB,EAElB,MAAO,CACLjB,YAAa,GACb/D,OAAQ,GC/JG,SAAS0G,EAAgBC,EAAOC,GAC7C,IACE,IAAMC,EAAYjC,EAAcgC,GAE1BE,EAAmB9D,EAAmB6D,EAAUjD,SAAU,CAAE7H,IAAK,QACjEgL,EAA0B/D,EAAmB2D,EAAM/C,SAAU,CAAE7H,IAAK,QACpEiL,EAAqBC,IAAOC,WAAP,GACzBJ,GADyBjD,OAAArK,OAAA2N,EAAA,EAAA3N,CAEtBuN,KAEDC,EAAmB5L,OAAS,IAC9B4I,EAAOG,KAAK,6BAA8B6C,GAC1CA,EAAmBI,QAAQ,SAACC,UACnBR,EAAUjD,SAASyD,MAI9B,IAAMC,EAAoBtE,EAAmB6D,EAAUjD,SAAU,CAAE7H,IAAK,QAClEwL,EAA2BvE,EAAmB2D,EAAM/C,SAAU,CAAE7H,IAAK,QACrEyL,EAAsBP,IAAOC,WAAP,GAC1BI,GAD0BzD,OAAArK,OAAA2N,EAAA,EAAA3N,CAEvB+N,KA0BL,OAxBIC,EAAoBpM,OAAS,IAC/B4I,EAAOG,KAAK,0BAA2BqD,GACvCA,EAAoBJ,QAAQ,SAACK,UACpBZ,EAAUjD,SAAS6D,MAI9BZ,EAAUjD,SAAWT,EACnBwD,EAAM/C,SACNiD,EAAUjD,SACV,CAAE7H,IAAK,QAGT8K,EAAUlL,MAAQwH,EAChBwD,EAAMhL,MACNkL,EAAUlL,MACV,CAAEI,IAAK,QLrBN,SAAS2L,EAAiBxF,EAAaC,GAC5C,IAAMwF,EAAS1F,EAAaC,EAAaC,GACzC,OAAIC,IAAcuF,GACTlF,EAAUkF,EAAQ,SAAC5L,GAAD,OAAS2L,EAChCtF,IAAcF,GAAeA,EAAYnG,QAAOjB,EAChDsH,IAAcD,GAAUA,EAAOpG,QAAOjB,UAEpBA,IAAXqH,EACFA,EAEAD,EKcawF,CAClBf,EACAE,GAIF,MAAOzC,GACPJ,EAAOI,MAAM,wBACbJ,EAAOI,MAAMA,GAEf,OAAOuC,ECrDT,IAAMiB,EAAaC,IAAS,SAAClB,GAC3BmB,aAAaC,QAAQpB,EAAMqB,gBAAiBtE,EAAgBiD,IAC5DmB,aAAaC,QAAQ,WAAY,SAChC,KCPH,IAAME,EAA4B,SAACtB,GACjC,IAAMuB,EDSO,SAAAzH,GAEZ,IADDkG,EACClG,EADDkG,MAEA,IAAKvE,IAAcuE,GACjB,MAAM,IAAIwB,MAAM,sDAGlB,IACIC,EADAC,EAAe1B,EAEb2B,EAAoB,SAACzB,GACzBwB,EAAexB,EACfe,EAAWf,GACPuB,GACFA,EAAcvB,IAIZqB,EAAkB,CACtBK,aADsB,SACTC,GACX,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,OAAS,SAACC,GACnBb,EAAgBc,aACdD,EAAMrN,OAAOuN,QAEfP,KAEFE,EAAWM,QAAUP,EACrBC,EAAWO,WAAWX,MAG1BY,qBAdsB,WAepBlB,EAAgBc,aACdlB,aAAauB,QAAQ1C,EAAMqB,mBAG/BgB,aAnBsB,SAmBTpC,GACPA,GACF0B,EACE5B,EAAgBC,EAAOC,KAI7B0C,OA1BsB,WA2BpB,IAAMC,EAAO,IAAIC,KAAK,CAAC9F,EAAgB2E,IAAgB,CAAEoB,KAAM,6BACzDC,EAAQ,2BAAA7F,OAA8BwE,EAAa1E,OAAOhK,MAAMgQ,OAAO,EAAG,IAAI3I,QAAQ,iBAAkB,KAAhG,QACd4I,IAAUN,OAAOC,EAAMG,IAEzBG,MA/BsB,WAgCpBvB,EAAkB3B,IAGpBmD,YAnCsB,SAmCVC,GACV3B,EAAgB2B,GAElBC,eAtCsB,WAuCpB5B,EAAgB,MAGlB6B,mBACE,OAAOjH,EAAmB2D,EAAM/C,SAAU,QAE5CA,eACE,OAAOyE,EAAazE,UAEtBsG,gBAhDsB,SAgDNnO,GACd,OAAOoO,IAAUjC,EAAgBtE,SAAU,CAAC,MAAO7H,KAErDqO,WAnDsB,SAmDXrO,GACT,OAAOmM,EAAgBtE,SACrBsE,EAAgBgC,gBAAgBnO,KAGpCsO,cAxDsB,SAwDRtO,EAAKuO,GACjB,IAAKlI,IAAckI,GACjB,MAAM,IAAInC,MAAM,2FAElB,IAAMnI,EAAQkI,EAAgBgC,gBAAgBnO,GAE9C,IAAe,IAAXiE,EACF,MAAM,IAAImI,MAAJ,qBAAAtE,OAA+B9H,EAA/B,4BAA8D4K,GAEtE,IAAM4D,EAAiBlC,EAAazE,SAAS5D,GACvCwK,EAAelQ,MAAMmQ,KAAKpC,EAAazE,UAC7C4G,EAAaxK,GAAbxG,OAAAuJ,EAAA,EAAAvJ,CAAA,GACK+Q,EACAD,GAGLhC,EAAkB9O,OAAAuJ,EAAA,EAAAvJ,CAAA,GACb6O,EADY,CAEfzE,SAAU4G,MAId7G,aACE,OAAO0E,EAAa1E,QAEtB+G,aAjFsB,SAiFTC,GACX,IAAKvI,IAAcuI,GACjB,MAAM,IAAIxC,MAAM,4EAElBG,EAAkB9O,OAAAuJ,EAAA,EAAAvJ,CAAA,GACb6O,EADY,CAEf1E,OAAOnK,OAAAuJ,EAAA,EAAAvJ,CAAA,GACF6O,EAAa1E,OACbgH,OAKTC,gBACE,OAAO5H,EAAmB2D,EAAMhL,MAAO,QAEzCA,YACE,OAAO0M,EAAa1M,OAEtBkP,iBApGsB,SAoGL9O,GACf,OAAOoO,IAAUjC,EAAgBvM,MAAO,CAAC,MAAOI,KAElD+O,YAvGsB,SAuGV/O,GACV,OAAOmM,EAAgBvM,MACrBuM,EAAgB2C,iBAAiB9O,KAGrCgP,eA5GsB,SA4GPhP,EAAKiP,GAClB,IAAK5I,IAAc4I,GACjB,MAAM,IAAI7C,MAAM,2FAGlB,IAAMnI,EAAQkI,EAAgB2C,iBAAiB9O,GAE/C,IAAe,IAAXiE,EACF,MAAM,IAAImI,MAAJ,sBAAAtE,OAAgC9H,EAAhC,4BAA+D4K,GAEvE,IAAMsE,EAAkB5C,EAAa1M,MAAMqE,GACrCkL,EAAY5Q,MAAMmQ,KAAKpC,EAAa1M,OAC1CuP,EAAUlL,GAAVxG,OAAAuJ,EAAA,EAAAvJ,CAAA,GACKyR,EACAD,GAGL1C,EAAkB9O,OAAAuJ,EAAA,EAAAvJ,CAAA,GACb6O,EADY,CAEf1M,MAAOuP,OAKb,OAAOhD,EC9JiBiD,CAAmB,CAAExE,UAE7C,OADAuB,EAAgBkB,uBACTlB,wCCAIkD,EAAgC,SAACC,EAAaC,GAAd,OAAqBC,cAAYpQ,KAC5EkQ,EACAG,4BAAkBF,KAEPG,GAA6B,SAACJ,GAAD,OAAiBK,0BACzDL,EAAYM,oBACZ,CAAE3O,KAAK,KAII4O,GAAoB,SAACP,EAAaQ,GAAd,OAA8BC,YAAUF,kBACvEP,EACAQ,IAGWE,GAAkB,SAACV,EAAatN,EAAWiO,GACtD,IAAMC,EAAgBC,GAAiBb,GAEvC,GAAIc,GAAaF,EAAelO,KAAeqO,GAAaH,EAAeD,GACzE,OAAOK,GAAahB,EAAaW,GAEnC,IAAMM,EAAqBR,YAAUC,gBACnCV,EACAtN,GAEF,OAAOsO,GAAaC,EAAoBN,IAG7BE,GAAmB,SAACb,GAAD,OAAiBA,EAAYM,oBAAoBY,eAC/ElB,EAAYmB,eAAeC,gBAGhBN,GAAe,SAACrO,EAAOC,GAAR,OAAsBD,EAAME,YAAcD,GAEzDqO,GAAe,SAACtO,EAAOkO,GAClC,IAAMU,EAAmB5O,EAAMiC,UACzB4M,EAAgBnT,OAAOoJ,KAAKoJ,GAClC,OAAIU,EAAiBE,OAASD,EAAcvR,SAGzBuR,EAAcE,KAAK,SAAC9Q,GAAD,OAASiQ,EAAUjQ,KAAS2Q,EAAiB3S,IAAIgC,MAI5EsQ,GAAe,SAAChB,EAAa9J,GACxC,IAAMuL,EAAmBC,WAASV,aAChChB,EAAYM,oBACZN,EAAYmB,eACZjL,GAEF,OAAOgK,cAAYpQ,KACjBkQ,EACAyB,EACA,8BCvCEE,GAAkB,kBAAMC,QAAQC,SAASC,mBAAqBD,SAASE,iCACvEC,GAAmB,WAClBL,KAEME,SAASI,iBAZhBJ,SAASI,eACXJ,SAASI,iBACAJ,SAASK,kBAClBL,SAASK,oBACAL,SAASM,sBAClBN,SAASM,wBAfa,WAAwC,IAAvCC,EAAuCC,UAAAtS,OAAA,QAAAN,IAAA4S,UAAA,GAAAA,UAAA,GAA7BR,SAASS,gBACxCF,EAAQG,kBACVH,EAAQG,oBACCH,EAAQI,qBACjBJ,EAAQI,uBACCJ,EAAQK,yBACjBL,EAAQK,wBAAwBC,QAAQC,sBAAwB,IAehEJ,4yBChBJ,IAAMK,GAAU,0UAmBVC,GAAYC,IAAOC,IAAVC,KACO,SAAC1S,GAAD,OAAWA,EAAM2S,MAAMC,iBASvCC,GAAaL,IAAOM,KAAVC,MASVC,GAAaR,IAAOS,OAAVC,KAaZZ,IAEEa,GAASX,IAAOY,KAAVC,KAIRf,IA8FWgB,OA3Ff,SAAAxO,GAKG,IAJD8H,EAIC9H,EAJD8H,aACA2G,EAGCzO,EAHDyO,QACAC,EAEC1O,EAFD0O,SACGC,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAiH,EAAA,uCACK6O,EAAgBC,mBAChBC,EAAiBD,mBACjBE,EAAcC,sBAAY,WAE1BC,OAAOC,QAAQ,6CACjBV,KAED,CAACA,IACEW,EAAaH,sBAAY,WAC7BvU,aAAK,MACJ,IAXF2U,ED3CY,WAAyB,IAAAC,EACEC,mBAAShD,MADXiD,EAAAzW,OAAA6L,EAAA,EAAA7L,CAAAuW,EAAA,GAC/BG,EAD+BD,EAAA,GACjBE,EADiBF,EAAA,GAatC,OAXAG,oBAAU,WACR,IAAMC,EAAyB,kBAAMF,EAAgBnD,OAKrD,OAJAE,SAASoD,iBAAiB,mBAAoBD,GAC9CnD,SAASoD,iBAAiB,yBAA0BD,GACpDnD,SAASoD,iBAAiB,sBAAuBD,GAE1C,WACLnD,SAASqD,oBAAoB,mBAAoBF,KAElD,CAACF,IAEG,CACLD,eACAM,sBAAuBC,KAASC,WAChCrD,qBC4CEsD,GAHFT,EAdDJ,EAcCI,aACAM,EAfDV,EAeCU,sBACAnD,EAhBDyC,EAgBCzC,iBAGF,OACEuD,EAAAC,EAAAC,cAAC5C,GACKkB,EAEF2B,KAASC,QAAUC,KAAKC,cACxBN,EAAAC,EAAAC,cAAChC,GAAD,wEAECiC,KAASC,OAASR,GACnBI,EAAAC,EAAAC,cAACnC,GAAD,CACEwC,QAAS9D,GAER6C,EAAe,mBAAqB,eAGzCU,EAAAC,EAAAC,cAACnC,GAAD,CACEwC,QAAShC,GADX,gBAKAyB,EAAAC,EAAAC,cAACnC,GAAD,CACEwC,QAAS,kBAAM3B,EAAe4B,QAAQC,UADxC,mBAIET,EAAAC,EAAAC,cAACtC,GAAD,CACE8C,IAAKhC,GAELsB,EAAAC,EAAAC,cAAA,SACES,OAAO,4BACPC,eAAa,EACbC,SAAS,KACThI,KAAK,OACLiI,SAAU,SAAAhR,GAAgB,IAAbhF,EAAagF,EAAbhF,OACX6M,EAAa7M,EAAOiW,MAAM,IAG1BrC,EAAc8B,QAAQvH,SAExByH,IAAK9B,MAIXoB,EAAAC,EAAAC,cAACnC,GAAD,CACEwC,QAAS1B,GADX,qBAKAmB,EAAAC,EAAAC,cAACnC,GAAD,CACEwC,QAASxB,OAAOiC,OADlB,SAKAhB,EAAAC,EAAAC,cAACnC,GAAD,CACEkD,aAAW,OACXV,QAAStB,GAFX,2xBC3IN,IAAMiC,GAAiB3D,IAAOC,IAAV2D,KAEF,SAAAtR,GAAA,OAAAA,EAAG6N,MAAkB0D,cAUjCC,GAAgB9D,YAAO2D,GAAP3D,CAAH+D,KADA,mBAObC,GAAkBhE,YAAO2D,GAAP3D,CAAHiE,KAPF,mBAabC,GAAmBlE,YAAO2D,GAAP3D,CAAHmE,KAbH,mBAmBbC,GAAiBpE,YAAO2D,GAAP3D,CAAHqE,KAnBD,mBAiDJC,OAvBf,SAAA/R,GAKG,IAJDgS,EAIChS,EAJDgS,IACAC,EAGCjS,EAHDiS,MACAC,EAEClS,EAFDkS,OACAC,EACCnS,EADDmS,KAEA,OACEjC,EAAAC,EAAAC,cAACF,EAAAC,EAAMiC,SAAP,KACGJ,GAAO9B,EAAAC,EAAAC,cAACmB,GAAD,MACPU,GAAS/B,EAAAC,EAAAC,cAACqB,GAAD,MACTS,GAAUhC,EAAAC,EAAAC,cAACuB,GAAD,MACVQ,GAAQjC,EAAAC,EAAAC,cAACyB,GAAD,6BChDXQ,GAAW,GAETC,GAAsB,SAAC1B,EAAK2B,GAChCF,GAAS5X,KAAK,CACZ+X,eAAe,EACf5B,MACA2B,qBAEmC,IAAjCzZ,OAAOoJ,KAAKmQ,IAAU3X,SACxB8R,SAASiG,KAAK7C,iBAAiB,YAAa8C,IAC5ClG,SAASiG,KAAK7C,iBAAiB,UAAW8C,IAC1ClG,SAASiG,KAAK7C,iBAAiB,QAAS8C,MAItCC,GAA2B,SAAC/B,GAChCgC,KAAOP,GAAU,SAACQ,GAAD,OAAaA,EAAQjC,MAAQA,IAET,IAAjC9X,OAAOoJ,KAAKmQ,IAAU3X,SACxB8R,SAASiG,KAAK5C,oBAAoB,YAAa6C,IAC/ClG,SAASiG,KAAK5C,oBAAoB,UAAW6C,IAC7ClG,SAASiG,KAAK5C,oBAAoB,QAAS6C,MAIzCA,GAAuB,SAAA3S,GAAgB,IAAb/E,EAAa+E,EAAb/E,OAC9BqX,GAAWA,GAASvS,IAAI,SAAC+S,GACvB,IAAMC,EAAiBD,EAAQjC,IAAIF,QACnC,IAAKoC,EACH,OAAOD,EAET,IAAML,EAAgBM,EAAeC,SAAS/X,GAC9C,OAAI6X,EAAQL,gBAAkBA,EACrBK,GAEPA,EAAQN,iBAAiBC,GAClB1Z,OAAAuJ,EAAA,EAAAvJ,CAAA,GACF+Z,EADL,CAEEL,sBC3CR,SAAAQ,KAAmR,OAA9PA,GAAAla,OAAAma,QAAA,SAAAjY,GAAgD,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkBwL,MAAA9J,KAAAsQ,WAEnR,SAAAoG,GAAA3R,EAAA4R,GAAqD,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAAyG,EAAA4R,GAA0D,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAF9MuY,CAAA9R,EAAA4R,GAA0E,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAI2Y,GAEJzD,EAAAC,EAAKC,cAAA,QACLwD,EAAA,0OAGA1T,GAEAgQ,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGIC,GAAa,SAAA/T,GACjB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAAmY,GAAArT,EAAA,YAEA,OAASmQ,EAAAC,EAAKC,cAAA,MAAA4C,GAAA,CACdgB,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAU0Y,GAAKzT,KAGlBiU,GAAiBjE,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAe0D,GAAad,GAAA,CAC1Ce,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAASC,KAA0Q,OAA7PA,GAAQxb,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAASuH,GAAwB9S,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhMwZ,CAA6B/S,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAIyZ,GAEJvE,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGIa,GAEJxE,EAAAC,EAAKC,cAAA,QACLwD,EAAA,kDAGIe,GAAa,SAAA5U,GACjB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAcsZ,GAAwBxU,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsBkE,GAAQ,CAC5CN,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAUwZ,GAAOC,KAGhBE,GAAa1E,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAeuE,GAAeL,GAAQ,CACpDP,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAASQ,KAA0Q,OAA7PA,GAAQ/b,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAAS8H,GAAwBrT,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhM+Z,CAA6BtT,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAIga,GAEJ9E,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGIoB,GAEJ/E,EAAAC,EAAKC,cAAA,QACLwD,EAAA,qDAGIsB,GAAe,SAAAnV,GACnB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAc6Z,GAAwB/U,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsByE,GAAQ,CAC5Cb,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAU+Z,GAAOC,KAGhBE,GAAajF,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAe8E,GAAiBL,GAAQ,CACtDd,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAASe,KAA0Q,OAA7PA,GAAQtc,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAASqI,GAAwB5T,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhMsa,CAA6B7T,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAIua,GAEJrF,EAAAC,EAAKC,cAAA,QACLwD,EAAA,oRAGI4B,GAEJtF,EAAAC,EAAKC,cAAA,QACLyD,KAAA,OACAD,EAAA,oBAGI6B,GAAqB,SAAA1V,GACzB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAcoa,GAAwBtV,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsBgF,GAAQ,CAC5CpB,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAUsa,GAAOC,KAGhBE,GAAaxF,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAeqF,GAAuBL,GAAQ,CAC5DrB,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAASsB,KAA0Q,OAA7PA,GAAQ7c,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAAS4I,GAAwBnU,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhM6a,CAA6BpU,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAI8a,GAEJ5F,EAAAC,EAAKC,cAAA,QACLwD,EAAA,+IAGImC,GAEJ7F,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGImC,GAAqB,SAAAjW,GACzB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAc2a,GAAwB7V,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsBuF,GAAQ,CAC5C3B,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAU6a,GAAOC,KAGhBE,GAAa/F,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAe4F,GAAuBL,GAAQ,CAC5D5B,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAAS6B,KAA0Q,OAA7PA,GAAQpd,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAASmJ,GAAwB1U,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhMob,CAA6B3U,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAIqb,GAEJnG,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGIyC,GAEJpG,EAAAC,EAAKC,cAAA,QACLwD,EAAA,2DAGI2C,GAAsB,SAAAxW,GAC1B,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAckb,GAAwBpW,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsB8F,GAAQ,CAC5ClC,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAUob,GAAOC,KAGhBE,GAAatG,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAemG,GAAwBL,GAAQ,CAC7DnC,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAASoC,KAA0Q,OAA7PA,GAAQ3d,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAAS0J,GAAwBjV,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhM2b,CAA6BlV,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAI4b,GAEJ1G,EAAAC,EAAKC,cAAA,QACLwD,EAAA,gBACAC,KAAA,SAGIgD,GAEJ3G,EAAAC,EAAKC,cAAA,QACLwD,EAAA,wHAGIkD,GAAmB,SAAA/W,GACvB,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAcyb,GAAwB3W,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsBqG,GAAQ,CAC5CzC,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAU2b,GAAOC,KAGhBE,GAAa7G,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAe0G,GAAqBL,GAAQ,CAC1D1C,OAAAnD,GACG3V,MAEY9B,EAAAkb,ECtCf,SAAS2C,KAA0Q,OAA7PA,GAAQle,OAAAma,QAAA,SAAAjY,GAAuC,QAAArB,EAAA,EAAgBA,EAAAqT,UAAAtS,OAAsBf,IAAA,CAAO,IAAA8H,EAAAuL,UAAArT,GAA2B,QAAA0B,KAAAoG,EAA0B3I,OAAA2C,UAAAyX,eAAAC,KAAA1R,EAAApG,KAAyDL,EAAAK,GAAAoG,EAAApG,IAAiC,OAAAL,IAAkCwL,MAAA9J,KAAAsQ,WAEnS,SAASiK,GAAwBxV,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAA8DpG,EAAA1B,EAA9DqB,EAEpF,SAAsCyG,EAAA4R,GAAoB,SAAA5R,EAAA,SAA+B,IAAuDpG,EAAA1B,EAAvDqB,EAAA,GAAiBsY,EAAAxa,OAAAoJ,KAAAT,GAAkD,IAAA9H,EAAA,EAAYA,EAAA2Z,EAAA5Y,OAAuBf,IAAO0B,EAAAiY,EAAA3Z,GAAqB0Z,EAAAvQ,QAAAzH,IAAA,IAA0CL,EAAAK,GAAAoG,EAAApG,IAA6B,OAAAL,EAFhMkc,CAA6BzV,EAAA4R,GAA+B,GAAAva,OAAA0a,sBAAA,CAAoC,IAAAC,EAAA3a,OAAA0a,sBAAA/R,GAA6D,IAAA9H,EAAA,EAAYA,EAAA8Z,EAAA/Y,OAA6Bf,IAAO0B,EAAAoY,EAAA9Z,GAA2B0Z,EAAAvQ,QAAAzH,IAAA,GAA0CvC,OAAA2C,UAAAiY,qBAAAP,KAAA1R,EAAApG,KAAwEL,EAAAK,GAAAoG,EAAApG,IAA+B,OAAAL,EAM3d,IAAImc,GAEJjH,EAAAC,EAAKC,cAAA,QACLwD,EAAA,iHAGIwD,GAEJlH,EAAAC,EAAKC,cAAA,QACLyD,KAAA,OACAD,EAAA,oBAGIyD,GAAO,SAAAtX,GACX,IAAAgU,EAAAhU,EAAAgU,OACA9Y,EAAcgc,GAAwBlX,EAAA,YAEtC,OAASmQ,EAAAC,EAAKC,cAAA,MAAsB4G,GAAQ,CAC5ChD,MAAA,GACAC,OAAA,GACAC,QAAA,YACAtD,IAAAmD,GACG9Y,GAAUkc,GAAOC,KAGhBE,GAAapH,EAAAC,EAAKiE,WAAA,SAAAnZ,EAAA2V,GACtB,OAASV,EAAAC,EAAKC,cAAeiH,GAASL,GAAQ,CAC9CjD,OAAAnD,GACG3V,MCxBUsc,ID0BEpe,EAAAkb,EC1BmB,CAChC,CACEmD,MAAO,OACPzO,KAAM,OACN0O,KAAMvH,EAAAC,EAAAC,cAAC+D,GAAD,OAER,CACEqD,MAAO,SACPzO,KAAM,SACN0O,KAAMvH,EAAAC,EAAAC,cAAC+E,GAAD,OAER,CACEqC,MAAO,YACPzO,KAAM,YACN0O,KAAMvH,EAAAC,EAAAC,cAAC2G,GAAD,OAER,CACES,MAAO,gBACPzO,KAAM,gBACN0O,KAAMvH,EAAAC,EAAAC,cAACoG,GAAD,SAGGkB,GAAoB,CAC/B,CACEF,MAAO,SACPzO,KAAM,eACN0O,KAAMvH,EAAAC,EAAAC,cAACwE,GAAD,OAER,CACE4C,MAAO,KACPzO,KAAM,sBACN0O,KAAMvH,EAAAC,EAAAC,cAACsF,GAAD,OAER,CACE8B,MAAO,KACPzO,KAAM,oBACN0O,KAAMvH,EAAAC,EAAAC,cAAC6F,GAAD,QAKH,SAAS0B,GAAT5X,GAIJ,IAHD6X,EAGC7X,EAHD6X,MACAJ,EAECzX,EAFDyX,MAECK,EAAA9X,EADD1E,IAEA,MAAO,CACLuc,QACA/W,KAAM,CAAEzB,cAHT,IAAAyY,EADKL,EACLK,GAICJ,KAAMvH,EAAAC,EAAAC,cAACkH,GAAD,MACNE,QACAzO,KAAM,kiBC1DV,IAAM+O,GAASrK,IAAOS,OAAV6J,KACD,SAAAhY,GAAA,OAAAA,EAAG6X,OAAqB,WACnB,SAAA5X,GAAA,OAAAA,EAAG,gBAAgD,UAAY,eAKlE,SAAAE,GAAA,OAAAA,EAAG,gBAAgD,EAAI,KA+DrD8X,OA7Cf,SAAA7X,GASG,IARDyX,EAQCzX,EARDyX,MACAH,EAOCtX,EAPDsX,KACAQ,EAMC9X,EAND8X,SACAT,EAKCrX,EALDqX,MACAU,EAIC/X,EAJD+X,SACAnP,EAGC5I,EAHD4I,KACAlI,EAECV,EAFDU,KACG6N,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAqH,EAAA,8DACKgY,EAAc,SAAC9P,GACnBA,EAAM+P,iBACNF,EAASnP,EAAMlI,IAOjB,OACEqP,EAAAC,EAAAC,cAAC0H,GAADhf,OAAAma,OAAA,CACE9B,aAAYqG,EACZa,eAAcJ,EACdL,MAAOA,EACPU,UAVkB,SAACjQ,GACH,MAAdA,EAAMhN,KAA6B,UAAdgN,EAAMhN,KAC7B8c,EAAY9P,IASZkQ,YAAaJ,EACbpH,SAAS,KACLrC,GAEH+I,GAAQD,gMCpDf,IAAMhK,GAAYC,IAAOC,IAAV8K,MAmCAC,OA3Bf,SAAA1Y,GAIG,IAHD2Y,EAGC3Y,EAHD2Y,aACAC,EAEC5Y,EAFD4Y,YACAT,EACCnY,EADDmY,SAEA,OACEhI,EAAAC,EAAAC,cAACwI,GAAD,KACGF,EAAa5Y,IAAI,SAAC+Y,GAAD,OAChB3I,EAAAC,EAAAC,cAAC0I,GAADhgB,OAAAma,OAAA,CACEgF,SAAUU,EAAYE,GACtBxd,IAAKwd,EAAYrB,MACjBU,SAAUA,GACNW,uMClBd,IAAME,GAAoBtL,IAAOC,IAAVsL,KAGP,SAAAjZ,GAAA,OAAAA,EAAGkZ,UAA4B,UAAY,WAiF5CC,OAxER,SAAAlZ,GAMJ,IALDmZ,EAKCnZ,EALDmZ,iBACAxO,EAIC3K,EAJD2K,YACAsO,EAGCjZ,EAHDiZ,UACAjI,EAEChR,EAFDgR,SACGtC,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAkH,EAAA,2DACKoZ,EAA0BpK,sBAC9B,SAAC7D,GACC,IAAMS,EAAqBV,GAAkBP,EAAaQ,GAC1D6F,EAASpF,IAEX,CAACoF,EAAUrG,IAGP0O,EAAwBrK,sBAC5B,SAAC3R,GAAyB,IAAdwD,EAAcmM,UAAAtS,OAAA,QAAAN,IAAA4S,UAAA,GAAAA,UAAA,GAAP,GACXsM,EAAkBjO,GAAgBV,EAAatN,EAAWwD,GAChEmQ,EAASsI,IAEX,CAACtI,EAAUrG,IAGPY,EAAgBC,GAAiBb,GACjC4O,EAAmBvK,sBACvB,SAAC6J,GAAD,OAAiBpN,GAAaF,EAAesN,EAAY9P,OACpD2C,GAAaH,EAAesN,EAAYhY,MAAQ,KACrD,CAAC0K,IAGGiO,EAAe7O,EAAY8O,wBAC3BC,EAAmB1K,sBACvB,SAAC6J,GAAD,OAAiBW,EAAanZ,IAAIwY,EAAY9P,OAC9C,CAACyQ,IAGH,OACEtJ,EAAAC,EAAAC,cAAC2I,GAADjgB,OAAAma,OAAA,CACEgG,UAAWA,GACPvK,GAEJwB,EAAAC,EAAAC,cAACuJ,GAAD,CACEjB,aAAcnB,GACd5M,YAAaA,EACbgO,YAAae,EACbxB,SAAUkB,IAEZlJ,EAAAC,EAAAC,cAACuJ,GAAD,CACEjB,aAAchB,GACd/M,YAAaA,EACbgO,YAAaY,EACbrB,SAAUmB,IAEXF,EAAiBze,OAAS,GACzBwV,EAAAC,EAAAC,cAACuJ,GAAD,CACEjB,aAAcS,EACdxO,YAAaA,EACbgO,YAAaY,EACbrB,SAAUmB,iJCxEpB,IAAMO,GAAiBnM,IAAOoM,QAAVC,KACE,SAAA/Z,GAAA,OAAAA,EAAG6X,OAAqB,YAuB/BmC,OAnBf,SAAA/Z,GAGG,IAFDga,EAECha,EAFDga,WACGtL,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAkH,EAAA,gBACD,OACEkQ,EAAAC,EAAAC,cAACwJ,GAAD,CACEhC,MAAOoC,EAAWpC,OAElB1H,EAAAC,EAAAC,cAAC6J,EAAA,YAAgBvL,KCZRwL,QAAQ,SAACC,GAAD,OAAgB,SAACC,GAEtC,GAAa,eADAA,EAAa9c,UACC,CACzB,IAAMgO,EAAY8O,EAAa/a,UAEzBgb,EAAmBF,EAAWhO,KAClC,SAACmO,GAAD,OAAehP,EAAUjS,IAAI,cAAgBihB,EAAUjf,MAGzD,MAAO,CACLkf,UAAWR,GACXS,UAAU,EACVvf,MAAO,CACL2c,MAAOyC,GAAoBA,EAAiBzC,QAIhD,OAAO,wVCZX,IAAM6C,GAAkBhN,IAAOC,IAAVgN,MAIfC,GAA2BC,YAAHC,MAYvB,SAASC,GAAT/a,GAOJ,IANDoa,EAMCpa,EANDoa,WACAxP,EAKC5K,EALD4K,YACAoQ,EAIChb,EAJDgb,SACA/J,EAGCjR,EAHDiR,SACA3N,EAECtD,EAFDsD,YACGqL,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAiH,EAAA,kEACKib,EAAYnM,iBAAO,MACnBoM,EAAepM,iBAAO,MACtB2D,EfUO,SAA0B5B,GAAK,IAAAvB,EACFC,oBAAS,GADPC,EAAAzW,OAAA6L,EAAA,EAAA7L,CAAAuW,EAAA,GACrCmD,EADqCjD,EAAA,GACtBgD,EADsBhD,EAAA,GAU5C,OARAG,oBAAU,WAGR,OAFA4C,GAAoB1B,EAAK2B,GAElB,WACLI,GAAyB/B,KAE1B,IAEI4B,EepBe0I,CAAiBD,GAEjCE,EAAeC,kBACnB,kBAAMC,GAAgBlB,IACtB,CAACA,IAGGmB,EAAetM,sBAAY,SAACsK,GAChCtI,EAASsI,IACR,CAACtI,IAEEuK,EAAmBvM,sBAAY,SAACwM,EAASlC,GAC7C,IAAMmC,EAAWrQ,YAAUmQ,iBAAiBjC,EAAiBkC,GAC7D,OAAIC,GACFzK,EAASyK,GACF,WAEF,eACN,CAACzK,IAMJ,OACEd,EAAAC,EAAAC,cAACqK,GAAD3hB,OAAAma,OAAA,CACExC,QANsB,WACxBuK,EAAUtK,QAAQgL,SAMhB9K,IAAKqK,GACDvM,GAEJwB,EAAAC,EAAAC,cAACuK,GAAD,MACAzK,EAAAC,EAAAC,cAAC6J,EAAA,OAAD,CACE0B,gBAAiBR,EACjBxQ,YAAaA,EACb4Q,iBAAkBA,EAClBvK,SAAUsK,EACVjY,YAAaA,EACbuN,IAAKoK,KAELD,GACA7K,EAAAC,EAAAC,cAACwL,GAAD,CACEzC,iBAAkBgB,GAAcA,EAAWra,IAAI6X,IAC/ChN,YAAaA,EACbsO,UAAWzG,EACXxB,SAAUsK,KAkBpBR,GAAOe,aAAe,CACpB1B,WAAY,CACV,CACE3C,MAAO,OACP3W,KAAM,IAER,CACE2W,MAAO,UACPI,MAAO,QACPvc,IAAK,MAEP,CACEmc,MAAO,YACPI,MAAO,SACPvc,IAAK,QAEP,CACEmc,MAAO,cACPI,MAAO,MACPvc,IAAK,YAKIyf,8hBCpHf,IAAMgB,GAAUrO,IAAOsO,QAAVC,MAMPC,GAAaxO,IAAOyO,GAAVC,MAIVC,GAAmB3O,IAAOyO,GAAVG,MAOhBC,GAAe7O,YAAOqN,GAAPrN,CAAH8O,MAIlB,SAASC,GAATzc,GASG,IARD0c,EAQC1c,EARD0c,OAEA9R,GAMC5K,EAPDrE,QAOCqE,EAND4K,aACA1H,EAKClD,EALDkD,OACA8X,EAIChb,EAJDgb,SACA/J,EAGCjR,EAHDiR,SACA3N,EAECtD,EAFDsD,YACGqL,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAiH,EAAA,iFACD,OACEmQ,EAAAC,EAAAC,cAAC0L,GACKpN,EAEHqM,EACC7K,EAAAC,EAAAC,cAACgM,GAAD,KAAmBnZ,GAEnBiN,EAAAC,EAAAC,cAAC6L,GAAD,KAAahZ,GAEfiN,EAAAC,EAAAC,cAACkM,GAAD,CACE3R,YAAaA,EACboQ,SAAUA,EACV/J,SAAU,SAACsI,GACTtI,EAAS,CACPtV,QAASqP,GAA2BuO,GACpC3O,YAAa2O,KAGjBjW,YAAaA,IAEf6M,EAAAC,EAAAC,cAACsM,GAAeD,IAetBD,GAAWX,aAAe,CACxBY,OAAQ,EAAC,GAAO,GAAO,GAAO,IAGjBD,i0BCxEf,IAAMhP,GAAYC,IAAOC,IAAViP,MAITC,GAAkBnP,IAAOC,IAAVmP,MAIfC,GAASrP,IAAOsP,GAAVC,MAINC,GAAcxP,IAAOyP,MAAVC,MAMXC,GAAuB3P,IAAOC,IAAV2P,MAEpBC,GAAgB7P,IAAOyP,MAAVK,MAQbC,GAAmB/P,YAAO+O,GAAP/O,CAAHgQ,MAoEPC,OAhEf,SAAA3d,GAQG,IAPDqK,EAOCrK,EAPDqK,YAEAnH,GAKClD,EAND4d,SAMC5d,EALDkD,QACA2a,EAIC7d,EAJD6d,eACAC,EAGC9d,EAHD8d,iBACAC,EAEC/d,EAFD+d,aACGpP,EACF5V,OAAA6V,EAAA,EAAA7V,CAAAiH,EAAA,wFACKge,EAAqB/O,sBAAY,SAAAhP,GAAgB,IAAbhF,EAAagF,EAAbhF,OACxC4iB,EAAe,CAAE3kB,MAAO+B,EAAO/B,SAC9B,CAAC2kB,IAEEI,EAAmBhP,sBAAY,SAAA9O,GAAgB,IAAblF,EAAakF,EAAblF,OACtC6iB,EAAiB,OAAQ,CAAE5kB,MAAO+B,EAAO/B,SACxC,CAAC4kB,IACEI,EAAmBjP,sBAAY,SAAA7O,GAAgB,IAAbnF,EAAamF,EAAbnF,OACtC6iB,EAAiB,OAAQ,CAAE5kB,MAAO+B,EAAO/B,SACxC,CAAC4kB,IAEJ,OACE3N,EAAAC,EAAAC,cAAC8N,GACKxP,EAEJwB,EAAAC,EAAAC,cAACwM,GAAD,KACE1M,EAAAC,EAAAC,cAAC0M,GAAD,KACE5M,EAAAC,EAAAC,cAAC6M,GAADnkB,OAAAma,OAAA,CACE9B,aAAW,gBACXH,SAAU+M,EACV1a,YAAY,iBACRJ,KAGRiN,EAAAC,EAAAC,cAACgN,GAAD,KACElN,EAAAC,EAAAC,cAACkN,GAADxkB,OAAAma,OAAA,CACEjC,SAAUgN,GACN5T,EAAY,UAElB8F,EAAAC,EAAAC,cAACkN,GAADxkB,OAAAma,OAAA,CACEjC,SAAUiN,GACN7T,EAAY,YAItB8F,EAAAC,EAAAC,cAACoN,GAAD1kB,OAAAma,OAAA,CACE8H,UAAU,GACN+C,MCpFGK,GAAA,CACblb,OAAQ,CACNhK,MAAO,GACPoK,YAAa,iBAEfiE,gBAAiB,sBACjBrM,MAAO,CACL,CACEI,IAAK,OACLgI,YAAa,OACbpK,OAAO,IAAImlB,MAAOC,sBAEpB,CACEhjB,IAAK,OACLgI,YAAa,YACbpK,MAAO,KAGXiK,SAAU,CACR,CACE7H,IAAK,UACLohB,OAAQ,CACNvK,QAAQ,GAEVxW,QAAS,GACTuH,OAAQ,UACRqb,UAAU,EACVjb,YAAa,wGAEf,CACEhI,IAAK,oBACLohB,OAAQ,CACNtK,MAAM,GAERzW,QAAS,GACTuH,OAAQ,oBACRI,YAAa,6DAEf,CACEhI,IAAK,qBACLohB,OAAQ,CACNxK,OAAO,EACPE,MAAM,GAERzW,QAAS,GACTuH,OAAQ,qBACRI,YAAa,mGAEf,CACEhI,IAAK,WACLohB,OAAQ,CACNzK,KAAK,GAEPtW,QAAS,GACTuH,OAAQ,WACRI,YAAa,4GAEf,CACEhI,IAAK,yBACLohB,OAAQ,GACR/gB,QAAS,GACTuH,OAAQ,yBACRI,YAAa,iGAEf,CACEhI,IAAK,kBACLohB,OAAQ,CACNzK,KAAK,GAEPtW,QAAS,GACTuH,OAAQ,kBACRI,YAAa,0EAEf,CACEhI,IAAK,gBACLohB,OAAQ,CACNzK,KAAK,GAEPtW,QAAS,GACTuH,OAAQ,gBACRI,YAAa,4EAEf,CACEhI,IAAK,iBACLohB,OAAQ,GACR/gB,QAAS,GACTuH,OAAQ,iBACRI,YAAa,wFAEf,CACEhI,IAAK,eACLohB,OAAQ,CACNxK,OAAO,GAETvW,QAAS,GACTuH,OAAQ,eACRI,YAAa,kIAEf,CACEhI,IAAK,iBACLohB,OAAQ,CACNzK,KAAK,EACLC,OAAO,GAETvW,QAAS,GACTuH,OAAQ,iBACRI,YAAa,69CC9FnB,IAAMkb,GAAgB9Q,IAAOC,IAAV8Q,KACG,SAAAze,GAAA,OAAAA,EAAG6N,MAAkB6Q,iBACzB,SAAAze,GAAA,OAAAA,EAAG4N,MAAkBC,iBAuBjC2P,GAAmB/P,YAAO+O,GAAP/O,CAAHiR,KACP,SAAAxe,GAAA,OAAAA,EAAGyd,WAGZgB,GAAqBlR,YAAOiQ,GAAPjQ,CAAHmR,KACT,SAAAze,GAAA,OAAAA,EAAGwd,WAGZkB,GAAapR,YAAOc,GAAPd,CAAHqR,MAIVC,GAAyB,SAAC7b,GAAD,OAAcA,EAASf,OACpD,SAACC,EAAKyX,GAAN,OAAA/gB,OAAAuJ,EAAA,EAAAvJ,CAAA,GACKsJ,EADLtJ,OAAAC,EAAA,EAAAD,CAAA,GAEG+gB,EAAQxe,KvBhDiCuP,EuBgDGiP,EAAQne,QvBhDJmP,cAAYmU,kBAC/DlU,4BAAkBF,OADyB,IAACA,GuBkD5C,KAqFaqU,UAjFf,WACE,IAAMzX,ExBjDO,SAAAzH,GAEZ,IADDkG,EACClG,EADDkG,MAEMuB,EAAkB4T,kBACtB,kBAAM7T,EAA0BtB,IAChC,IAHDoJ,EAKyCC,qBAAtB4P,EALnBpmB,OAAA6L,EAAA,EAAA7L,CAAAuW,EAAA,MAeD,OATAK,oBAAU,WAGR,OAFAlI,EAAgB4B,YAAY8V,GAErB,WACL1X,EAAgB8B,oBAKb9B,EwBgCiB2X,CAAgB,CAAElZ,WAEpCmZ,EAAsBhE,kBAC1B,kBAAM2D,GAAuBvX,EAAgBtE,WAC7C,IAL2BmM,EAQWC,mBAAS8P,GARpB7P,EAAAzW,OAAA6L,EAAA,EAAA7L,CAAAuW,EAAA,GAQtBgQ,EARsB9P,EAAA,GAQR+P,EARQ/P,EAAA,GAiBvBgQ,EAAqB,WACzB,IAAMC,EAAmBzd,EAAUsd,EAAc,SAAChkB,EAAKsP,GAAN,OAAsBD,EACrEC,EACAnD,EAAgBkC,WAAWrO,GAAKK,WAElC4jB,EAAgBE,IAclB,OACEtP,EAAAC,EAAAC,cAACF,EAAAC,EAAMiC,SAAP,KACElC,EAAAC,EAAAC,cAACmO,GAAD,KACErO,EAAAC,EAAAC,cAACyO,GAAD,CACEhX,aAZmB,SAACC,GAC1BN,EAAgBK,aACdC,GACA2X,KACAF,IASI/Q,QAjBY,WAClBhH,EAAgB2B,QAChBoW,KAgBM9Q,SAAUjH,EAAgBoB,SAE1BpB,EAAgBtE,SAASpD,IAAI,SAAA4f,GAAmC,IAAhCpB,EAAgCoB,EAAhCpB,SAAUjjB,EAAsBqkB,EAAtBrkB,IAAQwe,EAAc/gB,OAAA6V,EAAA,EAAA7V,CAAA4mB,EAAA,oBAC1D5B,EAAYhlB,OAAAuJ,EAAA,EAAAvJ,CAAA,CAChB6R,YAAa0U,EAAahkB,GAC1B0f,SAAUuD,EACVtN,SAAU,SAAA2O,GAA8B,IAA3BjkB,EAA2BikB,EAA3BjkB,QAASiP,EAAkBgV,EAAlBhV,YACpBnD,EAAgBmC,cAActO,EAAK,CAAEK,YAxCnB,SAACL,EAAKsP,GAClC,IAAM6U,EAAgB1mB,OAAAuJ,EAAA,EAAAvJ,CAAA,GACjBumB,EADiBvmB,OAAAC,EAAA,EAAAD,CAAA,GAEnBuC,EAAMsP,IAET2U,EAAgBE,GAoCNI,CAAsBvkB,EAAKsP,KAE1BkP,GAEL,OAAIyE,EAEApO,EAAAC,EAAAC,cAACuO,GAAD,CACEhB,SAAUtiB,EACV4H,OAAQuE,EAAgBvE,OACxB5H,IAAKA,EACLuiB,eAAgBpW,EAAgBwC,aAChC6T,iBAAkBrW,EAAgB6C,eAClCD,YAAa5C,EAAgB4C,YAC7B0T,aAAcA,IAKhB5N,EAAAC,EAAAC,cAACyP,GAAD/mB,OAAAma,OAAA,CACE0K,SAAUtiB,EACVA,IAAKA,GACDyiB","file":"static/js/4.fb580f38.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stateToMarkdown = require('./stateToMarkdown');\n\nObject.defineProperty(exports, 'stateToMarkdown', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_stateToMarkdown).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.default = stateToMarkdown;\n\nvar _draftJsUtils = require('draft-js-utils');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar BOLD = _draftJsUtils.INLINE_STYLE.BOLD,\n    CODE = _draftJsUtils.INLINE_STYLE.CODE,\n    ITALIC = _draftJsUtils.INLINE_STYLE.ITALIC,\n    STRIKETHROUGH = _draftJsUtils.INLINE_STYLE.STRIKETHROUGH,\n    UNDERLINE = _draftJsUtils.INLINE_STYLE.UNDERLINE;\nvar CODE_INDENT = '    ';\nvar defaultOptions = {\n  gfm: false\n};\n\nvar MarkupGenerator = function () {\n  function MarkupGenerator(contentState, options) {\n    _classCallCheck(this, MarkupGenerator);\n\n    this.contentState = contentState;\n    this.options = options || defaultOptions;\n  }\n\n  _createClass(MarkupGenerator, [{\n    key: 'generate',\n    value: function generate() {\n      this.output = [];\n      this.blocks = this.contentState.getBlockMap().toArray();\n      this.totalBlocks = this.blocks.length;\n      this.currentBlock = 0;\n      this.listItemCounts = {};\n\n      while (this.currentBlock < this.totalBlocks) {\n        this.processBlock();\n      }\n\n      return this.output.join('');\n    }\n  }, {\n    key: 'processBlock',\n    value: function processBlock() {\n      var block = this.blocks[this.currentBlock];\n      var blockType = block.getType();\n\n      switch (blockType) {\n        case _draftJsUtils.BLOCK_TYPE.HEADER_ONE:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('# ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.HEADER_TWO:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('## ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.HEADER_THREE:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('### ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.HEADER_FOUR:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('#### ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.HEADER_FIVE:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('##### ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.HEADER_SIX:\n          {\n            this.insertLineBreaks(1);\n            this.output.push('###### ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:\n          {\n            var blockDepth = block.getDepth();\n            var lastBlock = this.getLastBlock();\n            var lastBlockType = lastBlock ? lastBlock.getType() : null;\n            var lastBlockDepth = lastBlock && canHaveDepth(lastBlockType) ? lastBlock.getDepth() : null;\n\n            if (lastBlockType !== blockType && lastBlockDepth !== blockDepth - 1) {\n              this.insertLineBreaks(1); // Insert an additional line break if following opposite list type.\n\n              if (lastBlockType === _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM) {\n                this.insertLineBreaks(1);\n              }\n            }\n\n            var indent = ' '.repeat(block.depth * 4);\n            this.output.push(indent + '- ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:\n          {\n            var _blockDepth = block.getDepth();\n\n            var _lastBlock = this.getLastBlock();\n\n            var _lastBlockType = _lastBlock ? _lastBlock.getType() : null;\n\n            var _lastBlockDepth = _lastBlock && canHaveDepth(_lastBlockType) ? _lastBlock.getDepth() : null;\n\n            if (_lastBlockType !== blockType && _lastBlockDepth !== _blockDepth - 1) {\n              this.insertLineBreaks(1); // Insert an additional line break if following opposite list type.\n\n              if (_lastBlockType === _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM) {\n                this.insertLineBreaks(1);\n              }\n            }\n\n            var _indent = ' '.repeat(_blockDepth * 4); // TODO: figure out what to do with two-digit numbers\n\n\n            var count = this.getListItemCount(block) % 10;\n            this.output.push(_indent + (count + '. ') + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.BLOCKQUOTE:\n          {\n            this.insertLineBreaks(1);\n            this.output.push(' > ' + this.renderBlockContent(block) + '\\n');\n            break;\n          }\n\n        case _draftJsUtils.BLOCK_TYPE.CODE:\n          {\n            this.insertLineBreaks(1);\n\n            if (this.options.gfm) {\n              var language = block.getData() && block.getData().get('language') ? block.getData().get('language') : '';\n              this.output.push('```' + language + '\\n');\n              this.output.push(this.renderBlockContent(block) + '\\n');\n              this.output.push('```\\n');\n            } else {\n              this.output.push(CODE_INDENT + this.renderBlockContent(block) + '\\n');\n            }\n\n            break;\n          }\n\n        default:\n          {\n            this.insertLineBreaks(1);\n            this.output.push(this.renderBlockContent(block) + '\\n');\n            break;\n          }\n      }\n\n      this.currentBlock += 1;\n    }\n  }, {\n    key: 'getLastBlock',\n    value: function getLastBlock() {\n      return this.blocks[this.currentBlock - 1];\n    }\n  }, {\n    key: 'getNextBlock',\n    value: function getNextBlock() {\n      return this.blocks[this.currentBlock + 1];\n    }\n  }, {\n    key: 'getListItemCount',\n    value: function getListItemCount(block) {\n      var blockType = block.getType();\n      var blockDepth = block.getDepth(); // To decide if we need to start over we need to backtrack (skipping list\n      // items that are of greater depth)\n\n      var index = this.currentBlock - 1;\n      var prevBlock = this.blocks[index];\n\n      while (prevBlock && canHaveDepth(prevBlock.getType()) && prevBlock.getDepth() > blockDepth) {\n        index -= 1;\n        prevBlock = this.blocks[index];\n      }\n\n      if (!prevBlock || prevBlock.getType() !== blockType || prevBlock.getDepth() !== blockDepth) {\n        this.listItemCounts[blockDepth] = 0;\n      }\n\n      return this.listItemCounts[blockDepth] = this.listItemCounts[blockDepth] + 1;\n    }\n  }, {\n    key: 'insertLineBreaks',\n    value: function insertLineBreaks(n) {\n      if (this.currentBlock > 0) {\n        for (var i = 0; i < n; i++) {\n          this.output.push('\\n');\n        }\n      }\n    }\n  }, {\n    key: 'renderBlockContent',\n    value: function renderBlockContent(block) {\n      var contentState = this.contentState;\n      var blockType = block.getType();\n      var text = block.getText();\n\n      if (text === '') {\n        // Prevent element collapse if completely empty.\n        // TODO: Replace with constant.\n        return \"\\u200B\";\n      }\n\n      var charMetaList = block.getCharacterList();\n      var entityPieces = (0, _draftJsUtils.getEntityRanges)(text, charMetaList);\n      return entityPieces.map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            entityKey = _ref2[0],\n            stylePieces = _ref2[1];\n\n        var content = stylePieces.map(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              text = _ref4[0],\n              style = _ref4[1]; // Don't allow empty inline elements.\n\n\n          if (!text) {\n            return '';\n          }\n\n          var content = text; // Don't encode any text inside a code block.\n\n          if (blockType === _draftJsUtils.BLOCK_TYPE.CODE) {\n            return content;\n          } // NOTE: We attempt some basic character escaping here, although\n          // I don't know if escape sequences are really valid in markdown,\n          // there's not a canonical spec to lean on.\n\n\n          if (style.has(CODE)) {\n            return '`' + encodeCode(content) + '`';\n          }\n\n          content = encodeContent(text);\n\n          if (style.has(BOLD)) {\n            content = '**' + content + '**';\n          }\n\n          if (style.has(UNDERLINE)) {\n            // TODO: encode `+`?\n            content = '++' + content + '++';\n          }\n\n          if (style.has(ITALIC)) {\n            content = '_' + content + '_';\n          }\n\n          if (style.has(STRIKETHROUGH)) {\n            // TODO: encode `~`?\n            content = '~~' + content + '~~';\n          }\n\n          return content;\n        }).join('');\n        var entity = entityKey ? contentState.getEntity(entityKey) : null;\n\n        if (entity != null && entity.getType() === _draftJsUtils.ENTITY_TYPE.LINK) {\n          var data = entity.getData();\n          var url = data.href || data.url || '';\n          var title = data.title ? ' \"' + escapeTitle(data.title) + '\"' : '';\n          return '[' + content + '](' + encodeURL(url) + title + ')';\n        } else if (entity != null && entity.getType() === _draftJsUtils.ENTITY_TYPE.IMAGE) {\n          var _data = entity.getData();\n\n          var src = _data.src || '';\n          var alt = _data.alt ? '' + escapeTitle(_data.alt) : '';\n          return '![' + alt + '](' + encodeURL(src) + ')';\n        } else {\n          return content;\n        }\n      }).join('');\n    }\n  }]);\n\n  return MarkupGenerator;\n}();\n\nfunction canHaveDepth(blockType) {\n  switch (blockType) {\n    case _draftJsUtils.BLOCK_TYPE.UNORDERED_LIST_ITEM:\n    case _draftJsUtils.BLOCK_TYPE.ORDERED_LIST_ITEM:\n      return true;\n\n    default:\n      return false;\n  }\n}\n\nfunction encodeContent(text) {\n  return text.replace(/[*_`]/g, '\\\\$&');\n}\n\nfunction encodeCode(text) {\n  return text.replace(/`/g, '\\\\`');\n} // Encode chars that would normally be allowed in a URL but would conflict with\n// our markdown syntax: `[foo](http://foo/)`\n\n\nfunction encodeURL(url) {\n  return url.replace(/\\)/g, '%29');\n} // Escape quotes using backslash.\n\n\nfunction escapeTitle(text) {\n  return text.replace(/\"/g, '\\\\\"');\n}\n\nfunction stateToMarkdown(content, options) {\n  return new MarkupGenerator(content, options).generate();\n}","import cloneDeep from 'lodash/cloneDeep'\nimport isArray from 'lodash/isArray'\nimport isFunction from 'lodash/isFunction'\nimport isObject from 'lodash/isObject'\nimport isPlainObject from 'lodash/isPlainObject'\nimport isRegExp from 'lodash/isRegExp'\nimport mergeWith from 'lodash/mergeWith'\n\n\nexport function mergeObjects(destination, source) {\n  if (isPlainObject(destination)) {\n    return mergeWith(\n      cloneDeep(destination),\n      source,\n      (destinationEntry, sourceEntry) => {\n        if (isArray(destinationEntry)) {\n          return sourceEntry\n        }\n        return undefined\n      }\n    )\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\nexport function deepMergeObjects(destination, source) {\n  const merged = mergeObjects(destination, source)\n  if (isPlainObject(merged)) {\n    return mapObject(merged, (key) => deepMergeObjects(\n      isPlainObject(destination) ? destination[key] : undefined,\n      isPlainObject(source) ? source[key] : undefined\n    ))\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\n\nexport function mapObject(object, callback) {\n  return Object.keys(object).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: callback(key, object[key]),\n    }),\n    {}\n  )\n}\n\nexport function mapEverything(object, callback) {\n  if (isArray(object)) {\n    return Array.prototype.map.call(object, (value, index) => callback(index, value))\n  } else if (isObject(object) && !isRegExp(object) && !isFunction(object)) {\n    return mapObject(object, callback)\n  } else {\n    return object\n  }\n}\n","import { mergeObjects } from 'utils/object'\n\nimport isArray from 'lodash/isArray'\nimport isNil from 'lodash/isNil'\nimport union from 'lodash/union'\n\n\nexport function forceArray(value) {\n  if (isArray(value)) {\n    return value\n  } else if (!isNil(value)) {\n    return [value]\n  } else {\n    return []\n  }\n}\n\nexport function getArrayObjectKeys(array, key) {\n  return array.map((entry) => entry && entry[key])\n}\n\nexport function mergeArraysByKey(destination, source, { key }) {\n  if (isArray(destination) && isArray(source)) {\n    const destinationKeyValues = getArrayObjectKeys(destination, key)\n    const sourceKeyValues = getArrayObjectKeys(source, key)\n    const mergedKeyValues = union(destinationKeyValues, sourceKeyValues)\n\n    return mergedKeyValues.map((keyValue) => {\n      const destinationEntry = destination[destinationKeyValues.indexOf(keyValue)]\n      const sourceEntry = source[sourceKeyValues.indexOf(keyValue)]\n\n      return mergeObjects(destinationEntry, sourceEntry)\n    })\n  } else if (isNil(source)) {\n    return destination\n  } else {\n    return source\n  }\n}\n","export default function modelToMarkdown(\n  {\n    header,\n    props,\n    sections,\n  }\n) {\n  return `# ${header.value}\n${props.map(({\n    key,\n    value,\n  }) => `${key}:${value ? ` ${value}` : ''}`).join('\\n')}\n\n${sections.map(({\n    key,\n    header: sectionHeader,\n    placeholder,\n    content,\n  }) => `## ${sectionHeader} {${key}}${placeholder ? `\n[${placeholder}]` : ''}${content ? `\n${content}` : ''}\n`).join('\\n')}\n`\n}\n","/* eslint-disable no-console */\n\nexport default {\n  log: console.log,\n  warn: console.warn,\n  error: console.error,\n}\n","\nconst mainHeaderRegex = /^\\s*#(?!#)\\s*(.*)$/\nconst anyHeaderRegex = /^\\s*#(.*)$/\nconst propertyRegex = /^\\s*(\\S+)\\s*:(.*)$/\nconst sectionHeaderRegex = /^\\s*##([^{]*){([^}]*)}(.*)$/\nconst placeholderRegex = /\\[(.*)\\S*\\]/\nconst placeholderStartRegex = /\\s*\\[(.*)/\nconst placeholderEndRegex = /^\\s*([^\\]]*)]/\n\n\nexport default function splitMarkdown(content) {\n  const lines = content.split('\\n')\n\n  const {\n    header,\n    index: headerIndex,\n  } = findHeader(lines)\n\n  const {\n    props,\n    lastIndex: lastPropIndex,\n  } = findProps(lines, headerIndex + 1)\n\n  const {\n    sections,\n  } = findSections(lines, lastPropIndex + 1)\n\n  return {\n    header,\n    props,\n    sections,\n  }\n}\n\nexport function findHeader(lines) {\n  let currentIndex = 0\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const headerMatch = currentLine.match(mainHeaderRegex)\n\n    if (headerMatch) {\n      const [/* fullMatch */, header] = headerMatch\n      return {\n        header: {\n          value: header.trim(),\n        },\n        index: currentIndex,\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    header: {\n      value: '',\n    },\n    index: -1,\n  }\n}\n\nexport function findProps(lines, startIndex) {\n  let currentIndex = startIndex\n  const props = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const propertyMatch = currentLine.match(propertyRegex)\n\n    if (propertyMatch) {\n      const [/* fullMatch */, key, value] = propertyMatch\n      props.push({\n        key: key.trim(),\n        value: value.trim(),\n      })\n    } else if (currentLine.match(anyHeaderRegex)) {\n      break\n    }\n    currentIndex += 1\n  }\n\n  return {\n    props,\n    lastIndex: currentIndex - 1,\n  }\n}\n\nexport function findSections(lines, startIndex) {\n  let currentIndex = startIndex\n  const sections = []\n\n  while (currentIndex < lines.length) {\n    let currentLine = lines[currentIndex]\n    const sectionHeaderMatch = currentLine.match(sectionHeaderRegex)\n\n    if (sectionHeaderMatch) {\n      const [/* fullMatch */, preHeader, key, postHeader] = sectionHeaderMatch\n\n      const header = `${preHeader.trim()} ${postHeader.trim()}`.trim()\n\n      const {\n        placeholder,\n        index: placeholderIndex,\n      } = findPlaceholderText(lines, currentIndex + 1)\n\n      currentIndex = placeholderIndex + 1 || currentIndex + 1\n      const content = []\n\n      while (currentIndex < lines.length && !(lines[currentIndex + 1] || '').match(sectionHeaderRegex)) {\n        currentLine = lines[currentIndex]\n        content.push(currentLine)\n        currentIndex += 1\n      }\n\n      sections.push({\n        key: key.trim(),\n        header,\n        placeholder,\n        content: content.join('\\n').trim(),\n      })\n    }\n    currentIndex += 1\n  }\n  return {\n    sections,\n  }\n}\n\nexport function findPlaceholderText(lines, startIndex) {\n  let currentIndex = startIndex\n  const placeholderLines = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex].trim()\n\n    if (placeholderLines.length === 0) {\n      const placeholderMatch = currentLine.match(placeholderRegex)\n      if (placeholderMatch) {\n        const [/* fullMatch */, placeholder] = placeholderMatch\n        return {\n          placeholder: placeholder.trim(),\n          index: currentIndex,\n        }\n      } else {\n        const placeholderStartMatch = currentLine.match(placeholderStartRegex)\n        if (placeholderStartMatch) {\n          const [/* fullMatch */, placeholder] = placeholderStartMatch\n          placeholderLines.push(placeholder.trim())\n        } else if (currentLine !== '') {\n          break\n        }\n      }\n    } else if (placeholderLines.length > 0) {\n      const placeholderEndMatch = currentLine.match(placeholderEndRegex)\n\n      if (placeholderEndMatch) {\n        const [/* fullMatch */, placeholder] = placeholderEndMatch\n        placeholderLines.push(placeholder.trim())\n        return {\n          placeholder: placeholderLines.join('\\n'),\n          index: currentIndex,\n        }\n      } else {\n        placeholderLines.push(currentLine)\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    placeholder: '',\n    index: -1,\n  }\n}\n","\nimport { getArrayObjectKeys, mergeArraysByKey } from 'utils/array'\nimport { deepMergeObjects } from 'utils/object'\nimport logger from 'utils/logger'\n\nimport without from 'lodash/without'\n\nimport splitMarkdown from './splitMarkdown'\n\n\nexport default function markdownToModel(model, markdown) {\n  try {\n    const nextModel = splitMarkdown(markdown)\n\n    const modelSectionKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelSectionKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidSectionKeys = without(\n      modelSectionKeys,\n      ...defaultModelSectionKeys\n    )\n    if (invalidSectionKeys.length > 0) {\n      logger.warn('Unexpected sections found:', invalidSectionKeys)\n      invalidSectionKeys.forEach((invalidSectionKey) => {\n        delete nextModel.sections[invalidSectionKey]\n      })\n    }\n\n    const modelPropertyKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelPropertyKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidPropertyKeys = without(\n      modelPropertyKeys,\n      ...defaultModelPropertyKeys\n    )\n    if (invalidPropertyKeys.length > 0) {\n      logger.warn('Unexpected props found:', invalidPropertyKeys)\n      invalidPropertyKeys.forEach((invalidPropertyKey) => {\n        delete nextModel.sections[invalidPropertyKey]\n      })\n    }\n\n    nextModel.sections = mergeArraysByKey(\n      model.sections,\n      nextModel.sections,\n      { key: 'key' }\n    )\n\n    nextModel.props = mergeArraysByKey(\n      model.props,\n      nextModel.props,\n      { key: 'key' }\n    )\n\n    const mergedModel = deepMergeObjects(\n      model,\n      nextModel,\n      { arrayKey: 'key' },\n    )\n    return mergedModel\n  } catch (error) {\n    logger.error('Parsing model failed')\n    logger.error(error)\n  }\n  return model\n}\n","import { getArrayObjectKeys } from 'utils/array'\nimport isPlainObject from 'lodash/isPlainObject'\nimport findIndex from 'lodash/findIndex'\nimport debounce from 'lodash/debounce'\nimport FileSaver from 'file-saver'\n\nimport modelToMarkdown from './modelToMarkdown'\nimport markdownToModel from './markdownToModel'\n\nconst storeLocal = debounce((model) => {\n  localStorage.setItem(model.localStorageKey, modelToMarkdown(model))\n  localStorage.setItem('isInited', 'true')\n}, 250)\n\n\nexport default function getMarkdownSyncApi({\n  model,\n}) {\n  if (!isPlainObject(model)) {\n    throw new Error('Model must be provided: useMarkdownSync({ model })')\n  }\n\n  let currentModel = model\n  let onModelChange\n  const handleModelChange = (nextModel) => {\n    currentModel = nextModel\n    storeLocal(nextModel)\n    if (onModelChange) {\n      onModelChange(nextModel)\n    }\n  }\n\n  const markdownSyncApi = {\n    loadFromFile(file) {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader()\n        fileReader.onload = (event) => {\n          markdownSyncApi.loadMarkdown(\n            event.target.result\n          )\n          resolve()\n        }\n        fileReader.onerror = reject\n        fileReader.readAsText(file)\n      })\n    },\n    loadFromLocalStorage() {\n      markdownSyncApi.loadMarkdown(\n        localStorage.getItem(model.localStorageKey)\n      )\n    },\n    loadMarkdown(markdown) {\n      if (markdown) {\n        handleModelChange(\n          markdownToModel(model, markdown)\n        )\n      }\n    },\n    saveAs() {\n      const blob = new Blob([modelToMarkdown(currentModel)], { type: 'text/plain;charset=utf-8' })\n      const fileName = `business model canvas - ${currentModel.header.value.substr(0, 20).replace(/[^a-zA-Z0-9]+/g, ' ')}.txt`\n      FileSaver.saveAs(blob, fileName)\n    },\n    reset() {\n      handleModelChange(model)\n    },\n\n    setOnChange(nextOnModelChange) {\n      onModelChange = nextOnModelChange\n    },\n    removeOnChange() {\n      onModelChange = null\n    },\n\n    get SECTION_KEYS() {\n      return getArrayObjectKeys(model.sections, 'key')\n    },\n    get sections() {\n      return currentModel.sections\n    },\n    getSectionIndex(key) {\n      return findIndex(markdownSyncApi.sections, ['key', key])\n    },\n    getSection(key) {\n      return markdownSyncApi.sections[\n        markdownSyncApi.getSectionIndex(key)\n      ]\n    },\n    updateSection(key, sectionUpdate) {\n      if (!isPlainObject(sectionUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateSection(key: string, sectionUpdate: object)')\n      }\n      const index = markdownSyncApi.getSectionIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Section with key \"${key}\" not available in model`, model)\n      }\n      const currentSection = currentModel.sections[index]\n      const nextSections = Array.from(currentModel.sections)\n      nextSections[index] = {\n        ...currentSection,\n        ...sectionUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        sections: nextSections,\n      })\n    },\n\n    get header() {\n      return currentModel.header\n    },\n    updateHeader(headerUpdate) {\n      if (!isPlainObject(headerUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(headerUpdate: object)')\n      }\n      handleModelChange({\n        ...currentModel,\n        header: {\n          ...currentModel.header,\n          ...headerUpdate,\n        },\n      })\n    },\n\n    get PROP_KEYS() {\n      return getArrayObjectKeys(model.props, 'key')\n    },\n    get props() {\n      return currentModel.props\n    },\n    getPropertyIndex(key) {\n      return findIndex(markdownSyncApi.props, ['key', key])\n    },\n    getProperty(key) {\n      return markdownSyncApi.props[\n        markdownSyncApi.getPropertyIndex(key)\n      ]\n    },\n    updateProperty(key, propertyUpdate) {\n      if (!isPlainObject(propertyUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(key: string, propertyUpdate: object)')\n      }\n\n      const index = markdownSyncApi.getPropertyIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Property with key \"${key}\" not available in model`, model)\n      }\n      const currentProperty = currentModel.props[index]\n      const nextProps = Array.from(currentModel.props)\n      nextProps[index] = {\n        ...currentProperty,\n        ...propertyUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        props: nextProps,\n      })\n    },\n  }\n\n  return markdownSyncApi\n}\n","import { useEffect, useMemo, useState } from 'react'\n\nimport getMarkdownSyncApi from 'utils/getMarkdownSyncApi'\n\n\nconst getInitialMarkdownSyncApi = (model) => {\n  const markdownSyncApi = getMarkdownSyncApi({ model })\n  markdownSyncApi.loadFromLocalStorage()\n  return markdownSyncApi\n}\n\nexport default function useMarkdownSync({\n  model,\n}) {\n  const markdownSyncApi = useMemo(\n    () => getInitialMarkdownSyncApi(model),\n    []\n  )\n  const [/* value */, triggerRenderCycle] = useState()\n  useEffect(() => {\n    markdownSyncApi.setOnChange(triggerRenderCycle)\n\n    return function cleanup() {\n      markdownSyncApi.removeOnChange()\n    }\n  })\n\n\n  return markdownSyncApi\n}\n","import { EditorState, Modifier, RichUtils } from 'draft-js'\nimport { stateFromMarkdown } from 'draft-js-import-markdown'\nimport { stateToMarkdown } from 'draft-js-export-markdown'\n\n\nexport const createEditorStateFromMarkdown = (md) => EditorState.createWithContent(\n  stateFromMarkdown(md)\n)\nexport const updateEditorStateWithMarkdown = (editorState, md) => EditorState.push(\n  editorState,\n  stateFromMarkdown(md)\n)\nexport const getMarkdownFromEditorState = (editorState) => stateToMarkdown(\n  editorState.getCurrentContent(),\n  { gfm: true }\n)\n\n\nexport const toggleInlineStyle = (editorState, inlineStyle) => RichUtils.toggleInlineStyle(\n  editorState,\n  inlineStyle\n)\n\nexport const toggleBlockType = (editorState, blockType, blockData) => {\n  const selectedBlock = getSelectedBlock(editorState)\n\n  if (hasBlockType(selectedBlock, blockType) && !hasBlockData(selectedBlock, blockData)) {\n    return setBlockData(editorState, blockData)\n  }\n  const toggledEditorState = RichUtils.toggleBlockType(\n    editorState,\n    blockType\n  )\n  return setBlockData(toggledEditorState, blockData)\n}\n\nexport const getSelectedBlock = (editorState) => editorState.getCurrentContent().getBlockForKey(\n  editorState.getSelection().getStartKey()\n)\n\nexport const hasBlockType = (block, blockType) => block.getType() === blockType\n\nexport const hasBlockData = (block, blockData) => {\n  const currentBlockData = block.getData()\n  const blockDataKeys = Object.keys(blockData)\n  if (currentBlockData.size !== blockDataKeys.length) {\n    return false\n  }\n  const missingKey = blockDataKeys.find((key) => blockData[key] !== currentBlockData.get(key))\n  return !missingKey\n}\n\nexport const setBlockData = (editorState, data) => {\n  const nextContentState = Modifier.setBlockData(\n    editorState.getCurrentContent(),\n    editorState.getSelection(),\n    data\n  )\n  return EditorState.push(\n    editorState,\n    nextContentState,\n    'change-block-data'\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { supports } from 'utils/environment'\n\n\nconst requestFullscreen = (element = document.documentElement) => {\n  if (element.requestFullscreen) {\n    element.requestFullscreen()\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen()\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT || {})\n  }\n}\nconst exitFullscreen = () => {\n  if (document.exitFullscreen) {\n    document.exitFullscreen()\n  } else if (document.mozExitFullscreen) {\n    document.mozExitFullscreen()\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen()\n  }\n}\nconst getIsFullscreen = () => Boolean(document.fullscreenElement || document.webkitCurrentFullScreenElement)\nconst toggleFullscreen = () => {\n  if (!getIsFullscreen()) {\n    requestFullscreen()\n  } else if (document.exitFullscreen) {\n    exitFullscreen()\n  }\n}\n\nexport default function useFullscreen() {\n  const [isFullscreen, setIsFullscreen] = useState(getIsFullscreen())\n  useEffect(() => {\n    const handleFullscreenChange = () => setIsFullscreen(getIsFullscreen())\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange)\n    document.addEventListener('mozfullscreenchange', handleFullscreenChange)\n\n    return function cleanup() {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    }\n  }, [setIsFullscreen])\n\n  return {\n    isFullscreen,\n    isFullscreenSupported: supports.fullscreen,\n    toggleFullscreen,\n  }\n}\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport { platform, mode } from 'utils/environment'\nimport useFullscreen from 'hooks/useFullscreen'\nimport { push } from 'hooks/useSimpleRouter'\n\n\nconst itemStyles = `\n  margin-top: -0.5em;\n  margin-right: 1px;\n  padding: 0.5em 1em;\n  position: relative;\n  &:last-child {\n    margin-right: -0.5em;\n  }\n\n  &:not(:last-child)::after {\n    background: currentColor;\n    bottom: 0.6em;\n    content: '';\n    position: absolute;\n    right: -1px;\n    top: 0.6em;\n    width: 1px;\n  }\n`\nconst Container = styled.div`\n  background-color: ${(props) => props.theme.pageBackground};\n  padding: 0 0.5em;\n  text-align: right;\n\n  @media print {\n    display: none;\n  }\n`\n\nconst HiddenForm = styled.form`\n  display: block;\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n`\nconst MenuButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  line-height: inherit;\n  text-transform: uppercase;\n\n  &:hover,\n  &:focus {\n    background: #DDDDDD;\n    outline: none;\n  }\n\n  ${itemStyles}\n`\nconst Notice = styled.span`\n  color: #999999;\n  display: inline-block;\n\n  ${itemStyles}\n`\n\nfunction Menu({\n  loadFromFile,\n  onReset,\n  onSaveAs,\n  ...otherProps\n}) {\n  const importFormRef = useRef()\n  const importInputRef = useRef()\n  const handleReset = useCallback(() => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm('Are you sure to reject all your changes?')) {\n      onReset()\n    }\n  }, [onReset])\n  const handleHelp = useCallback(() => {\n    push('/')\n  }, [])\n\n  const {\n    isFullscreen,\n    isFullscreenSupported,\n    toggleFullscreen,\n  } = useFullscreen()\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      {(platform.isIos && !mode.isStandalone) && (\n        <Notice>Install this webapp: Tap share button and &#34;Add to Home Screen&#34;</Notice>\n      )}\n      {(!platform.isIos && isFullscreenSupported) && (\n        <MenuButton\n          onClick={toggleFullscreen}\n        >\n          {isFullscreen ? 'Exit full screen' : 'full screen'}\n        </MenuButton>\n      )}\n      <MenuButton\n        onClick={onSaveAs}\n      >\n        Save to file\n      </MenuButton>\n      <MenuButton\n        onClick={() => importInputRef.current.click()}\n      >\n        Import from file\n        <HiddenForm\n          ref={importFormRef}\n        >\n          <input\n            accept=\"text/plain, text/markdown\"\n            aria-hidden={true}\n            tabIndex=\"-1\"\n            type=\"file\"\n            onChange={({ target }) => {\n              loadFromFile(target.files[0])\n\n              // clear value to allow to import from same path again\n              importFormRef.current.reset()\n            }}\n            ref={importInputRef}\n          />\n        </HiddenForm>\n      </MenuButton>\n      <MenuButton\n        onClick={handleReset}\n      >\n        Create new canvas\n      </MenuButton>\n      <MenuButton\n        onClick={window.print}\n      >\n        Print\n      </MenuButton>\n      <MenuButton\n        aria-label=\"Help\"\n        onClick={handleHelp}\n      >\n        ?\n      </MenuButton>\n    </Container>\n  )\n}\n\nMenu.propTypes = {\n  onReset: PropTypes.func.isRequired,\n  onSaveAs: PropTypes.func.isRequired,\n  loadFromFile: PropTypes.func.isRequired,\n}\n\nexport default Menu\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst AreaBorderBase = styled.div`\n  position: absolute;\n  border-color: ${({ theme }) => theme.borderColor};\n  border-style: none;\n  border-width: 1px;\n\n  @media print {\n    border-width: 2px;\n  }\n`\n\nconst BORDER_GAP = '0.75em'\nconst AreaBorderTop = styled(AreaBorderBase)`\n  border-top-style: solid;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n  top: 0;\n`\nconst AreaBorderRight = styled(AreaBorderBase)`\n  border-right-style: solid;\n  bottom: ${BORDER_GAP};\n  right: 0;\n  top: ${BORDER_GAP};\n`\nconst AreaBorderBottom = styled(AreaBorderBase)`\n  border-bottom-style: solid;\n  bottom: 0;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n`\nconst AreaBorderLeft = styled(AreaBorderBase)`\n  border-left-style: solid;\n  bottom: ${BORDER_GAP};\n  left: 0;\n  top: ${BORDER_GAP};\n`\n\nfunction AreaBorder({\n  top,\n  right,\n  bottom,\n  left,\n}) {\n  return (\n    <React.Fragment>\n      {top && <AreaBorderTop />}\n      {right && <AreaBorderRight />}\n      {bottom && <AreaBorderBottom />}\n      {left && <AreaBorderLeft />}\n    </React.Fragment>\n  )\n}\n\nAreaBorder.propTypes = {\n  top: PropTypes.bool,\n  right: PropTypes.bool,\n  bottom: PropTypes.bool,\n  left: PropTypes.bool,\n}\n\nexport default AreaBorder\n","import { useEffect, useState } from 'react'\n\nimport remove from 'lodash/remove'\n\n\nlet watchers = []\n\nconst addToGlobalHandlers = (ref, setIsFocusWithin) => {\n  watchers.push({\n    isFocusWithin: false,\n    ref,\n    setIsFocusWithin,\n  })\n  if (Object.keys(watchers).length === 1) {\n    document.body.addEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.addEventListener('keydown', checkIfFocusIsWithin)\n    document.body.addEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst removeFromGlobalHandlers = (ref) => {\n  remove(watchers, (watcher) => watcher.ref === ref)\n\n  if (Object.keys(watchers).length === 0) {\n    document.body.removeEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keydown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst checkIfFocusIsWithin = ({ target }) => {\n  watchers = watchers.map((watcher) => {\n    const currentElement = watcher.ref.current\n    if (!currentElement) {\n      return watcher\n    }\n    const isFocusWithin = currentElement.contains(target)\n    if (watcher.isFocusWithin === isFocusWithin) {\n      return watcher\n    } else {\n      watcher.setIsFocusWithin(isFocusWithin)\n      return {\n        ...watcher,\n        isFocusWithin,\n      }\n    }\n  })\n}\n\nexport default function useIsFocusWithin(ref) {\n  const [isFocusWithin, setIsFocusWithin] = useState(false)\n  useEffect(() => {\n    addToGlobalHandlers(ref, setIsFocusWithin)\n\n    return function cleanup() {\n      removeFromGlobalHandlers(ref)\n    }\n  }, [])\n\n  return isFocusWithin\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatBold = function SvgFormatBold(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatBold.8680cb7c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z\"\n});\n\nvar SvgFormatSize = function SvgFormatSize(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatSize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatSize.e53198a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"\n});\n\nvar SvgFormatItalic = function SvgFormatItalic(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatItalic, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatItalic.33a74485.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgFormatListBulleted = function SvgFormatListBulleted(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListBulleted, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListBulleted.421c3226.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatListNumbered = function SvgFormatListNumbered(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListNumbered, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListNumbered.84ff2b73.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z\"\n});\n\nvar SvgFormatStrikethrough = function SvgFormatStrikethrough(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatStrikethrough, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatStrikethrough.ea62c122.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"\n});\n\nvar SvgFormatUnderlined = function SvgFormatUnderlined(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatUnderlined, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatUnderlined.4725a735.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgNote = function SvgNote(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgNote, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/note.e8e466e6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport { ReactComponent as FormatBold } from 'icons/formatBold.svg'\nimport { ReactComponent as FormatHeader } from 'icons/formatSize.svg'\nimport { ReactComponent as FormatItalic } from 'icons/formatItalic.svg'\nimport { ReactComponent as FormatListBulleted } from 'icons/formatListBulleted.svg'\nimport { ReactComponent as FormatListNumbered } from 'icons/formatListNumbered.svg'\nimport { ReactComponent as FormatStrikethrough } from 'icons/formatStrikethrough.svg'\nimport { ReactComponent as FormatUnderlined } from 'icons/formatUnderlined.svg'\nimport { ReactComponent as Note } from 'icons/note.svg'\n\n\nexport const inlineControlTypes = [\n  {\n    label: 'Bold',\n    type: 'BOLD',\n    icon: <FormatBold />,\n  },\n  {\n    label: 'Italic',\n    type: 'ITALIC',\n    icon: <FormatItalic />,\n  },\n  {\n    label: 'Underline',\n    type: 'UNDERLINE',\n    icon: <FormatUnderlined />,\n  },\n  {\n    label: 'Strikethrough',\n    type: 'STRIKETHROUGH',\n    icon: <FormatStrikethrough />,\n  },\n]\nexport const blockControlTypes = [\n  {\n    label: 'Header',\n    type: 'header-three',\n    icon: <FormatHeader />,\n  },\n  {\n    label: 'UL',\n    type: 'unordered-list-item',\n    icon: <FormatListBulleted />,\n  },\n  {\n    label: 'OL',\n    type: 'ordered-list-item',\n    icon: <FormatListNumbered />,\n  },\n]\n\n// we use the type 'code-block' and the 'language' data entry to be able to convert it to markdown syntax.\nexport function getCardType({\n  color,\n  label,\n  key = label,\n}) {\n  return {\n    color,\n    data: { language: key },\n    icon: <Note />,\n    label,\n    type: 'code-block',\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst Button = styled.button`\n  color: ${({ color }) => color || 'inherit'};\n  background: ${({ 'aria-pressed': ariaPressed }) => ariaPressed ? '#DDDDDD' : 'transparent'};;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n  display: flex;\n  opacity: ${({ 'aria-pressed': ariaPressed }) => ariaPressed ? 1 : 0.5};\n  padding: 0.25em;\n\n  &:hover, &:focus {\n    background: #DDDDDD;\n  }\n  &:first-child {\n    padding-left: 0.4em;\n    border-top-left-radius: 0.75em;\n    border-bottom-left-radius: 0.75em;\n  }\n  &:last-child {\n    padding-left: 0.4em;\n    border-top-right-radius: 0.75em;\n    border-bottom-right-radius: 0.75em;\n  }\n`\n\nfunction StyleButton({\n  color,\n  icon,\n  isActive,\n  label,\n  onToggle,\n  type,\n  data,\n  ...otherProps\n}) {\n  const handleClick = (event) => {\n    event.preventDefault()\n    onToggle(type, data)\n  }\n  const handleKeyDown = (event) => {\n    if (event.key === ' ' || event.key === 'Enter') {\n      handleClick(event)\n    }\n  }\n  return (\n    <Button\n      aria-label={label}\n      aria-pressed={isActive}\n      color={color}\n      onKeyDown={handleKeyDown}\n      onMouseDown={handleClick}\n      tabIndex=\"0\"\n      {...otherProps}\n    >\n      {icon || label}\n    </Button>\n  )\n}\n\nStyleButton.propTypes = {\n  color: PropTypes.string,\n  data: PropTypes.object,\n  icon: PropTypes.node,\n  isActive: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n}\n\n\nexport default StyleButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport StyleButton from './StyleButton'\n\n\nconst Container = styled.div`\n  background: #EEEEEE;\n  border-radius: 0.75em;\n  display: flex;\n  margin-right: 0.5em;\n  margin-top: 0.25em;\n`\n\nfunction BlockStyleControls({\n  controlTypes,\n  getIsActive,\n  onToggle,\n}) {\n  return (\n    <Container>\n      {controlTypes.map((controlType) => (\n        <StyleButton\n          isActive={getIsActive(controlType)}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </Container>\n  )\n}\n\nBlockStyleControls.propTypes = {\n  controlTypes: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired),\n  getIsActive: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default BlockStyleControls\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { getSelectedBlock, hasBlockData, hasBlockType, toggleInlineStyle, toggleBlockType } from 'utils/editor'\nimport styled from 'styled-components'\n\nimport ControlsGroup from './ControlsGroup'\nimport { inlineControlTypes, blockControlTypes } from '../controlTypes'\n\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  visibility: ${({ isVisible }) => isVisible ? 'visible' : 'hidden'};\n  z-index: 2;\n\n  @media print {\n    display: none;\n  }\n`\n\n\nexport function Controls({\n  cardControlTypes,\n  editorState,\n  isVisible,\n  onChange,\n  ...otherProps\n}) {\n  const handleToggleInlineStyle = useCallback(\n    (inlineStyle) => {\n      const toggledEditorState = toggleInlineStyle(editorState, inlineStyle)\n      onChange(toggledEditorState)\n    },\n    [onChange, editorState]\n  )\n\n  const handleToggleBlockType = useCallback(\n    (blockType, data = {}) => {\n      const nextEditorState = toggleBlockType(editorState, blockType, data)\n      onChange(nextEditorState)\n    },\n    [onChange, editorState]\n  )\n\n  const selectedBlock = getSelectedBlock(editorState)\n  const getIsActiveBlock = useCallback(\n    (controlType) => hasBlockType(selectedBlock, controlType.type)\n      && hasBlockData(selectedBlock, controlType.data || {}),\n    [selectedBlock]\n  )\n\n  const currentStyle = editorState.getCurrentInlineStyle()\n  const getIsActiveStyle = useCallback(\n    (controlType) => currentStyle.has(controlType.type),\n    [currentStyle]\n  )\n\n  return (\n    <ControlsContainer\n      isVisible={isVisible}\n      {...otherProps}\n    >\n      <ControlsGroup\n        controlTypes={inlineControlTypes}\n        editorState={editorState}\n        getIsActive={getIsActiveStyle}\n        onToggle={handleToggleInlineStyle}\n      />\n      <ControlsGroup\n        controlTypes={blockControlTypes}\n        editorState={editorState}\n        getIsActive={getIsActiveBlock}\n        onToggle={handleToggleBlockType}\n      />\n      {cardControlTypes.length > 0 && (\n        <ControlsGroup\n          controlTypes={cardControlTypes}\n          editorState={editorState}\n          getIsActive={getIsActiveBlock}\n          onToggle={handleToggleBlockType}\n        />\n      )}\n    </ControlsContainer>\n  )\n}\n\nControls.propTypes = {\n  cardControlTypes: PropTypes.array,\n  editorState: PropTypes.object.isRequired,\n  isVisible: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default Controls\n","\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { EditorBlock } from 'draft-js'\n\n\nconst SectionElement = styled.section`\n  background-color: ${({ color }) => color || '#EEEEEE'};\n  padding: 0.5em;\n`\n\nfunction Card({\n  blockProps,\n  ...otherProps\n}) {\n  return (\n    <SectionElement\n      color={blockProps.color}\n    >\n      <EditorBlock {...otherProps} />\n    </SectionElement>\n  )\n}\n\nCard.propTypes = {\n  blockProps: PropTypes.shape({\n    color: PropTypes.string,\n  }).isRequired,\n}\n\nexport default Card\n","import memoize from 'lodash/memoize'\n\nimport Card from './components/Card'\n\n\n/**\n * We highjack the github flavored markup style for code blocks with language data to display our colored cards.\n */\nexport default memoize((cardStyles) => (contentBlock) => {\n  const type = contentBlock.getType()\n  if (type === 'code-block') {\n    const blockData = contentBlock.getData()\n\n    const currentCardStyle = cardStyles.find(\n      (cardStyle) => blockData.get('language') === cardStyle.key\n    )\n\n    return {\n      component: Card,\n      editable: true,\n      props: {\n        color: currentCardStyle && currentCardStyle.color,\n      },\n    }\n  } else {\n    return null\n  }\n})\n","import React, { useCallback, useMemo, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Editor as DraftJsEditor, RichUtils } from 'draft-js'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport useIsFocusWithin from 'hooks/useIsFocusWithin'\nimport { getCardType } from './controlTypes'\n\nimport Controls from './components/Controls'\nimport getCardRenderer from './getCardRenderer'\n\nimport 'draft-js/dist/Draft.css'\n\n\nconst EditorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst GlobalDraftJsEditorStyle = createGlobalStyle`\n  .DraftEditor-root {\n    flex: 1;\n  }\n  .public-DraftEditorPlaceholder-inner {\n    @media print {\n      display: none;\n    }\n  }\n`\n\n\nexport function Editor({\n  cardStyles,\n  editorState,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  const editorRef = useRef(null)\n  const containerRef = useRef(null)\n  const isFocusWithin = useIsFocusWithin(containerRef)\n\n  const cardRenderer = useMemo(\n    () => getCardRenderer(cardStyles),\n    [cardStyles]\n  )\n\n  const handleChange = useCallback((nextEditorState) => {\n    onChange(nextEditorState)\n  }, [onChange])\n\n  const handleKeyCommand = useCallback((command, nextEditorState) => {\n    const newState = RichUtils.handleKeyCommand(nextEditorState, command)\n    if (newState) {\n      onChange(newState)\n      return 'handled'\n    }\n    return 'not-handled'\n  }, [onChange])\n\n  const handleEditorClick = () => {\n    editorRef.current.focus()\n  }\n\n  return (\n    <EditorContainer // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n      onClick={handleEditorClick}\n      ref={containerRef}\n      {...otherProps}\n    >\n      <GlobalDraftJsEditorStyle />\n      <DraftJsEditor\n        blockRendererFn={cardRenderer}\n        editorState={editorState}\n        handleKeyCommand={handleKeyCommand}\n        onChange={handleChange}\n        placeholder={placeholder}\n        ref={editorRef}\n      />\n      {!isSimple && (\n        <Controls\n          cardControlTypes={cardStyles && cardStyles.map(getCardType)}\n          editorState={editorState}\n          isVisible={isFocusWithin}\n          onChange={handleChange}\n        />\n      )}\n    </EditorContainer>\n  )\n}\n\nEditor.propTypes = {\n  cardStyles: PropTypes.arrayOf(PropTypes.shape({\n    color: PropTypes.string,\n    key: PropTypes.string,\n    label: PropTypes.string.isRequired,\n  })),\n  editorState: PropTypes.object.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\nEditor.defaultProps = {\n  cardStyles: [\n    {\n      label: 'Card',\n      data: {},\n    },\n    {\n      label: 'Card OK',\n      color: 'green',\n      key: 'ok',\n    },\n    {\n      label: 'Card Warn',\n      color: 'orange',\n      key: 'warn',\n    },\n    {\n      label: 'Card Not OK',\n      color: 'red',\n      key: 'not ok',\n    },\n  ],\n}\n\nexport default Editor\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { getMarkdownFromEditorState } from 'utils/editor'\n\nimport AreaBorder from 'components/AreaBorder'\nimport Editor from 'components/Editor'\n\n\nconst AreaBox = styled.article`\n  display: flex;\n  flex-direction: column;\n  padding: 0.75rem;\n  position: relative;\n`\nconst AreaHeader = styled.h2`\n  font-size: 1.4em;\n  margin: 0 0 0.5rem 0;\n`\nconst HiddenAreaHeader = styled.h2`\n  position: absolute;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  text-indent: -999;\n`\nconst StyledEditor = styled(Editor)`\n  flex: 1;\n`\n\nfunction CanvasArea({\n  border,\n  content,\n  editorState,\n  header,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  return (\n    <AreaBox\n      {...otherProps}\n    >\n      {isSimple ? (\n        <HiddenAreaHeader>{header}</HiddenAreaHeader>\n      ) : (\n        <AreaHeader>{header}</AreaHeader>\n      )}\n      <StyledEditor\n        editorState={editorState}\n        isSimple={isSimple}\n        onChange={(nextEditorState) => {\n          onChange({\n            content: getMarkdownFromEditorState(nextEditorState),\n            editorState: nextEditorState,\n          })\n        }}\n        placeholder={placeholder}\n      />\n      <AreaBorder {...border} />\n    </AreaBox>\n  )\n}\n\nCanvasArea.propTypes = {\n  border: PropTypes.object,\n  content: PropTypes.string.isRequired,\n  editorState: PropTypes.object.isRequired,\n  header: PropTypes.string.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\nCanvasArea.defaultProps = {\n  border: [false, false, false, false],\n}\n\nexport default CanvasArea\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport CanvasArea from 'components/CanvasArea'\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst HeaderContainer = styled.div`\n  margin: 0.75em 0.75em 0 0.75em;\n  display: flex;\n`\nconst Header = styled.h1`\n  margin: 0;\n  flex: 1;\n`\nconst HeaderInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  width: 100%;\n`\nconst HeaderContainerRight = styled.div`\n`\nconst PropertyInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  text-align: right;\n  width: 20em;\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  flex: 1;\n`\n\nfunction CanvasHeader({\n  getProperty,\n  gridArea, /** ignore */\n  header,\n  onHeaderChange,\n  onPropertyChange,\n  sectionProps,\n  ...otherProps\n}) {\n  const handleHeaderChange = useCallback(({ target }) => {\n    onHeaderChange({ value: target.value })\n  }, [onHeaderChange])\n\n  const handleDateChange = useCallback(({ target }) => {\n    onPropertyChange('date', { value: target.value })\n  }, [onPropertyChange])\n  const handleNameChange = useCallback(({ target }) => {\n    onPropertyChange('name', { value: target.value })\n  }, [onPropertyChange])\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      <HeaderContainer>\n        <Header>\n          <HeaderInput\n            aria-label=\"Your Business\"\n            onChange={handleHeaderChange}\n            placeholder=\"Your Business\"\n            {...header}\n          />\n        </Header>\n        <HeaderContainerRight>\n          <PropertyInput\n            onChange={handleDateChange}\n            {...getProperty('date')}\n          />\n          <PropertyInput\n            onChange={handleNameChange}\n            {...getProperty('name')}\n          />\n        </HeaderContainerRight>\n      </HeaderContainer>\n      <StyledCanvasArea\n        isSimple={true}\n        {...sectionProps}\n      />\n    </Container>\n  )\n}\n\nCanvasHeader.propTypes = {\n  getProperty: PropTypes.func.isRequired,\n  gridArea: PropTypes.string,\n  header: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n  }).isRequired,\n  onHeaderChange: PropTypes.func.isRequired,\n  onPropertyChange: PropTypes.func.isRequired,\n  sectionProps: PropTypes.object.isRequired,\n}\n\nexport default CanvasHeader\n","\nexport default {\n  header: {\n    value: '',\n    placeholder: 'Your Business',\n  },\n  localStorageKey: 'businessModelCanvas',\n  props: [\n    {\n      key: 'date',\n      placeholder: 'Date',\n      value: new Date().toLocaleDateString(),\n    },\n    {\n      key: 'name',\n      placeholder: 'Your Name',\n      value: '',\n    },\n  ],\n  sections: [\n    {\n      key: 'purpose',\n      border: {\n        bottom: true,\n      },\n      content: '',\n      header: 'Purpose',\n      isHeader: true,\n      placeholder: 'Step 1:\\nWhat is the business purpose?\\nYou will need it to validate every single part of the model.',\n    },\n    {\n      key: 'customer-segments',\n      border: {\n        left: true,\n      },\n      content: '',\n      header: 'Customer Segments',\n      placeholder: 'Step 2:\\nWhich customers does your business try to serve?',\n    },\n    {\n      key: 'value-propositions',\n      border: {\n        right: true,\n        left: true,\n      },\n      content: '',\n      header: 'Value Propositions',\n      placeholder: 'Step 3:\\nWhich products and services a business offers meet the needs of the customer segments?',\n    },\n    {\n      key: 'channels',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Channels',\n      placeholder: 'Step 4:\\nWhich channels does your business use to deliver the value proposition to the customer segments',\n    },\n    {\n      key: 'customer-relationships',\n      border: { },\n      content: '',\n      header: 'Customer Relationships',\n      placeholder: 'Step 5:\\nWhich type relationship does your business want to create with the customer segments',\n    },\n    {\n      key: 'revenue-streams',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Revenue Streams',\n      placeholder: 'Step 6:\\nHow does your company make income from each customer segment?',\n    },\n    {\n      key: 'key-resources',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Key Resources',\n      placeholder: 'Step 7:\\nWhich resources are necessary to create the value propositions?',\n    },\n    {\n      key: 'key-activities',\n      border: { },\n      content: '',\n      header: 'Key Activities',\n      placeholder: 'Step 8:\\nWhat are the most important activities in executing the value propositions?',\n    },\n    {\n      key: 'key-partners',\n      border: {\n        right: true,\n      },\n      content: '',\n      header: 'Key Partners',\n      placeholder: 'Step 9:\\nWhich buyer-supplier relationships can help you to focus on your core activity, optimise operations and reduce risks?',\n    },\n    {\n      key: 'cost-structure',\n      border: {\n        top: true,\n        right: true,\n      },\n      content: '',\n      header: 'Cost Structure',\n      placeholder: 'Step 10:\\nWhat are the most important monetary consequences while operating under this business model?',\n    },\n  ],\n}\n","import React, { useMemo, useState } from 'react'\nimport useMarkdownSync from 'hooks/useMarkdownSync'\nimport styled from 'styled-components'\nimport { mapObject } from 'utils/object'\nimport { createEditorStateFromMarkdown, updateEditorStateWithMarkdown } from 'utils/editor'\n\nimport Menu from 'components/Menu'\nimport CanvasHeader from 'components/CanvasHeader'\nimport CanvasArea from 'components/CanvasArea'\n\nimport model from './model'\n\n\nconst GridContainer = styled.div`\n  background-color: ${({ theme }) => theme.paperBackground};\n  border-color: ${({ theme }) => theme.pageBackground};\n  border-style: solid;\n  border-width: 0.5em;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-template-rows: auto 0.5fr 1fr 1fr 1fr;\n  grid-template-areas:\n    \"menu menu menu menu menu menu menu menu menu menu\"\n    \"purpose purpose purpose purpose purpose purpose purpose purpose purpose purpose\"\n    \"key-partners key-partners key-activities key-activities value-propositions value-propositions customer-relationships customer-relationships customer-segments customer-segments\"\n    \"key-partners key-partners key-resources key-resources value-propositions value-propositions channels channels customer-segments customer-segments\"\n    \"cost-structure cost-structure cost-structure cost-structure cost-structure revenue-streams revenue-streams revenue-streams revenue-streams revenue-streams\";\n  margin: auto;\n\n  height: 100%;\n  width: 100%;\n  @media screen {\n    min-width: 90em;\n    min-height: 60em;\n  }\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledCanvasHeader = styled(CanvasHeader)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledMenu = styled(Menu)`\n  grid-area: menu;\n`\n\nconst getInitialEditorStates = (sections) => sections.reduce(\n  (acc, section) => ({\n    ...acc,\n    [section.key]: createEditorStateFromMarkdown(section.content),\n  }),\n  {}\n)\n\n\nfunction BusinessModelCanvas() {\n  const markdownSyncApi = useMarkdownSync({ model })\n\n  const initialEditorStates = useMemo(\n    () => getInitialEditorStates(markdownSyncApi.sections),\n    []\n  )\n\n  const [editorStates, setEditorStates] = useState(initialEditorStates)\n  const setSectionEditorState = (key, editorState) => {\n    const nextEditorStates = {\n      ...editorStates,\n      [key]: editorState,\n    }\n    setEditorStates(nextEditorStates)\n  }\n\n  const updateEditorStates = () => {\n    const nextEditorStates = mapObject(editorStates, (key, editorState) => updateEditorStateWithMarkdown(\n      editorState,\n      markdownSyncApi.getSection(key).content,\n    ))\n    setEditorStates(nextEditorStates)\n  }\n  const handleReset = () => {\n    markdownSyncApi.reset()\n    updateEditorStates()\n  }\n  const handleLoadFromFile = (file) => {\n    markdownSyncApi.loadFromFile(\n      file\n    ).then(\n      updateEditorStates\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <GridContainer>\n        <StyledMenu\n          loadFromFile={handleLoadFromFile}\n          onReset={handleReset}\n          onSaveAs={markdownSyncApi.saveAs}\n        />\n        {(markdownSyncApi.sections.map(({ isHeader, key, ...section }) => {\n          const sectionProps = {\n            editorState: editorStates[key],\n            isSimple: isHeader,\n            onChange: ({ content, editorState }) => {\n              markdownSyncApi.updateSection(key, { content })\n              setSectionEditorState(key, editorState)\n            },\n            ...section,\n          }\n          if (isHeader) {\n            return (\n              <StyledCanvasHeader\n                gridArea={key}\n                header={markdownSyncApi.header}\n                key={key}\n                onHeaderChange={markdownSyncApi.updateHeader}\n                onPropertyChange={markdownSyncApi.updateProperty}\n                getProperty={markdownSyncApi.getProperty}\n                sectionProps={sectionProps}\n              />\n            )\n          } else {\n            return (\n              <StyledCanvasArea\n                gridArea={key}\n                key={key}\n                {...sectionProps}\n              />\n            )\n          }\n        }))}\n      </GridContainer>\n    </React.Fragment>\n  )\n}\n\nexport default BusinessModelCanvas\n"],"sourceRoot":""}