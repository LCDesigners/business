{"version":3,"sources":["hooks/useSimpleRouter/index.js","utils/object/index.js","utils/array/index.js","utils/getMarkdownSyncApi/modelToMarkdown.js","utils/logger/index.js","utils/getMarkdownSyncApi/splitMarkdown.js","utils/getMarkdownSyncApi/markdownToModel.js","utils/getMarkdownSyncApi/index.js","hooks/useMarkdownSync/index.js","hooks/useIsFocusWithin/index.js","components/Editor/StyleButton.js","components/Editor/ControlsGroup.js","icons/formatBold.svg","icons/formatSize.svg","icons/formatItalic.svg","icons/formatListBulleted.svg","icons/formatListNumbered.svg","icons/formatQuote.svg","icons/formatStrikethrough.svg","icons/formatUnderlined.svg","components/Editor/controlTypes.js","components/Editor/BlockStyleControls.js","components/Editor/InlineStyleControls.js","components/Editor/Controls.js","components/Editor/index.js","hooks/useFullscreen/index.js","components/Menu/index.js","components/AreaBorder/index.js","components/CanvasArea/index.js","components/CanvasHeader/index.js","components/BusinessModelCanvas/model.js","components/BusinessModelCanvas/index.js","components/InfoPage/index.js","components/WelcomePage/index.js","components/App/theme.js","components/App/index.js","serviceWorker.js","index.js"],"names":["getUrl","window","location","hash","substr","push","url","arguments","length","undefined","concat","mergeObjects","destination","source","isPlainObject","mergeWith","cloneDeep","destinationEntry","sourceEntry","isArray","mapObject","object","callback","Object","keys","reduce","acc","key","objectSpread","defineProperty","getArrayObjectKeys","array","map","entry","mergeArraysByKey","_ref","destinationKeyValues","sourceKeyValues","union","keyValue","indexOf","isNil","modelToMarkdown","header","props","sections","value","_ref2","join","_ref3","sectionHeader","placeholder","content","logger","log","console","warn","error","mainHeaderRegex","anyHeaderRegex","propertyRegex","sectionHeaderRegex","placeholderRegex","placeholderStartRegex","placeholderEndRegex","splitMarkdown","lines","split","_findHeader","currentIndex","currentLine","headerMatch","match","_headerMatch","slicedToArray","trim","index","findHeader","_findProps","startIndex","propertyMatch","_propertyMatch","lastIndex","findProps","sectionHeaderMatch","_sectionHeaderMatch","preHeader","postHeader","_findPlaceholderText","findPlaceholderText","placeholderIndex","findSections","placeholderLines","placeholderMatch","placeholderStartMatch","placeholderEndMatch","markdownToModel","model","markdown","nextModel","modelSectionKeys","defaultModelSectionKeys","invalidSectionKeys","without","apply","toConsumableArray","forEach","invalidSectionKey","modelPropertyKeys","defaultModelPropertyKeys","invalidPropertyKeys","invalidPropertyKey","deepMergeObjects","merged","storeLocal","debounce","localStorage","setItem","localStorageKey","getInitialMarkdownSyncApi","markdownSyncApi","Error","onModelChange","currentModel","handleModelChange","loadFromFile","file","Promise","resolve","reject","fileReader","FileReader","onload","event","loadMarkdown","target","result","onerror","readAsText","loadFromLocalStorage","getItem","saveAs","blob","Blob","type","fileName","replace","FileSaver","reset","setOnChange","nextOnModelChange","removeOnChange","SECTION_KEYS","getSectionIndex","findIndex","getSection","updateSection","sectionUpdate","currentSection","nextSections","Array","from","updateHeader","headerUpdate","PROP_KEYS","getPropertyIndex","getProperty","updateProperty","propertyUpdate","currentProperty","nextProps","getMarkdownSyncApi","watchers","addToGlobalHandlers","ref","setIsFocusWithin","isFocusWithin","document","body","addEventListener","checkIfFocusIsWithin","removeFromGlobalHandlers","remove","watcher","removeEventListener","currentElement","current","contains","StyledStyleButton","styled","Icon","isActive","label","onToggle","style","otherProps","objectWithoutProperties","handleClick","preventDefault","react_default","a","createElement","assign","aria-label","aria-pressed","onKeyDown","onMouseDown","role","tabIndex","_templateObject","ControlsGroup","div","ControlsGroup_templateObject","_extends","i","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","formatBold_ref2","d","fill","formatBold_SvgFormatBold","svgRef","width","height","viewBox","ForwardRef","forwardRef","__webpack_require__","p","formatSize_extends","formatSize_objectWithoutProperties","formatSize_objectWithoutPropertiesLoose","formatSize_ref2","formatSize_ref3","formatSize_SvgFormatSize","formatSize_ForwardRef","formatItalic_extends","formatItalic_objectWithoutProperties","formatItalic_objectWithoutPropertiesLoose","formatItalic_ref2","formatItalic_ref3","formatItalic_SvgFormatItalic","formatItalic_ForwardRef","formatListBulleted_extends","formatListBulleted_objectWithoutProperties","formatListBulleted_objectWithoutPropertiesLoose","formatListBulleted_ref2","formatListBulleted_ref3","formatListBulleted_SvgFormatListBulleted","formatListBulleted_ForwardRef","formatListNumbered_extends","formatListNumbered_objectWithoutProperties","formatListNumbered_objectWithoutPropertiesLoose","formatListNumbered_ref2","formatListNumbered_ref3","formatListNumbered_SvgFormatListNumbered","formatListNumbered_ForwardRef","formatQuote_extends","formatQuote_objectWithoutProperties","formatQuote_objectWithoutPropertiesLoose","formatQuote_ref2","formatQuote_ref3","formatQuote_SvgFormatQuote","formatQuote_ForwardRef","formatStrikethrough_extends","formatStrikethrough_objectWithoutProperties","formatStrikethrough_objectWithoutPropertiesLoose","formatStrikethrough_ref2","formatStrikethrough_ref3","formatStrikethrough_SvgFormatStrikethrough","formatStrikethrough_ForwardRef","formatUnderlined_extends","formatUnderlined_objectWithoutProperties","formatUnderlined_objectWithoutPropertiesLoose","formatUnderlined_ref2","formatUnderlined_ref3","formatUnderlined_SvgFormatUnderlined","formatUnderlined_ForwardRef","blockControlTypes","FormatHeader","FormatQuote","FormatListBulleted","FormatListNumbered","inlineControlTypes","FormatBold","FormatItalic","FormatUnderlined","FormatStrikethrough","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","Editor_ControlsGroup","controlType","Editor_StyleButton","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","ControlsContainer","Controls_templateObject","isVisible","Controls","onChange","Editor_InlineStyleControls","inlineStyle","RichUtils","toggleInlineStyle","Editor_BlockStyleControls","toggleBlockType","EditorContainer","Editor_templateObject","GlobalDraftJsEditorStyle","createGlobalStyle","_templateObject2","Editor","isSimple","editorRef","useRef","containerRef","_useState","useState","_useState2","useEffect","useIsFocusWithin","handleChange","useCallback","nextEditorState","handleKeyCommand","command","newState","onClick","focus","Draft","Editor_Controls","createEditorStateFromMarkdown","md","EditorState","createWithContent","stateFromMarkdown","updateEditorStateWithMarkdown","getMarkdownFromEditorState","stateToMarkdown","getIsFullscreen","Boolean","fullscreenElement","toggleFullscreen","exitFullscreen","documentElement","requestFullscreen","Container","Menu_templateObject","theme","pageBackground","HiddenForm","form","Menu_templateObject2","MenuButton","button","_templateObject3","Menu","onReset","onSaveAs","importFormRef","importInputRef","handleReset","confirm","handleHelp","_useFullscreen","isFullscreen","setIsFullscreen","handleFullscreenChange","useFullscreen","click","accept","aria-hidden","files","print","AreaBorderBase","AreaBorder_templateObject","borderColor","AreaBorderTop","AreaBorder_templateObject2","AreaBorderRight","AreaBorder_templateObject3","AreaBorderBottom","_templateObject4","AreaBorderLeft","_templateObject5","AreaBorder","top","right","bottom","left","Fragment","AreaBox","article","CanvasArea_templateObject","AreaHeader","h2","CanvasArea_templateObject2","HiddenAreaHeader","CanvasArea_templateObject3","StyledEditor","CanvasArea_templateObject4","CanvasArea","border","components_AreaBorder","defaultProps","CanvasHeader_templateObject","HeaderContainer","CanvasHeader_templateObject2","Header","h1","CanvasHeader_templateObject3","HeaderInput","input","CanvasHeader_templateObject4","HeaderContainerRight","CanvasHeader_templateObject5","PropertyInput","_templateObject6","StyledCanvasArea","_templateObject7","CanvasHeader","gridArea","onHeaderChange","onPropertyChange","sectionProps","handleHeaderChange","handleDateChange","handleNameChange","_ref4","CanvasHeader_Container","BusinessModelCanvas_model","Date","toLocaleDateString","isHeader","GridContainer","BusinessModelCanvas_templateObject","paperBackground","BusinessModelCanvas_templateObject2","StyledCanvasHeader","BusinessModelCanvas_templateObject3","StyledMenu","BusinessModelCanvas_templateObject4","getInitialEditorStates","section","BusinessModelCanvas","useMemo","triggerRenderCycle","useMarkdownSync","initialEditorStates","editorStates","setEditorStates","updateEditorStates","nextEditorStates","then","_ref5","_ref6","setSectionEditorState","BusinessModelCanvas_StyledCanvasArea","InfoPage_templateObject","Box","InfoPage_templateObject2","InfoPage","children","InfoPage_Container","Li","li","WelcomePage_templateObject","A","attrs","rel","WelcomePage_templateObject2","Button","WelcomePage_templateObject3","Signature","WelcomePage_templateObject4","WelcomePage","esm_extends","components_InfoPage","href","GlobalStyle","App_templateObject","routes","Component","App","setUrl","handleHashChange","route","find","routeUrl","isRegExp","useSimpleRouter","styled_components_browser_esm","hostname","ReactDOM","render","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2cf4f274.chunk.js","sourcesContent":["import { useEffect, useMemo, useState } from 'react'\nimport isRegExp from 'lodash/isRegExp'\nimport isNil from 'lodash/isNil'\n\n\nexport const getUrl = () => {\n  const { hash } = window.location\n  return hash.substr(1)\n}\nexport const push = (url = '') => {\n  window.location = `#${url}`\n}\n\nexport default function useSimpleRouter(routes) {\n  const [url, setUrl] = useState(\n    useMemo(getUrl, [])\n  )\n  useEffect(() => {\n    const handleHashChange = () => {\n      setUrl(getUrl())\n    }\n    window.addEventListener('hashchange', handleHashChange)\n\n    return function cleanup() {\n      window.removeEventListener('hashchange', handleHashChange)\n    }\n  })\n\n  const result = useMemo(() => {\n    let match\n    const route = routes.find(({ url: routeUrl }) => {\n      if (isNil(routeUrl)) {\n        return true\n      } else {\n        if (isRegExp(routeUrl)) {\n          match = url.match(routeUrl)\n          return Boolean(match)\n        }\n        return routeUrl === url\n      }\n    })\n\n    return {\n      match,\n      push,\n      route: route || { url },\n    }\n  }, [routes, url])\n\n  return result\n}\n","import cloneDeep from 'lodash/cloneDeep'\nimport isArray from 'lodash/isArray'\nimport isFunction from 'lodash/isFunction'\nimport isObject from 'lodash/isObject'\nimport isPlainObject from 'lodash/isPlainObject'\nimport isRegExp from 'lodash/isRegExp'\nimport mergeWith from 'lodash/mergeWith'\n\n\nexport function mergeObjects(destination, source) {\n  if (isPlainObject(destination)) {\n    return mergeWith(\n      cloneDeep(destination),\n      source,\n      (destinationEntry, sourceEntry) => {\n        if (isArray(destinationEntry)) {\n          return sourceEntry\n        }\n        return undefined\n      }\n    )\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\nexport function deepMergeObjects(destination, source) {\n  const merged = mergeObjects(destination, source)\n  if (isPlainObject(merged)) {\n    return mapObject(merged, (key) => deepMergeObjects(\n      isPlainObject(destination) ? destination[key] : undefined,\n      isPlainObject(source) ? source[key] : undefined\n    ))\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\n\nexport function mapObject(object, callback) {\n  return Object.keys(object).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: callback(key, object[key]),\n    }),\n    {}\n  )\n}\n\nexport function mapEverything(object, callback) {\n  if (isArray(object)) {\n    return Array.prototype.map.call(object, (value, index) => callback(index, value))\n  } else if (isObject(object) && !isRegExp(object) && !isFunction(object)) {\n    return mapObject(object, callback)\n  } else {\n    return object\n  }\n}\n","import { mergeObjects } from 'utils/object'\n\nimport isArray from 'lodash/isArray'\nimport isNil from 'lodash/isNil'\nimport union from 'lodash/union'\n\n\nexport function forceArray(value) {\n  if (isArray(value)) {\n    return value\n  } else if (!isNil(value)) {\n    return [value]\n  } else {\n    return []\n  }\n}\n\nexport function getArrayObjectKeys(array, key) {\n  return array.map((entry) => entry && entry[key])\n}\n\nexport function mergeArraysByKey(destination, source, { key }) {\n  if (isArray(destination) && isArray(source)) {\n    const destinationKeyValues = getArrayObjectKeys(destination, key)\n    const sourceKeyValues = getArrayObjectKeys(source, key)\n    const mergedKeyValues = union(destinationKeyValues, sourceKeyValues)\n\n    return mergedKeyValues.map((keyValue) => {\n      const destinationEntry = destination[destinationKeyValues.indexOf(keyValue)]\n      const sourceEntry = source[sourceKeyValues.indexOf(keyValue)]\n\n      return mergeObjects(destinationEntry, sourceEntry)\n    })\n  } else if (isNil(source)) {\n    return destination\n  } else {\n    return source\n  }\n}\n","export default function modelToMarkdown(\n  {\n    header,\n    props,\n    sections,\n  }\n) {\n  return `# ${header.value}\n${props.map(({\n    key,\n    value,\n  }) => `${key}:${value ? ` ${value}` : ''}`).join('\\n')}\n\n${sections.map(({\n    key,\n    header: sectionHeader,\n    placeholder,\n    content,\n  }) => `## ${sectionHeader} {${key}}${placeholder ? `\n[${placeholder}]` : ''}${content ? `\n${content}` : ''}\n`).join('\\n')}\n`\n}\n","/* eslint-disable no-console */\n\nexport default {\n  log: console.log,\n  warn: console.warn,\n  error: console.error,\n}\n","\nconst mainHeaderRegex = /^\\s*#(?!#)\\s*(.*)$/\nconst anyHeaderRegex = /^\\s*#(.*)$/\nconst propertyRegex = /^\\s*(\\S+)\\s*:(.*)$/\nconst sectionHeaderRegex = /^\\s*##([^{]*){([^}]*)}(.*)$/\nconst placeholderRegex = /\\[(.*)\\S*\\]/\nconst placeholderStartRegex = /\\s*\\[(.*)/\nconst placeholderEndRegex = /^\\s*([^\\]]*)]/\n\n\nexport default function splitMarkdown(content) {\n  const lines = content.split('\\n')\n\n  const {\n    header,\n    index: headerIndex,\n  } = findHeader(lines)\n\n  const {\n    props,\n    lastIndex: lastPropIndex,\n  } = findProps(lines, headerIndex + 1)\n\n  const {\n    sections,\n  } = findSections(lines, lastPropIndex + 1)\n\n  return {\n    header,\n    props,\n    sections,\n  }\n}\n\nexport function findHeader(lines) {\n  let currentIndex = 0\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const headerMatch = currentLine.match(mainHeaderRegex)\n\n    if (headerMatch) {\n      const [/* fullMatch */, header] = headerMatch\n      return {\n        header: {\n          value: header.trim(),\n        },\n        index: currentIndex,\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    header: {\n      value: '',\n    },\n    index: -1,\n  }\n}\n\nexport function findProps(lines, startIndex) {\n  let currentIndex = startIndex\n  const props = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const propertyMatch = currentLine.match(propertyRegex)\n\n    if (propertyMatch) {\n      const [/* fullMatch */, key, value] = propertyMatch\n      props.push({\n        key: key.trim(),\n        value: value.trim(),\n      })\n    } else if (currentLine.match(anyHeaderRegex)) {\n      break\n    }\n    currentIndex += 1\n  }\n\n  return {\n    props,\n    lastIndex: currentIndex - 1,\n  }\n}\n\nexport function findSections(lines, startIndex) {\n  let currentIndex = startIndex\n  const sections = []\n\n  while (currentIndex < lines.length) {\n    let currentLine = lines[currentIndex]\n    const sectionHeaderMatch = currentLine.match(sectionHeaderRegex)\n\n    if (sectionHeaderMatch) {\n      const [/* fullMatch */, preHeader, key, postHeader] = sectionHeaderMatch\n\n      const header = `${preHeader.trim()} ${postHeader.trim()}`.trim()\n\n      const {\n        placeholder,\n        index: placeholderIndex,\n      } = findPlaceholderText(lines, currentIndex + 1)\n\n      currentIndex = placeholderIndex + 1 || currentIndex + 1\n      const content = []\n\n      while (currentIndex < lines.length && !(lines[currentIndex + 1] || '').match(sectionHeaderRegex)) {\n        currentLine = lines[currentIndex]\n        content.push(currentLine)\n        currentIndex += 1\n      }\n\n      sections.push({\n        key: key.trim(),\n        header,\n        placeholder,\n        content: content.join('\\n').trim(),\n      })\n    }\n    currentIndex += 1\n  }\n  return {\n    sections,\n  }\n}\n\nexport function findPlaceholderText(lines, startIndex) {\n  let currentIndex = startIndex\n  const placeholderLines = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex].trim()\n\n    if (placeholderLines.length === 0) {\n      const placeholderMatch = currentLine.match(placeholderRegex)\n      if (placeholderMatch) {\n        const [/* fullMatch */, placeholder] = placeholderMatch\n        return {\n          placeholder: placeholder.trim(),\n          index: currentIndex,\n        }\n      } else {\n        const placeholderStartMatch = currentLine.match(placeholderStartRegex)\n        if (placeholderStartMatch) {\n          const [/* fullMatch */, placeholder] = placeholderStartMatch\n          placeholderLines.push(placeholder.trim())\n        } else if (currentLine !== '') {\n          break\n        }\n      }\n    } else if (placeholderLines.length > 0) {\n      const placeholderEndMatch = currentLine.match(placeholderEndRegex)\n\n      if (placeholderEndMatch) {\n        const [/* fullMatch */, placeholder] = placeholderEndMatch\n        placeholderLines.push(placeholder.trim())\n        return {\n          placeholder: placeholderLines.join('\\n'),\n          index: currentIndex,\n        }\n      } else {\n        placeholderLines.push(currentLine)\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    placeholder: '',\n    index: -1,\n  }\n}\n","\nimport { getArrayObjectKeys, mergeArraysByKey } from 'utils/array'\nimport { deepMergeObjects } from 'utils/object'\nimport logger from 'utils/logger'\n\nimport without from 'lodash/without'\n\nimport splitMarkdown from './splitMarkdown'\n\n\nexport default function markdownToModel(model, markdown) {\n  try {\n    const nextModel = splitMarkdown(markdown)\n\n    const modelSectionKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelSectionKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidSectionKeys = without(\n      modelSectionKeys,\n      ...defaultModelSectionKeys\n    )\n    if (invalidSectionKeys.length > 0) {\n      logger.warn('Unexpected sections found:', invalidSectionKeys)\n      invalidSectionKeys.forEach((invalidSectionKey) => {\n        delete nextModel.sections[invalidSectionKey]\n      })\n    }\n\n    const modelPropertyKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelPropertyKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidPropertyKeys = without(\n      modelPropertyKeys,\n      ...defaultModelPropertyKeys\n    )\n    if (invalidPropertyKeys.length > 0) {\n      logger.warn('Unexpected props found:', invalidPropertyKeys)\n      invalidPropertyKeys.forEach((invalidPropertyKey) => {\n        delete nextModel.sections[invalidPropertyKey]\n      })\n    }\n\n    nextModel.sections = mergeArraysByKey(\n      model.sections,\n      nextModel.sections,\n      { key: 'key' }\n    )\n\n    nextModel.props = mergeArraysByKey(\n      model.props,\n      nextModel.props,\n      { key: 'key' }\n    )\n\n    const mergedModel = deepMergeObjects(\n      model,\n      nextModel,\n      { arrayKey: 'key' },\n    )\n    return mergedModel\n  } catch (error) {\n    logger.error('Parsing model failed')\n    logger.error(error)\n  }\n  return model\n}\n","import { getArrayObjectKeys } from 'utils/array'\nimport isPlainObject from 'lodash/isPlainObject'\nimport findIndex from 'lodash/findIndex'\nimport debounce from 'lodash/debounce'\nimport FileSaver from 'file-saver'\n\nimport modelToMarkdown from './modelToMarkdown'\nimport markdownToModel from './markdownToModel'\n\nconst storeLocal = debounce((model) => {\n  localStorage.setItem(model.localStorageKey, modelToMarkdown(model))\n  localStorage.setItem('isInited', 'true')\n}, 250)\n\n\nexport default function getMarkdownSyncApi({\n  model,\n}) {\n  if (!isPlainObject(model)) {\n    throw new Error('Model must be provided: useMarkdownSync({ model })')\n  }\n\n  let currentModel = model\n  let onModelChange\n  const handleModelChange = (nextModel) => {\n    currentModel = nextModel\n    storeLocal(nextModel)\n    if (onModelChange) {\n      onModelChange(nextModel)\n    }\n  }\n\n  const markdownSyncApi = {\n    loadFromFile(file) {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader()\n        fileReader.onload = (event) => {\n          markdownSyncApi.loadMarkdown(\n            event.target.result\n          )\n          resolve()\n        }\n        fileReader.onerror = reject\n        fileReader.readAsText(file)\n      })\n    },\n    loadFromLocalStorage() {\n      markdownSyncApi.loadMarkdown(\n        localStorage.getItem(model.localStorageKey)\n      )\n    },\n    loadMarkdown(markdown) {\n      if (markdown) {\n        handleModelChange(\n          markdownToModel(model, markdown)\n        )\n      }\n    },\n    saveAs() {\n      const blob = new Blob([modelToMarkdown(currentModel)], { type: 'text/plain;charset=utf-8' })\n      const fileName = `business model canvas - ${currentModel.header.value.substr(0, 20).replace(/[^a-zA-Z0-9]+/g, ' ')}.txt`\n      FileSaver.saveAs(blob, fileName)\n    },\n    reset() {\n      handleModelChange(model)\n    },\n\n    setOnChange(nextOnModelChange) {\n      onModelChange = nextOnModelChange\n    },\n    removeOnChange() {\n      onModelChange = null\n    },\n\n    get SECTION_KEYS() {\n      return getArrayObjectKeys(model.sections, 'key')\n    },\n    get sections() {\n      return currentModel.sections\n    },\n    getSectionIndex(key) {\n      return findIndex(markdownSyncApi.sections, ['key', key])\n    },\n    getSection(key) {\n      return markdownSyncApi.sections[\n        markdownSyncApi.getSectionIndex(key)\n      ]\n    },\n    updateSection(key, sectionUpdate) {\n      if (!isPlainObject(sectionUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateSection(key: string, sectionUpdate: object)')\n      }\n      const index = markdownSyncApi.getSectionIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Section with key \"${key}\" not available in model`, model)\n      }\n      const currentSection = currentModel.sections[index]\n      const nextSections = Array.from(currentModel.sections)\n      nextSections[index] = {\n        ...currentSection,\n        ...sectionUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        sections: nextSections,\n      })\n    },\n\n    get header() {\n      return currentModel.header\n    },\n    updateHeader(headerUpdate) {\n      if (!isPlainObject(headerUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(headerUpdate: object)')\n      }\n      handleModelChange({\n        ...currentModel,\n        header: {\n          ...currentModel.header,\n          ...headerUpdate,\n        },\n      })\n    },\n\n    get PROP_KEYS() {\n      return getArrayObjectKeys(model.props, 'key')\n    },\n    get props() {\n      return currentModel.props\n    },\n    getPropertyIndex(key) {\n      return findIndex(markdownSyncApi.props, ['key', key])\n    },\n    getProperty(key) {\n      return markdownSyncApi.props[\n        markdownSyncApi.getPropertyIndex(key)\n      ]\n    },\n    updateProperty(key, propertyUpdate) {\n      if (!isPlainObject(propertyUpdate)) {\n        throw new Error('Invalid arguments for markdownSyncApi.updateHeader(key: string, propertyUpdate: object)')\n      }\n\n      const index = markdownSyncApi.getPropertyIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Property with key \"${key}\" not available in model`, model)\n      }\n      const currentProperty = currentModel.props[index]\n      const nextProps = Array.from(currentModel.props)\n      nextProps[index] = {\n        ...currentProperty,\n        ...propertyUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        props: nextProps,\n      })\n    },\n  }\n\n  return markdownSyncApi\n}\n","import { useEffect, useMemo, useState } from 'react'\n\nimport getMarkdownSyncApi from 'utils/getMarkdownSyncApi'\n\n\nconst getInitialMarkdownSyncApi = (model) => {\n  const markdownSyncApi = getMarkdownSyncApi({ model })\n  markdownSyncApi.loadFromLocalStorage()\n  return markdownSyncApi\n}\n\nexport default function useMarkdownSync({\n  model,\n}) {\n  const markdownSyncApi = useMemo(\n    () => getInitialMarkdownSyncApi(model),\n    []\n  )\n  const [/* value */, triggerRenderCycle] = useState()\n  useEffect(() => {\n    markdownSyncApi.setOnChange(triggerRenderCycle)\n\n    return function cleanup() {\n      markdownSyncApi.removeOnChange()\n    }\n  })\n\n\n  return markdownSyncApi\n}\n","import { useEffect, useState } from 'react'\n\nimport remove from 'lodash/remove'\n\n\nlet watchers = []\n\nconst addToGlobalHandlers = (ref, setIsFocusWithin) => {\n  watchers.push({\n    isFocusWithin: false,\n    ref,\n    setIsFocusWithin,\n  })\n  if (Object.keys(watchers).length === 1) {\n    document.body.addEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.addEventListener('keydown', checkIfFocusIsWithin)\n    document.body.addEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst removeFromGlobalHandlers = (ref) => {\n  remove(watchers, (watcher) => watcher.ref === ref)\n\n  if (Object.keys(watchers).length === 0) {\n    document.body.removeEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keydown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst checkIfFocusIsWithin = ({ target }) => {\n  watchers = watchers.map((watcher) => {\n    const currentElement = watcher.ref.current\n    if (!currentElement) {\n      return watcher\n    }\n    const isFocusWithin = currentElement.contains(target)\n    if (watcher.isFocusWithin === isFocusWithin) {\n      return watcher\n    } else {\n      watcher.setIsFocusWithin(isFocusWithin)\n      return {\n        ...watcher,\n        isFocusWithin,\n      }\n    }\n  })\n}\n\nexport default function useIsFocusWithin(ref) {\n  const [isFocusWithin, setIsFocusWithin] = useState(false)\n  useEffect(() => {\n    addToGlobalHandlers(ref, setIsFocusWithin)\n\n    return function cleanup() {\n      removeFromGlobalHandlers(ref)\n    }\n  }, [])\n\n  return isFocusWithin\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst StyledStyleButton = styled(StyleButton)`\n  color: ${({ isActive }) => isActive ? 'inherit' : '#999999'};\n  cursor: pointer;\n  fill: currentColor;\n  padding: 0.25em;\n  &:hover, &:focus {\n    background: #DDDDDD;\n  }\n  &:first-child {\n    padding-left: 0.4em;\n    border-top-left-radius: 0.75em;\n    border-bottom-left-radius: 0.75em;\n  }\n  &:last-child {\n    padding-left: 0.4em;\n    border-top-right-radius: 0.75em;\n    border-bottom-right-radius: 0.75em;\n  }\n`\n\nfunction StyleButton({\n  Icon,\n  isActive,\n  label,\n  onToggle,\n  style,\n  ...otherProps\n}) {\n  const handleClick = (event) => {\n    event.preventDefault()\n    onToggle(style)\n  }\n  const handleKeyDown = (event) => {\n    if (event.key === ' ' || event.key === 'Enter') {\n      handleClick(event)\n    }\n  }\n  return (\n    <Icon\n      aria-label={label}\n      aria-pressed={isActive}\n      onKeyDown={handleKeyDown}\n      onMouseDown={handleClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      {...otherProps}\n    />\n  )\n}\n\nStyleButton.propTypes = {\n  Icon: PropTypes.any.isRequired, // TODO: validate react component\n  isActive: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  style: PropTypes.string.isRequired,\n}\n\n\nexport default StyledStyleButton\n","\nimport styled from 'styled-components'\n\n\nconst ControlsGroup = styled.div`\n  background: #EEEEEE;\n  border-radius: 0.75em;\n  display: flex;\n  margin-right: 0.5em;\n  margin-top: 0.25em;\n`\n\nexport default ControlsGroup\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatBold = function SvgFormatBold(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatBold.8680cb7c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z\"\n});\n\nvar SvgFormatSize = function SvgFormatSize(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatSize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatSize.e53198a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"\n});\n\nvar SvgFormatItalic = function SvgFormatItalic(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatItalic, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatItalic.33a74485.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgFormatListBulleted = function SvgFormatListBulleted(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListBulleted, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListBulleted.421c3226.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatListNumbered = function SvgFormatListNumbered(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListNumbered, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListNumbered.84ff2b73.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatQuote = function SvgFormatQuote(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatQuote, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatQuote.6743ecc4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z\"\n});\n\nvar SvgFormatStrikethrough = function SvgFormatStrikethrough(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatStrikethrough, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatStrikethrough.ea62c122.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"\n});\n\nvar SvgFormatUnderlined = function SvgFormatUnderlined(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatUnderlined, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatUnderlined.4725a735.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as FormatBold } from 'icons/formatBold.svg'\nimport { ReactComponent as FormatHeader } from 'icons/formatSize.svg'\nimport { ReactComponent as FormatItalic } from 'icons/formatItalic.svg'\nimport { ReactComponent as FormatListBulleted } from 'icons/formatListBulleted.svg'\nimport { ReactComponent as FormatListNumbered } from 'icons/formatListNumbered.svg'\nimport { ReactComponent as FormatQuote } from 'icons/formatQuote.svg'\nimport { ReactComponent as FormatStrikethrough } from 'icons/formatStrikethrough.svg'\nimport { ReactComponent as FormatUnderlined } from 'icons/formatUnderlined.svg'\n\n\nexport const blockControlTypes = [\n  {\n    label: 'Header',\n    style: 'header-three',\n    Icon: FormatHeader,\n  },\n  {\n    label: 'Blockquote',\n    style: 'blockquote',\n    Icon: FormatQuote,\n  },\n  {\n    label: 'UL',\n    style: 'unordered-list-item',\n    Icon: FormatListBulleted,\n  },\n  {\n    label: 'OL',\n    style: 'ordered-list-item',\n    Icon: FormatListNumbered,\n  },\n]\n\nexport const inlineControlTypes = [\n  {\n    label: 'Bold',\n    style: 'BOLD',\n    Icon: FormatBold,\n  },\n  {\n    label: 'Italic',\n    style: 'ITALIC',\n    Icon: FormatItalic,\n  },\n  {\n    label: 'Underline',\n    style: 'UNDERLINE',\n    Icon: FormatUnderlined,\n  },\n  {\n    label: 'Strikethrough',\n    style: 'STRIKETHROUGH',\n    Icon: FormatStrikethrough,\n  },\n]\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport StyleButton from './StyleButton'\nimport ControlsGroup from './ControlsGroup'\nimport { blockControlTypes } from './controlTypes'\n\n\nfunction BlockStyleControls({\n  editorState,\n  onToggle,\n}) {\n  const selection = editorState.getSelection()\n  const blockType = editorState.getCurrentContent()\n    .getBlockForKey(selection.getStartKey())\n    .getType()\n\n  return (\n    <ControlsGroup>\n      {blockControlTypes.map((controlType) => (\n        <StyleButton\n          isActive={controlType.style === blockType}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </ControlsGroup>\n  )\n}\n\nBlockStyleControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default BlockStyleControls\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport StyleButton from './StyleButton'\nimport ControlsGroup from './ControlsGroup'\nimport { inlineControlTypes } from './controlTypes'\n\n\nfunction InlineStyleControls({\n  editorState,\n  onToggle,\n}) {\n  const currentStyle = editorState.getCurrentInlineStyle()\n\n  return (\n    <ControlsGroup>\n      {inlineControlTypes.map((controlType) => (\n        <StyleButton\n          isActive={currentStyle.has(controlType.style)}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </ControlsGroup>\n  )\n}\n\nInlineStyleControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default InlineStyleControls\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RichUtils } from 'draft-js'\nimport styled from 'styled-components'\n\nimport BlockStyleControls from './BlockStyleControls'\nimport InlineStyleControls from './InlineStyleControls'\n\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  visibility: ${({ isVisible }) => isVisible ? 'visible' : 'hidden'};\n  z-index: 2;\n\n  @media print {\n    display: none;\n  }\n`\n\nexport function Controls({\n  editorState,\n  isVisible,\n  onChange,\n  ...otherProps\n}) {\n  const toggleInlineStyle = (inlineStyle) => {\n    onChange(\n      RichUtils.toggleInlineStyle(\n        editorState,\n        inlineStyle\n      )\n    )\n  }\n  const toggleBlockType = (blockType) => {\n    onChange(\n      RichUtils.toggleBlockType(\n        editorState,\n        blockType\n      )\n    )\n  }\n\n  return (\n    <ControlsContainer\n      isVisible={isVisible}\n      {...otherProps}\n    >\n      <InlineStyleControls\n        editorState={editorState}\n        onToggle={toggleInlineStyle}\n      />\n      <BlockStyleControls\n        editorState={editorState}\n        onToggle={toggleBlockType}\n      />\n    </ControlsContainer>\n  )\n}\n\nControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  isVisible: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default Controls\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Editor as DraftJsEditor, EditorState, RichUtils } from 'draft-js'\nimport { stateFromMarkdown } from 'draft-js-import-markdown'\nimport { stateToMarkdown } from 'draft-js-export-markdown'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport useIsFocusWithin from 'hooks/useIsFocusWithin'\n\nimport 'draft-js/dist/Draft.css'\nimport Controls from './Controls'\n\n\nconst EditorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst GlobalDraftJsEditorStyle = createGlobalStyle`\n  .DraftEditor-root {\n    flex: 1;\n  }\n  .public-DraftEditorPlaceholder-inner {\n    @media print {\n      display: none;\n    }\n  }\n`\n\nexport function Editor({\n  editorState,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  const editorRef = useRef(null)\n  const containerRef = useRef(null)\n  const isFocusWithin = useIsFocusWithin(containerRef)\n\n  const handleChange = useCallback((nextEditorState) => {\n    onChange(nextEditorState)\n  }, [onChange])\n\n  const handleKeyCommand = useCallback((command, nextEditorState) => {\n    const newState = RichUtils.handleKeyCommand(nextEditorState, command)\n    if (newState) {\n      onChange(newState)\n      return 'handled'\n    }\n    return 'not-handled'\n  }, [onChange])\n\n  const handleEditorClick = () => {\n    editorRef.current.focus()\n  }\n\n  return (\n    <EditorContainer // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n      onClick={handleEditorClick}\n      ref={containerRef}\n      {...otherProps}\n    >\n      <GlobalDraftJsEditorStyle />\n      <DraftJsEditor\n        editorState={editorState}\n        handleKeyCommand={handleKeyCommand}\n        onChange={handleChange}\n        placeholder={placeholder}\n        ref={editorRef}\n      />\n      {!isSimple && (\n        <Controls\n          editorState={editorState}\n          isVisible={isFocusWithin}\n          onChange={handleChange}\n        />\n      )}\n    </EditorContainer>\n  )\n}\n\nEditor.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\n\nEditor.createEditorStateFromMarkdown = (md) => EditorState.createWithContent(\n  stateFromMarkdown(md)\n)\nEditor.updateEditorStateWithMarkdown = (editorState, md) => EditorState.push(\n  editorState,\n  stateFromMarkdown(md)\n)\nEditor.getMarkdownFromEditorState = (editorState) => stateToMarkdown(\n  editorState.getCurrentContent()\n)\n\nexport default Editor\n","import { useEffect, useState } from 'react'\n\n\nconst getIsFullscreen = () => Boolean(document.fullscreenElement)\nconst toggleFullscreen = () => {\n  if (!getIsFullscreen()) {\n    document.documentElement.requestFullscreen()\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen()\n  }\n}\n\nexport default function useFullscreen() {\n  const [isFullscreen, setIsFullscreen] = useState(getIsFullscreen())\n  useEffect(() => {\n    const handleFullscreenChange = () => setIsFullscreen(getIsFullscreen())\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n\n    return function cleanup() {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    }\n  }, [setIsFullscreen])\n\n  return {\n    isFullscreen,\n    toggleFullscreen,\n  }\n}\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport useFullscreen from 'hooks/useFullscreen'\nimport { push } from 'hooks/useSimpleRouter'\n\n\nconst Container = styled.div`\n  background-color: ${(props) => props.theme.pageBackground};\n  padding: 0 0.5em;\n  text-align: right;\n\n  @media print {\n    display: none;\n  }\n`\n\nconst HiddenForm = styled.form`\n  display: block;\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n`\nconst MenuButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  line-height: inherit;\n  margin-top: -0.5em;\n  margin-right: 1px;\n  padding: 0.5em 1em;\n  position: relative;\n  text-transform: uppercase;\n\n  &:hover,\n  &:focus {\n    background: #DDDDDD;\n    outline: none;\n  }\n  &:last-child {\n    margin-right: -0.5em;\n  }\n  &:not(:last-child)::after {\n    background: currentColor;\n    bottom: 0.6em;\n    content: '';\n    position: absolute;\n    right: -1px;\n    top: 0.6em;\n    width: 1px;\n  }\n`\n\nfunction Menu({\n  loadFromFile,\n  onReset,\n  onSaveAs,\n  ...otherProps\n}) {\n  const importFormRef = useRef()\n  const importInputRef = useRef()\n  const handleReset = useCallback(() => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm('Are you sure to reject all your changes?')) {\n      onReset()\n    }\n  }, [onReset])\n  const handleHelp = useCallback(() => {\n    push('/')\n  }, [])\n\n  const {\n    isFullscreen,\n    toggleFullscreen,\n  } = useFullscreen()\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      <MenuButton\n        onClick={toggleFullscreen}\n      >\n        {isFullscreen ? 'Exit full screen' : 'full screen'}\n      </MenuButton>\n      <MenuButton\n        onClick={onSaveAs}\n      >\n        Save to file\n      </MenuButton>\n      <MenuButton\n        onClick={() => importInputRef.current.click()}\n      >\n        Import from file\n        <HiddenForm\n          ref={importFormRef}\n        >\n          <input\n            accept=\"text/plain, text/markdown\"\n            aria-hidden={true}\n            tabIndex=\"-1\"\n            type=\"file\"\n            onChange={({ target }) => {\n              loadFromFile(target.files[0])\n\n              // clear value to allow to import from same path again\n              importFormRef.current.reset()\n            }}\n            ref={importInputRef}\n          />\n        </HiddenForm>\n      </MenuButton>\n      <MenuButton\n        onClick={handleReset}\n      >\n        Create new canvas\n      </MenuButton>\n      <MenuButton\n        onClick={window.print}\n      >\n        Print\n      </MenuButton>\n      <MenuButton\n        aria-label=\"Help\"\n        onClick={handleHelp}\n      >\n        ?\n      </MenuButton>\n    </Container>\n  )\n}\n\nMenu.propTypes = {\n  onReset: PropTypes.func.isRequired,\n  onSaveAs: PropTypes.func.isRequired,\n  loadFromFile: PropTypes.func.isRequired,\n}\n\nexport default Menu\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst AreaBorderBase = styled.div`\n  position: absolute;\n  border-color: ${({ theme }) => theme.borderColor};\n  border-style: none;\n  border-width: 1px;\n\n  @media print {\n    border-width: 2px;\n  }\n`\n\nconst BORDER_GAP = '0.75em'\nconst AreaBorderTop = styled(AreaBorderBase)`\n  border-top-style: solid;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n  top: 0;\n`\nconst AreaBorderRight = styled(AreaBorderBase)`\n  border-right-style: solid;\n  bottom: ${BORDER_GAP};\n  right: 0;\n  top: ${BORDER_GAP};\n`\nconst AreaBorderBottom = styled(AreaBorderBase)`\n  border-bottom-style: solid;\n  bottom: 0;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n`\nconst AreaBorderLeft = styled(AreaBorderBase)`\n  border-left-style: solid;\n  bottom: ${BORDER_GAP};\n  left: 0;\n  top: ${BORDER_GAP};\n`\n\nfunction AreaBorder({\n  top,\n  right,\n  bottom,\n  left,\n}) {\n  return (\n    <React.Fragment>\n      {top && <AreaBorderTop />}\n      {right && <AreaBorderRight />}\n      {bottom && <AreaBorderBottom />}\n      {left && <AreaBorderLeft />}\n    </React.Fragment>\n  )\n}\n\nAreaBorder.propTypes = {\n  top: PropTypes.bool,\n  right: PropTypes.bool,\n  bottom: PropTypes.bool,\n  left: PropTypes.bool,\n}\n\nexport default AreaBorder\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport AreaBorder from 'components/AreaBorder'\nimport Editor from 'components/Editor'\n\n\nconst AreaBox = styled.article`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0.75rem;\n  position: relative;\n`\nconst AreaHeader = styled.h2`\n  font-size: 1.4em;\n  margin: 0 0 0.5rem 0;\n`\nconst HiddenAreaHeader = styled.h2`\n  position: absolute;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  text-indent: -999;\n`\nconst StyledEditor = styled(Editor)`\n  flex: 1;\n`\n\nfunction CanvasArea({\n  border,\n  content,\n  editorState,\n  header,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  return (\n    <AreaBox\n      {...otherProps}\n    >\n      {isSimple ? (\n        <HiddenAreaHeader>{header}</HiddenAreaHeader>\n      ) : (\n        <AreaHeader>{header}</AreaHeader>\n      )}\n      <StyledEditor\n        editorState={editorState}\n        isSimple={isSimple}\n        onChange={(nextEditorState) => {\n          onChange({\n            content: Editor.getMarkdownFromEditorState(nextEditorState),\n            editorState: nextEditorState,\n          })\n        }}\n        placeholder={placeholder}\n      />\n      <AreaBorder {...border} />\n    </AreaBox>\n  )\n}\n\nCanvasArea.propTypes = {\n  border: PropTypes.object,\n  content: PropTypes.string.isRequired,\n  editorState: PropTypes.object.isRequired,\n  header: PropTypes.string.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\nCanvasArea.defaultProps = {\n  border: [false, false, false, false],\n}\n\nexport default CanvasArea\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport CanvasArea from 'components/CanvasArea'\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst HeaderContainer = styled.div`\n  margin: 0.75em 0.75em 0 0.75em;\n  display: flex;\n`\nconst Header = styled.h1`\n  margin: 0;\n  flex: 1;\n`\nconst HeaderInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  width: 100%;\n`\nconst HeaderContainerRight = styled.div`\n`\nconst PropertyInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  text-align: right;\n  width: 20em;\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  flex: 1;\n`\n\nfunction CanvasHeader({\n  getProperty,\n  gridArea, /** ignore */\n  header,\n  onHeaderChange,\n  onPropertyChange,\n  sectionProps,\n  ...otherProps\n}) {\n  const handleHeaderChange = useCallback(({ target }) => {\n    onHeaderChange({ value: target.value })\n  }, [onHeaderChange])\n\n  const handleDateChange = useCallback(({ target }) => {\n    onPropertyChange('date', { value: target.value })\n  }, [onPropertyChange])\n  const handleNameChange = useCallback(({ target }) => {\n    onPropertyChange('name', { value: target.value })\n  }, [onPropertyChange])\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      <HeaderContainer>\n        <Header>\n          <HeaderInput\n            aria-label=\"Your Business\"\n            onChange={handleHeaderChange}\n            placeholder=\"Your Business\"\n            {...header}\n          />\n        </Header>\n        <HeaderContainerRight>\n          <PropertyInput\n            onChange={handleDateChange}\n            {...getProperty('date')}\n          />\n          <PropertyInput\n            onChange={handleNameChange}\n            {...getProperty('name')}\n          />\n        </HeaderContainerRight>\n      </HeaderContainer>\n      <StyledCanvasArea\n        isSimple={true}\n        {...sectionProps}\n      />\n    </Container>\n  )\n}\n\nCanvasHeader.propTypes = {\n  getProperty: PropTypes.func.isRequired,\n  gridArea: PropTypes.string,\n  header: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n  }).isRequired,\n  onHeaderChange: PropTypes.func.isRequired,\n  onPropertyChange: PropTypes.func.isRequired,\n  sectionProps: PropTypes.object.isRequired,\n}\n\nexport default CanvasHeader\n","\nexport default {\n  header: {\n    value: '',\n    placeholder: 'Your Business',\n  },\n  localStorageKey: 'businessModelCanvas',\n  props: [\n    {\n      key: 'date',\n      placeholder: 'Date',\n      value: new Date().toLocaleDateString(),\n    },\n    {\n      key: 'name',\n      placeholder: 'Your Name',\n      value: '',\n    },\n  ],\n  sections: [\n    {\n      key: 'purpose',\n      border: {\n        bottom: true,\n      },\n      content: '',\n      header: 'Purpose',\n      isHeader: true,\n      placeholder: 'Step 1:\\nWhat is the business purpose?\\nYou will need it to validate every single part of the model.',\n    },\n    {\n      key: 'customer-segments',\n      border: {\n        left: true,\n      },\n      content: '',\n      header: 'Customer Segments',\n      placeholder: 'Step 2:\\nWhich customers does your business try to serve?',\n    },\n    {\n      key: 'value-propositions',\n      border: {\n        right: true,\n        left: true,\n      },\n      content: '',\n      header: 'Value Propositions',\n      placeholder: 'Step 3:\\nWhich products and services a business offers meet the needs of the customer segments?',\n    },\n    {\n      key: 'channels',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Channels',\n      placeholder: 'Step 4:\\nWhich channels does your business use to deliver the value proposition to the customer segments',\n    },\n    {\n      key: 'customer-relationships',\n      border: { },\n      content: '',\n      header: 'Customer Relationships',\n      placeholder: 'Step 5:\\nWhich type relationship does your business want to create with the customer segments',\n    },\n    {\n      key: 'revenue-streams',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Revenue Streams',\n      placeholder: 'Step 6:\\nHow does your company make income from each customer segment?',\n    },\n    {\n      key: 'key-resources',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Key Resources',\n      placeholder: 'Step 7:\\nWhich resources are necessary to create the value propositions?',\n    },\n    {\n      key: 'key-activities',\n      border: { },\n      content: '',\n      header: 'Key Activities',\n      placeholder: 'Step 8:\\nWhat are the most important activities in executing the value propositions?',\n    },\n    {\n      key: 'key-partners',\n      border: {\n        right: true,\n      },\n      content: '',\n      header: 'Key Partners',\n      placeholder: 'Step 9:\\nWhich buyer-supplier relationships can help you to focus on your core activity, optimise operations and reduce risks?',\n    },\n    {\n      key: 'cost-structure',\n      border: {\n        top: true,\n        right: true,\n      },\n      content: '',\n      header: 'Cost Structure',\n      placeholder: 'Step 10:\\nWhat are the most important monetary consequences while operating under this business model?',\n    },\n  ],\n}\n","import React, { useMemo, useState } from 'react'\nimport useMarkdownSync from 'hooks/useMarkdownSync'\nimport styled from 'styled-components'\nimport { mapObject } from 'utils/object'\n\nimport Editor from 'components/Editor'\nimport Menu from 'components/Menu'\nimport CanvasHeader from 'components/CanvasHeader'\nimport CanvasArea from 'components/CanvasArea'\n\nimport model from './model'\n\n\nconst GridContainer = styled.div`\n  background-color: ${({ theme }) => theme.paperBackground};\n  border-color: ${({ theme }) => theme.pageBackground};\n  border-style: solid;\n  border-width: 0.5em;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-template-rows: auto 0.5fr 1fr 1fr 1fr;\n  grid-template-areas:\n    \"menu menu menu menu menu menu menu menu menu menu\"\n    \"purpose purpose purpose purpose purpose purpose purpose purpose purpose purpose\"\n    \"key-partners key-partners key-activities key-activities value-propositions value-propositions customer-relationships customer-relationships customer-segments customer-segments\"\n    \"key-partners key-partners key-resources key-resources value-propositions value-propositions channels channels customer-segments customer-segments\"\n    \"cost-structure cost-structure cost-structure cost-structure cost-structure revenue-streams revenue-streams revenue-streams revenue-streams revenue-streams\";\n  margin: auto;\n\n  height: 100%;\n  width: 100%;\n  @media screen {\n    min-width: 90em;\n    min-height: 60em;\n  }\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledCanvasHeader = styled(CanvasHeader)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledMenu = styled(Menu)`\n  grid-area: menu;\n`\n\nconst getInitialEditorStates = (sections) => sections.reduce(\n  (acc, section) => ({\n    ...acc,\n    [section.key]: Editor.createEditorStateFromMarkdown(section.content),\n  }),\n  {}\n)\n\n\nfunction BusinessModelCanvas() {\n  const markdownSyncApi = useMarkdownSync({ model })\n\n  const initialEditorStates = useMemo(\n    () => getInitialEditorStates(markdownSyncApi.sections),\n    []\n  )\n\n  const [editorStates, setEditorStates] = useState(initialEditorStates)\n  const setSectionEditorState = (key, editorState) => {\n    const nextEditorStates = {\n      ...editorStates,\n      [key]: editorState,\n    }\n    setEditorStates(nextEditorStates)\n  }\n\n  const updateEditorStates = () => {\n    const nextEditorStates = mapObject(editorStates, (key, editorState) => Editor.updateEditorStateWithMarkdown(\n      editorState,\n      markdownSyncApi.getSection(key).content,\n    ))\n    setEditorStates(nextEditorStates)\n  }\n  const handleReset = () => {\n    markdownSyncApi.reset()\n    updateEditorStates()\n  }\n  const handleLoadFromFile = (file) => {\n    markdownSyncApi.loadFromFile(\n      file\n    ).then(\n      updateEditorStates\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <GridContainer>\n        <StyledMenu\n          loadFromFile={handleLoadFromFile}\n          onReset={handleReset}\n          onSaveAs={markdownSyncApi.saveAs}\n        />\n        {(markdownSyncApi.sections.map(({ isHeader, key, ...section }) => {\n          const sectionProps = {\n            editorState: editorStates[key],\n            isSimple: isHeader,\n            onChange: ({ content, editorState }) => {\n              markdownSyncApi.updateSection(key, { content })\n              setSectionEditorState(key, editorState)\n            },\n            ...section,\n          }\n          if (isHeader) {\n            return (\n              <StyledCanvasHeader\n                gridArea={key}\n                header={markdownSyncApi.header}\n                key={key}\n                onHeaderChange={markdownSyncApi.updateHeader}\n                onPropertyChange={markdownSyncApi.updateProperty}\n                getProperty={markdownSyncApi.getProperty}\n                sectionProps={sectionProps}\n              />\n            )\n          } else {\n            return (\n              <StyledCanvasArea\n                gridArea={key}\n                key={key}\n                {...sectionProps}\n              />\n            )\n          }\n        }))}\n      </GridContainer>\n    </React.Fragment>\n  )\n}\n\nexport default BusinessModelCanvas\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  min-height: 100%;\n  width: 100%;\n`\nconst Box = styled.div`\n  background-color: ${({ theme }) => theme.paperBackground};\n  margin: 1em 1em 3em 1em;\n  max-width: calc(100% - 2em);\n  padding: 1em;\n  width: 50em;\n`\n\nfunction InfoPage({\n  children,\n  ...otherProps\n}) {\n  return (\n    <Container\n      {...otherProps}\n    >\n      <Box>\n        {children}\n      </Box>\n\n    </Container>\n  )\n}\n\nInfoPage.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default InfoPage\n","\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React from 'react'\nimport styled from 'styled-components'\nimport { push } from 'hooks/useSimpleRouter'\n\nimport InfoPage from 'components/InfoPage'\n\n\nconst Li = styled.li`\n  margin-bottom: 0.5em;\n`\nconst A = styled.a.attrs({\n  rel: 'noopener noreferrer',\n  target: '_blank',\n})`\n  color: inherit;\n`\nconst Button = styled.button`\n  background: #37A51C;\n  border-radius: 0;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  font-family: 'Montserrat', sans-serif;\n  font-size: 16px;\n  font-weight: bold;\n  padding: 0.75em 2em;\n  text-transform: uppercase;\n`\nconst Signature = styled.p`\n  font-family: 'Montserrat', sans-serif;\n  margin-bottom: 2em;\n`\n\n\nfunction WelcomePage({\n  ...otherProps\n}) {\n  return (\n    <InfoPage\n      {...otherProps}\n    >\n      <h3>Business Model Canvas</h3>\n      <h1>Welcome!</h1>\n      <p>On the next page you will have the possibility to fill out a canvas. Nothing of your data will be stored at or even sent to a server. This is great as nobody can misuse your data, but you have to take care on your own to store and reload it.</p>\n      <ul>\n        <Li>\n          Your input is stored in the browsers <strong>local storage</strong>. This means it will persist if you reload the page or even close the browser and open it again. But it will not be available in another browser or another computer.\n        </Li>\n        <Li>\n          You have the possibility to <strong>download your work as a simple, human readable text file</strong> (extended <A href=\"https://de.wikipedia.org/wiki/Markdown\">markdown</A> syntax). Watch out for the &#34;Save to file&#34; button top right.\n        </Li>\n        <Li>\n          Your can edit the text file locally (if you want to) and <strong>load it again</strong>. Watch out for the &#34;Import from file&#34; button top right.\n        </Li>\n        <Li>\n          This page is <strong>offline enabled</strong>. This means if you loaded the page once it will persist if you loose yor internet connection. You can even navigate to the url again and it will load without connection.\n        </Li>\n      </ul>\n      <p>I hope this canvas is useful for you &amp; I would appreciate your feedback via <A href=\"https://twitter.com/tobzuc\">twitter</A> or <A href=\"https://www.linkedin.com/in/tobias-zucali-3555b388/\">linkedin</A>!</p>\n      <Signature>Tobias</Signature>\n      <Button onClick={() => push('/canvas')}>{(localStorage.getItem('isInited')) ? 'Load canvas' : 'Create new canvas'}</Button>\n    </InfoPage>\n  )\n}\n\n\nexport default WelcomePage\n","export default {\n  pageBackground: '#EEEEEE',\n  paperBackground: '#FFFFFF',\n  borderColor: '#CCCCCC',\n}\n","import React from 'react'\nimport { createGlobalStyle, ThemeProvider } from 'styled-components'\n\nimport useSimpleRouter from 'hooks/useSimpleRouter'\nimport BusinessModelCanvas from 'components/BusinessModelCanvas'\nimport WelcomePage from 'components/WelcomePage'\n\nimport theme from './theme'\n\n\nconst GlobalStyle = createGlobalStyle`\n  BODY {\n    background-color: ${(props) => props.theme.pageBackground};\n    font-size: 14px;\n\n    @media (min-width: 1600px) {\n      font-size: 16px;\n    }\n    @media (min-width: 2000px) {\n      font-size: 18px;\n    }\n  }\n`\n\nconst routes = [\n  {\n    url: '/canvas',\n    Component: BusinessModelCanvas,\n  },\n  {\n    Component: WelcomePage,\n  },\n]\n\nfunction App() {\n  const {\n    Component,\n  } = useSimpleRouter(routes).route\n\n  return (\n    <ThemeProvider\n      theme={theme}\n    >\n      <React.Fragment>\n        <GlobalStyle />\n        <Component />\n      </React.Fragment>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nimport './index.css'\nimport 'normalize.css/normalize.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}