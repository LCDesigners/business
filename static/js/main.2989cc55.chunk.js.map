{"version":3,"sources":["utils/object/index.js","utils/array/index.js","utils/getMarkdownSyncApi/modelToMarkdown.js","utils/logger/index.js","utils/getMarkdownSyncApi/splitMarkdown.js","utils/getMarkdownSyncApi/markdownToModel.js","utils/getMarkdownSyncApi/index.js","hooks/useMarkdownSync/index.js","hooks/useIsFocusWithin/index.js","components/Editor/StyleButton.js","components/Editor/ControlsGroup.js","icons/formatBold.svg","icons/formatSize.svg","icons/formatItalic.svg","icons/formatListBulleted.svg","icons/formatListNumbered.svg","icons/formatQuote.svg","icons/formatStrikethrough.svg","icons/formatUnderlined.svg","components/Editor/controlTypes.js","components/Editor/BlockStyleControls.js","components/Editor/InlineStyleControls.js","components/Editor/Controls.js","components/Editor/index.js","components/Menu/index.js","components/AreaBorder/index.js","components/CanvasArea/index.js","components/CanvasHeader/index.js","components/BusinessModelCanvas/model.js","components/BusinessModelCanvas/index.js","components/App/index.js","serviceWorker.js","index.js"],"names":["mergeObjects","destination","source","isPlainObject","mergeWith","cloneDeep","destinationEntry","sourceEntry","isArray","undefined","mapObject","object","callback","Object","keys","reduce","acc","key","objectSpread","defineProperty","getArrayObjectKeys","array","map","entry","mergeArraysByKey","_ref","destinationKeyValues","sourceKeyValues","union","keyValue","indexOf","isNil","modelToMarkdown","header","props","sections","concat","_ref2","value","join","_ref3","sectionHeader","placeholder","content","logger","log","console","warn","error","mainHeaderRegex","anyHeaderRegex","propertyRegex","sectionHeaderRegex","placeholderRegex","placeholderStartRegex","placeholderEndRegex","splitMarkdown","lines","split","_findHeader","currentIndex","length","currentLine","headerMatch","match","_headerMatch","slicedToArray","trim","index","findHeader","_findProps","startIndex","propertyMatch","_propertyMatch","push","lastIndex","findProps","sectionHeaderMatch","_sectionHeaderMatch","preHeader","postHeader","_findPlaceholderText","findPlaceholderText","placeholderIndex","findSections","placeholderLines","placeholderMatch","placeholderStartMatch","placeholderEndMatch","markdownToModel","model","markdown","nextModel","modelSectionKeys","defaultModelSectionKeys","invalidSectionKeys","without","apply","toConsumableArray","forEach","invalidSectionKey","modelPropertyKeys","defaultModelPropertyKeys","invalidPropertyKeys","invalidPropertyKey","deepMergeObjects","merged","storeLocal","debounce","localStorage","setItem","localStorageKey","getInitialMarkdownSyncApi","markdownSyncApi","Error","onModelChange","currentModel","handleModelChange","loadFromFile","file","Promise","resolve","reject","fileReader","FileReader","onload","event","loadMarkdown","target","result","onerror","readAsText","loadFromLocalStorage","getItem","saveAs","blob","Blob","type","fileName","substr","replace","FileSaver","reset","setOnChange","nextOnModelChange","removeOnChange","SECTION_KEYS","getSectionIndex","findIndex","getSection","updateSection","sectionUpdate","currentSection","nextSections","Array","from","updateHeader","headerUpdate","PROP_KEYS","getPropertyIndex","getProperty","updateProperty","propertyUpdate","currentProperty","nextProps","getMarkdownSyncApi","watchers","addToGlobalHandlers","ref","setIsFocusWithin","isFocusWithin","document","body","addEventListener","checkIfFocusIsWithin","removeFromGlobalHandlers","remove","watcher","removeEventListener","currentElement","current","contains","StyledStyleButton","styled","Icon","isActive","label","onToggle","style","otherProps","objectWithoutProperties","handleClick","preventDefault","react_default","a","createElement","assign","aria-label","aria-pressed","onKeyDown","onMouseDown","role","tabIndex","_templateObject","ControlsGroup","div","ControlsGroup_templateObject","_extends","i","arguments","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","formatBold_ref2","d","fill","formatBold_SvgFormatBold","svgRef","width","height","viewBox","ForwardRef","forwardRef","__webpack_require__","p","formatSize_extends","formatSize_objectWithoutProperties","formatSize_objectWithoutPropertiesLoose","formatSize_ref2","formatSize_ref3","formatSize_SvgFormatSize","formatSize_ForwardRef","formatItalic_extends","formatItalic_objectWithoutProperties","formatItalic_objectWithoutPropertiesLoose","formatItalic_ref2","formatItalic_ref3","formatItalic_SvgFormatItalic","formatItalic_ForwardRef","formatListBulleted_extends","formatListBulleted_objectWithoutProperties","formatListBulleted_objectWithoutPropertiesLoose","formatListBulleted_ref2","formatListBulleted_ref3","formatListBulleted_SvgFormatListBulleted","formatListBulleted_ForwardRef","formatListNumbered_extends","formatListNumbered_objectWithoutProperties","formatListNumbered_objectWithoutPropertiesLoose","formatListNumbered_ref2","formatListNumbered_ref3","formatListNumbered_SvgFormatListNumbered","formatListNumbered_ForwardRef","formatQuote_extends","formatQuote_objectWithoutProperties","formatQuote_objectWithoutPropertiesLoose","formatQuote_ref2","formatQuote_ref3","formatQuote_SvgFormatQuote","formatQuote_ForwardRef","formatStrikethrough_extends","formatStrikethrough_objectWithoutProperties","formatStrikethrough_objectWithoutPropertiesLoose","formatStrikethrough_ref2","formatStrikethrough_ref3","formatStrikethrough_SvgFormatStrikethrough","formatStrikethrough_ForwardRef","formatUnderlined_extends","formatUnderlined_objectWithoutProperties","formatUnderlined_objectWithoutPropertiesLoose","formatUnderlined_ref2","formatUnderlined_ref3","formatUnderlined_SvgFormatUnderlined","formatUnderlined_ForwardRef","blockControlTypes","FormatHeader","FormatQuote","FormatListBulleted","FormatListNumbered","inlineControlTypes","FormatBold","FormatItalic","FormatUnderlined","FormatStrikethrough","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","Editor_ControlsGroup","controlType","Editor_StyleButton","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","ControlsContainer","Controls_templateObject","isVisible","Controls","onChange","Editor_InlineStyleControls","inlineStyle","RichUtils","toggleInlineStyle","Editor_BlockStyleControls","toggleBlockType","EditorContainer","Editor_templateObject","GlobalDraftJsEditorStyle","createGlobalStyle","_templateObject2","Editor","isSimple","editorRef","useRef","containerRef","_useState","useState","_useState2","useEffect","useIsFocusWithin","handleChange","useCallback","nextEditorState","handleKeyCommand","command","newState","onClick","focus","Draft","Editor_Controls","createEditorStateFromMarkdown","md","EditorState","createWithContent","stateFromMarkdown","updateEditorStateWithMarkdown","getMarkdownFromEditorState","stateToMarkdown","Container","Menu_templateObject","HiddenForm","form","Menu_templateObject2","Menu","onReset","onSaveAs","importFormRef","importInputRef","handleReset","window","confirm","click","accept","aria-hidden","files","print","AreaBorderBase","AreaBorder_templateObject","theme","pageBackground","AreaBorderTop","AreaBorder_templateObject2","AreaBorderRight","_templateObject3","AreaBorderBottom","_templateObject4","AreaBorderLeft","_templateObject5","AreaBorder","top","right","bottom","left","Fragment","AreaBox","article","CanvasArea_templateObject","AreaHeader","h2","CanvasArea_templateObject2","HiddenAreaHeader","CanvasArea_templateObject3","StyledEditor","CanvasArea_templateObject4","CanvasArea","border","components_AreaBorder","defaultProps","CanvasHeader_templateObject","HeaderContainer","CanvasHeader_templateObject2","Header","h1","CanvasHeader_templateObject3","HeaderInput","input","CanvasHeader_templateObject4","HeaderContainerRight","CanvasHeader_templateObject5","PropertyInput","_templateObject6","StyledCanvasArea","_templateObject7","CanvasHeader","gridArea","onHeaderChange","onPropertyChange","sectionProps","handleHeaderChange","handleDateChange","handleNameChange","_ref4","CanvasHeader_Container","BusinessModelCanvas_model","Date","toLocaleDateString","isHeader","GridContainer","BusinessModelCanvas_templateObject","paperBackground","BusinessModelCanvas_templateObject2","StyledCanvasHeader","BusinessModelCanvas_templateObject3","getInitialEditorStates","section","BusinessModelCanvas","useMemo","triggerRenderCycle","useMarkdownSync","initialEditorStates","editorStates","setEditorStates","updateEditorStates","nextEditorStates","components_Menu","then","_ref5","_ref6","setSectionEditorState","BusinessModelCanvas_StyledCanvasArea","GlobalStyle","App_templateObject","App","styled_components_browser_esm","components_BusinessModelCanvas","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","components_App","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.2989cc55.chunk.js","sourcesContent":["import cloneDeep from 'lodash/cloneDeep'\nimport isArray from 'lodash/isArray'\nimport isFunction from 'lodash/isFunction'\nimport isObject from 'lodash/isObject'\nimport isPlainObject from 'lodash/isPlainObject'\nimport isRegExp from 'lodash/isRegExp'\nimport mergeWith from 'lodash/mergeWith'\n\n\nexport function mergeObjects(destination, source) {\n  if (isPlainObject(destination)) {\n    return mergeWith(\n      cloneDeep(destination),\n      source,\n      (destinationEntry, sourceEntry) => {\n        if (isArray(destinationEntry)) {\n          return sourceEntry\n        }\n        return undefined\n      }\n    )\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\nexport function deepMergeObjects(destination, source) {\n  const merged = mergeObjects(destination, source)\n  if (isPlainObject(merged)) {\n    return mapObject(merged, (key) => deepMergeObjects(\n      isPlainObject(destination) ? destination[key] : undefined,\n      isPlainObject(source) ? source[key] : undefined\n    ))\n  } else if (source !== undefined) {\n    return source\n  } else {\n    return destination\n  }\n}\n\n\nexport function mapObject(object, callback) {\n  return Object.keys(object).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: callback(key, object[key]),\n    }),\n    {}\n  )\n}\n\nexport function mapEverything(object, callback) {\n  if (isArray(object)) {\n    return Array.prototype.map.call(object, (value, index) => callback(index, value))\n  } else if (isObject(object) && !isRegExp(object) && !isFunction(object)) {\n    return mapObject(object, callback)\n  } else {\n    return object\n  }\n}\n","import { mergeObjects } from 'utils/object'\n\nimport isArray from 'lodash/isArray'\nimport isNil from 'lodash/isNil'\nimport union from 'lodash/union'\n\n\nexport function forceArray(value) {\n  if (isArray(value)) {\n    return value\n  } else if (!isNil(value)) {\n    return [value]\n  } else {\n    return []\n  }\n}\n\nexport function getArrayObjectKeys(array, key) {\n  return array.map((entry) => entry && entry[key])\n}\n\nexport function mergeArraysByKey(destination, source, { key }) {\n  if (isArray(destination) && isArray(source)) {\n    const destinationKeyValues = getArrayObjectKeys(destination, key)\n    const sourceKeyValues = getArrayObjectKeys(source, key)\n    const mergedKeyValues = union(destinationKeyValues, sourceKeyValues)\n\n    return mergedKeyValues.map((keyValue) => {\n      const destinationEntry = destination[destinationKeyValues.indexOf(keyValue)]\n      const sourceEntry = source[sourceKeyValues.indexOf(keyValue)]\n\n      return mergeObjects(destinationEntry, sourceEntry)\n    })\n  } else if (isNil(source)) {\n    return destination\n  } else {\n    return source\n  }\n}\n","export default function modelToMarkdown(\n  {\n    header,\n    props,\n    sections,\n  }\n) {\n  return `# ${header}\n${props.map(({\n    key,\n    value,\n  }) => `${key}:${value ? ` ${value}` : ''}`).join('\\n')}\n\n${sections.map(({\n    key,\n    header: sectionHeader,\n    placeholder,\n    content,\n  }) => `## ${sectionHeader} {${key}}${placeholder ? `\n[${placeholder}]` : ''}${content ? `\n${content}` : ''}\n`).join('\\n')}\n`\n}\n","/* eslint-disable no-console */\n\nexport default {\n  log: console.log,\n  warn: console.warn,\n  error: console.error,\n}\n","\nconst mainHeaderRegex = /^\\s*#(?!#)\\s*(.*)$/\nconst anyHeaderRegex = /^\\s*#(.*)$/\nconst propertyRegex = /^\\s*(\\S+)\\s*:(.*)$/\nconst sectionHeaderRegex = /^\\s*##([^{]*){([^}]*)}(.*)$/\nconst placeholderRegex = /\\[(.*)\\S*\\]/\nconst placeholderStartRegex = /\\s*\\[(.*)/\nconst placeholderEndRegex = /^\\s*([^\\]]*)]/\n\n\nexport default function splitMarkdown(content) {\n  const lines = content.split('\\n')\n\n  const {\n    header,\n    index: headerIndex,\n  } = findHeader(lines)\n\n  const {\n    props,\n    lastIndex: lastPropIndex,\n  } = findProps(lines, headerIndex + 1)\n\n  const {\n    sections,\n  } = findSections(lines, lastPropIndex + 1)\n\n  return {\n    header,\n    props,\n    sections,\n  }\n}\n\nexport function findHeader(lines) {\n  let currentIndex = 0\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const headerMatch = currentLine.match(mainHeaderRegex)\n\n    if (headerMatch) {\n      const [/* fullMatch */, header] = headerMatch\n      return {\n        header: header.trim(),\n        index: currentIndex,\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    header: '',\n    index: -1,\n  }\n}\n\nexport function findProps(lines, startIndex) {\n  let currentIndex = startIndex\n  const props = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex]\n    const propertyMatch = currentLine.match(propertyRegex)\n\n    if (propertyMatch) {\n      const [/* fullMatch */, key, value] = propertyMatch\n      props.push({\n        key: key.trim(),\n        value: value.trim(),\n      })\n    } else if (currentLine.match(anyHeaderRegex)) {\n      break\n    }\n    currentIndex += 1\n  }\n\n  return {\n    props,\n    lastIndex: currentIndex - 1,\n  }\n}\n\nexport function findSections(lines, startIndex) {\n  let currentIndex = startIndex\n  const sections = []\n\n  while (currentIndex < lines.length) {\n    let currentLine = lines[currentIndex]\n    const sectionHeaderMatch = currentLine.match(sectionHeaderRegex)\n\n    if (sectionHeaderMatch) {\n      const [/* fullMatch */, preHeader, key, postHeader] = sectionHeaderMatch\n\n      const header = `${preHeader.trim()} ${postHeader.trim()}`.trim()\n\n      const {\n        placeholder,\n        index: placeholderIndex,\n      } = findPlaceholderText(lines, currentIndex + 1)\n\n      currentIndex = placeholderIndex + 1 || currentIndex + 1\n      const content = []\n\n      while (currentIndex < lines.length && !(lines[currentIndex + 1] || '').match(sectionHeaderRegex)) {\n        currentLine = lines[currentIndex]\n        content.push(currentLine)\n        currentIndex += 1\n      }\n\n      sections.push({\n        key: key.trim(),\n        header,\n        placeholder,\n        content: content.join('\\n').trim(),\n      })\n    }\n    currentIndex += 1\n  }\n  return {\n    sections,\n  }\n}\n\nexport function findPlaceholderText(lines, startIndex) {\n  let currentIndex = startIndex\n  const placeholderLines = []\n\n  while (currentIndex < lines.length) {\n    const currentLine = lines[currentIndex].trim()\n\n    if (placeholderLines.length === 0) {\n      const placeholderMatch = currentLine.match(placeholderRegex)\n      if (placeholderMatch) {\n        const [/* fullMatch */, placeholder] = placeholderMatch\n        return {\n          placeholder: placeholder.trim(),\n          index: currentIndex,\n        }\n      } else {\n        const placeholderStartMatch = currentLine.match(placeholderStartRegex)\n        if (placeholderStartMatch) {\n          const [/* fullMatch */, placeholder] = placeholderStartMatch\n          placeholderLines.push(placeholder.trim())\n        } else if (currentLine !== '') {\n          break\n        }\n      }\n    } else if (placeholderLines.length > 0) {\n      const placeholderEndMatch = currentLine.match(placeholderEndRegex)\n\n      if (placeholderEndMatch) {\n        const [/* fullMatch */, placeholder] = placeholderEndMatch\n        placeholderLines.push(placeholder.trim())\n        return {\n          placeholder: placeholderLines.join('\\n'),\n          index: currentIndex,\n        }\n      } else {\n        placeholderLines.push(currentLine)\n      }\n    }\n    currentIndex += 1\n  }\n  return {\n    placeholder: '',\n    index: -1,\n  }\n}\n","\nimport { getArrayObjectKeys, mergeArraysByKey } from 'utils/array'\nimport { deepMergeObjects } from 'utils/object'\nimport logger from 'utils/logger'\n\nimport without from 'lodash/without'\n\nimport splitMarkdown from './splitMarkdown'\n\n\nexport default function markdownToModel(model, markdown) {\n  try {\n    const nextModel = splitMarkdown(markdown)\n\n    const modelSectionKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelSectionKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidSectionKeys = without(\n      modelSectionKeys,\n      ...defaultModelSectionKeys\n    )\n    if (invalidSectionKeys.length > 0) {\n      logger.warn('Unexpected sections found:', invalidSectionKeys)\n      invalidSectionKeys.forEach((invalidSectionKey) => {\n        delete nextModel.sections[invalidSectionKey]\n      })\n    }\n\n    const modelPropertyKeys = getArrayObjectKeys(nextModel.sections, { key: 'key' })\n    const defaultModelPropertyKeys = getArrayObjectKeys(model.sections, { key: 'key' })\n    const invalidPropertyKeys = without(\n      modelPropertyKeys,\n      ...defaultModelPropertyKeys\n    )\n    if (invalidPropertyKeys.length > 0) {\n      logger.warn('Unexpected props found:', invalidPropertyKeys)\n      invalidPropertyKeys.forEach((invalidPropertyKey) => {\n        delete nextModel.sections[invalidPropertyKey]\n      })\n    }\n\n    nextModel.sections = mergeArraysByKey(\n      model.sections,\n      nextModel.sections,\n      { key: 'key' }\n    )\n\n    nextModel.props = mergeArraysByKey(\n      model.props,\n      nextModel.props,\n      { key: 'key' }\n    )\n\n    const mergedModel = deepMergeObjects(\n      model,\n      nextModel,\n      { arrayKey: 'key' },\n    )\n    return mergedModel\n  } catch (error) {\n    logger.error('Parsing model failed')\n    logger.error(error)\n  }\n  return model\n}\n","import { getArrayObjectKeys } from 'utils/array'\nimport isPlainObject from 'lodash/isPlainObject'\nimport findIndex from 'lodash/findIndex'\nimport debounce from 'lodash/debounce'\nimport FileSaver from 'file-saver'\n\nimport modelToMarkdown from './modelToMarkdown'\nimport markdownToModel from './markdownToModel'\n\nconst storeLocal = debounce((model) => {\n  localStorage.setItem(model.localStorageKey, modelToMarkdown(model))\n}, 250)\n\n\nexport default function getMarkdownSyncApi({\n  model,\n}) {\n  if (!isPlainObject(model)) {\n    throw new Error('Model must be provided: useMarkdownSync({ model })')\n  }\n\n  let currentModel = model\n  let onModelChange\n  const handleModelChange = (nextModel) => {\n    currentModel = nextModel\n    storeLocal(nextModel)\n    if (onModelChange) {\n      onModelChange(nextModel)\n    }\n  }\n\n  const markdownSyncApi = {\n    loadFromFile(file) {\n      return new Promise((resolve, reject) => {\n        const fileReader = new FileReader()\n        fileReader.onload = (event) => {\n          markdownSyncApi.loadMarkdown(\n            event.target.result\n          )\n          resolve()\n        }\n        fileReader.onerror = reject\n        fileReader.readAsText(file)\n      })\n    },\n    loadFromLocalStorage() {\n      markdownSyncApi.loadMarkdown(\n        localStorage.getItem(model.localStorageKey)\n      )\n    },\n    loadMarkdown(markdown) {\n      if (markdown) {\n        handleModelChange(\n          markdownToModel(model, markdown)\n        )\n      }\n    },\n    saveAs() {\n      const blob = new Blob([modelToMarkdown(currentModel)], { type: 'text/plain;charset=utf-8' })\n      const fileName = `business model canvas - ${currentModel.header.substr(0, 20).replace(/[^a-zA-Z0-9]+/g, ' ')}.txt`\n      FileSaver.saveAs(blob, fileName)\n    },\n    reset() {\n      handleModelChange(model)\n    },\n\n    setOnChange(nextOnModelChange) {\n      onModelChange = nextOnModelChange\n    },\n    removeOnChange() {\n      onModelChange = null\n    },\n\n    get SECTION_KEYS() {\n      return getArrayObjectKeys(model.sections, 'key')\n    },\n    get sections() {\n      return currentModel.sections\n    },\n    getSectionIndex(key) {\n      return findIndex(markdownSyncApi.sections, ['key', key])\n    },\n    getSection(key) {\n      return markdownSyncApi.sections[\n        markdownSyncApi.getSectionIndex(key)\n      ]\n    },\n    updateSection(key, sectionUpdate) {\n      const index = markdownSyncApi.getSectionIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Section with key \"${key}\" not available in model`, model)\n      }\n      const currentSection = currentModel.sections[index]\n      const nextSections = Array.from(currentModel.sections)\n      nextSections[index] = {\n        ...currentSection,\n        ...sectionUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        sections: nextSections,\n      })\n    },\n\n    get header() {\n      return currentModel.header\n    },\n    updateHeader(headerUpdate) {\n      handleModelChange({\n        ...currentModel,\n        header: headerUpdate,\n      })\n    },\n\n    get PROP_KEYS() {\n      return getArrayObjectKeys(model.props, 'key')\n    },\n    get props() {\n      return currentModel.props\n    },\n    getPropertyIndex(key) {\n      return findIndex(markdownSyncApi.props, ['key', key])\n    },\n    getProperty(key) {\n      return markdownSyncApi.props[\n        markdownSyncApi.getPropertyIndex(key)\n      ]\n    },\n    updateProperty(key, propertyUpdate) {\n      const index = markdownSyncApi.getPropertyIndex(key)\n\n      if (index === -1) {\n        throw new Error(`Property with key \"${key}\" not available in model`, model)\n      }\n      const currentProperty = currentModel.props[index]\n      const nextProps = Array.from(currentModel.props)\n      nextProps[index] = {\n        ...currentProperty,\n        ...propertyUpdate,\n      }\n\n      handleModelChange({\n        ...currentModel,\n        props: nextProps,\n      })\n    },\n  }\n\n  return markdownSyncApi\n}\n","import { useEffect, useMemo, useState } from 'react'\n\nimport getMarkdownSyncApi from 'utils/getMarkdownSyncApi'\n\n\nconst getInitialMarkdownSyncApi = (model) => {\n  const markdownSyncApi = getMarkdownSyncApi({ model })\n  markdownSyncApi.loadFromLocalStorage()\n  return markdownSyncApi\n}\n\nexport default function useMarkdownSync({\n  model,\n}) {\n  const markdownSyncApi = useMemo(\n    () => getInitialMarkdownSyncApi(model),\n    []\n  )\n  const [/* value */, triggerRenderCycle] = useState()\n  useEffect(() => {\n    markdownSyncApi.setOnChange(triggerRenderCycle)\n\n    return function cleanup() {\n      markdownSyncApi.removeOnChange()\n    }\n  })\n\n\n  return markdownSyncApi\n}\n","import { useEffect, useState } from 'react'\n\nimport remove from 'lodash/remove'\n\n\nlet watchers = []\n\nconst addToGlobalHandlers = (ref, setIsFocusWithin) => {\n  watchers.push({\n    isFocusWithin: false,\n    ref,\n    setIsFocusWithin,\n  })\n  if (Object.keys(watchers).length === 1) {\n    document.body.addEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.addEventListener('keydown', checkIfFocusIsWithin)\n    document.body.addEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst removeFromGlobalHandlers = (ref) => {\n  remove(watchers, (watcher) => watcher.ref === ref)\n\n  if (Object.keys(watchers).length === 0) {\n    document.body.removeEventListener('mousedown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keydown', checkIfFocusIsWithin)\n    document.body.removeEventListener('keyup', checkIfFocusIsWithin)\n  }\n}\n\nconst checkIfFocusIsWithin = ({ target }) => {\n  watchers = watchers.map((watcher) => {\n    const currentElement = watcher.ref.current\n    if (!currentElement) {\n      return watcher\n    }\n    const isFocusWithin = currentElement.contains(target)\n    if (watcher.isFocusWithin === isFocusWithin) {\n      return watcher\n    } else {\n      watcher.setIsFocusWithin(isFocusWithin)\n      return {\n        ...watcher,\n        isFocusWithin,\n      }\n    }\n  })\n}\n\nexport default function useIsFocusWithin(ref) {\n  const [isFocusWithin, setIsFocusWithin] = useState(false)\n  useEffect(() => {\n    addToGlobalHandlers(ref, setIsFocusWithin)\n\n    return function cleanup() {\n      removeFromGlobalHandlers(ref)\n    }\n  }, [])\n\n  return isFocusWithin\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst StyledStyleButton = styled(StyleButton)`\n  color: ${({ isActive }) => isActive ? 'inherit' : '#999999'};\n  cursor: pointer;\n  fill: currentColor;\n  padding: 0.25em;\n  &:hover, &:focus {\n    background: #DDDDDD;\n  }\n  &:first-child {\n    padding-left: 0.4em;\n    border-top-left-radius: 0.75em;\n    border-bottom-left-radius: 0.75em;\n  }\n  &:last-child {\n    padding-left: 0.4em;\n    border-top-right-radius: 0.75em;\n    border-bottom-right-radius: 0.75em;\n  }\n`\n\nfunction StyleButton({\n  Icon,\n  isActive,\n  label,\n  onToggle,\n  style,\n  ...otherProps\n}) {\n  const handleClick = (event) => {\n    event.preventDefault()\n    onToggle(style)\n  }\n  const handleKeyDown = (event) => {\n    if (event.key === ' ' || event.key === 'Enter') {\n      handleClick(event)\n    }\n  }\n  return (\n    <Icon\n      aria-label={label}\n      aria-pressed={isActive}\n      onKeyDown={handleKeyDown}\n      onMouseDown={handleClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      {...otherProps}\n    />\n  )\n}\n\nStyleButton.propTypes = {\n  Icon: PropTypes.func.isRequired,\n  isActive: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  style: PropTypes.string.isRequired,\n}\n\n\nexport default StyledStyleButton\n","\nimport styled from 'styled-components'\n\n\nconst ControlsGroup = styled.div`\n  background: #EEEEEE;\n  border-radius: 0.75em;\n  display: flex;\n  margin-right: 0.5em;\n  margin-top: 0.25em;\n`\n\nexport default ControlsGroup\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatBold = function SvgFormatBold(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatBold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatBold.8680cb7c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z\"\n});\n\nvar SvgFormatSize = function SvgFormatSize(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatSize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatSize.e53198a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"\n});\n\nvar SvgFormatItalic = function SvgFormatItalic(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatItalic, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatItalic.33a74485.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar SvgFormatListBulleted = function SvgFormatListBulleted(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListBulleted, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListBulleted.421c3226.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatListNumbered = function SvgFormatListNumbered(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatListNumbered, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatListNumbered.84ff2b73.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar SvgFormatQuote = function SvgFormatQuote(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatQuote, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatQuote.6743ecc4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z\"\n});\n\nvar SvgFormatStrikethrough = function SvgFormatStrikethrough(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatStrikethrough, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatStrikethrough.ea62c122.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"\n});\n\nvar SvgFormatUnderlined = function SvgFormatUnderlined(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFormatUnderlined, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/formatUnderlined.4725a735.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as FormatBold } from 'icons/formatBold.svg'\nimport { ReactComponent as FormatHeader } from 'icons/formatSize.svg'\nimport { ReactComponent as FormatItalic } from 'icons/formatItalic.svg'\nimport { ReactComponent as FormatListBulleted } from 'icons/formatListBulleted.svg'\nimport { ReactComponent as FormatListNumbered } from 'icons/formatListNumbered.svg'\nimport { ReactComponent as FormatQuote } from 'icons/formatQuote.svg'\nimport { ReactComponent as FormatStrikethrough } from 'icons/formatStrikethrough.svg'\nimport { ReactComponent as FormatUnderlined } from 'icons/formatUnderlined.svg'\n\n\nexport const blockControlTypes = [\n  {\n    label: 'Header',\n    style: 'header-three',\n    Icon: FormatHeader,\n  },\n  {\n    label: 'Blockquote',\n    style: 'blockquote',\n    Icon: FormatQuote,\n  },\n  {\n    label: 'UL',\n    style: 'unordered-list-item',\n    Icon: FormatListBulleted,\n  },\n  {\n    label: 'OL',\n    style: 'ordered-list-item',\n    Icon: FormatListNumbered,\n  },\n]\n\nexport const inlineControlTypes = [\n  {\n    label: 'Bold',\n    style: 'BOLD',\n    Icon: FormatBold,\n  },\n  {\n    label: 'Italic',\n    style: 'ITALIC',\n    Icon: FormatItalic,\n  },\n  {\n    label: 'Underline',\n    style: 'UNDERLINE',\n    Icon: FormatUnderlined,\n  },\n  {\n    label: 'Strikethrough',\n    style: 'STRIKETHROUGH',\n    Icon: FormatStrikethrough,\n  },\n]\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport StyleButton from './StyleButton'\nimport ControlsGroup from './ControlsGroup'\nimport { blockControlTypes } from './controlTypes'\n\n\nfunction BlockStyleControls({\n  editorState,\n  onToggle,\n}) {\n  const selection = editorState.getSelection()\n  const blockType = editorState.getCurrentContent()\n    .getBlockForKey(selection.getStartKey())\n    .getType()\n\n  return (\n    <ControlsGroup>\n      {blockControlTypes.map((controlType) => (\n        <StyleButton\n          isActive={controlType.style === blockType}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </ControlsGroup>\n  )\n}\n\nBlockStyleControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default BlockStyleControls\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport StyleButton from './StyleButton'\nimport ControlsGroup from './ControlsGroup'\nimport { inlineControlTypes } from './controlTypes'\n\n\nfunction InlineStyleControls({\n  editorState,\n  onToggle,\n}) {\n  const currentStyle = editorState.getCurrentInlineStyle()\n\n  return (\n    <ControlsGroup>\n      {inlineControlTypes.map((controlType) => (\n        <StyleButton\n          isActive={currentStyle.has(controlType.style)}\n          key={controlType.label}\n          onToggle={onToggle}\n          {...controlType}\n        />\n      ))}\n    </ControlsGroup>\n  )\n}\n\nInlineStyleControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n}\n\nexport default InlineStyleControls\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { RichUtils } from 'draft-js'\nimport styled from 'styled-components'\n\nimport BlockStyleControls from './BlockStyleControls'\nimport InlineStyleControls from './InlineStyleControls'\n\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  visibility: ${({ isVisible }) => isVisible ? 'visible' : 'hidden'};\n  z-index: 2;\n\n  @media print {\n    display: none;\n  }\n`\n\nexport function Controls({\n  editorState,\n  isVisible,\n  onChange,\n  ...otherProps\n}) {\n  const toggleInlineStyle = (inlineStyle) => {\n    onChange(\n      RichUtils.toggleInlineStyle(\n        editorState,\n        inlineStyle\n      )\n    )\n  }\n  const toggleBlockType = (blockType) => {\n    onChange(\n      RichUtils.toggleBlockType(\n        editorState,\n        blockType\n      )\n    )\n  }\n\n  return (\n    <ControlsContainer\n      isVisible={isVisible}\n      {...otherProps}\n    >\n      <InlineStyleControls\n        editorState={editorState}\n        onToggle={toggleInlineStyle}\n      />\n      <BlockStyleControls\n        editorState={editorState}\n        onToggle={toggleBlockType}\n      />\n    </ControlsContainer>\n  )\n}\n\nControls.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  isVisible: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default Controls\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Editor as DraftJsEditor, EditorState, RichUtils } from 'draft-js'\nimport { stateFromMarkdown } from 'draft-js-import-markdown'\nimport { stateToMarkdown } from 'draft-js-export-markdown'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport useIsFocusWithin from 'hooks/useIsFocusWithin'\n\nimport 'draft-js/dist/Draft.css'\nimport Controls from './Controls'\n\n\nconst EditorContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst GlobalDraftJsEditorStyle = createGlobalStyle`\n  .DraftEditor-root {\n    flex: 1;\n  }\n  .public-DraftEditorPlaceholder-inner {\n    @media print {\n      display: none;\n    }\n  }\n`\n\nexport function Editor({\n  editorState,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  const editorRef = useRef(null)\n  const containerRef = useRef(null)\n  const isFocusWithin = useIsFocusWithin(containerRef)\n\n  const handleChange = useCallback((nextEditorState) => {\n    onChange(nextEditorState)\n  }, [onChange])\n\n  const handleKeyCommand = useCallback((command, nextEditorState) => {\n    const newState = RichUtils.handleKeyCommand(nextEditorState, command)\n    if (newState) {\n      onChange(newState)\n      return 'handled'\n    }\n    return 'not-handled'\n  }, [onChange])\n\n  const handleEditorClick = () => {\n    editorRef.current.focus()\n  }\n\n  return (\n    <EditorContainer // eslint-disable-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n      onClick={handleEditorClick}\n      ref={containerRef}\n      {...otherProps}\n    >\n      <GlobalDraftJsEditorStyle />\n      <DraftJsEditor\n        editorState={editorState}\n        handleKeyCommand={handleKeyCommand}\n        onChange={handleChange}\n        placeholder={placeholder}\n        ref={editorRef}\n      />\n      {!isSimple && (\n        <Controls\n          editorState={editorState}\n          isVisible={isFocusWithin}\n          onChange={handleChange}\n        />\n      )}\n    </EditorContainer>\n  )\n}\n\nEditor.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\n\nEditor.createEditorStateFromMarkdown = (md) => EditorState.createWithContent(\n  stateFromMarkdown(md)\n)\nEditor.updateEditorStateWithMarkdown = (editorState, md) => EditorState.push(\n  editorState,\n  stateFromMarkdown(md)\n)\nEditor.getMarkdownFromEditorState = (editorState) => stateToMarkdown(\n  editorState.getCurrentContent()\n)\n\nexport default Editor\n","import React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst Container = styled.div`\n  padding: 0.5em 0.5em 0 0.5em;\n\n  & > button {\n    margin-right: 0.25em;\n  }\n\n  @media print {\n    display: none;\n  }\n`\n\nconst HiddenForm = styled.form`\n  display: block;\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n`\n\nfunction Menu({\n  loadFromFile,\n  onReset,\n  onSaveAs,\n  ...otherProps\n}) {\n  const importFormRef = useRef()\n  const importInputRef = useRef()\n  const handleReset = useCallback(() => {\n    // eslint-disable-next-line no-alert\n    if (window.confirm('Are you sure to reject all your changes?')) {\n      onReset()\n    }\n  }, [onReset])\n  return (\n    <Container\n      {...otherProps}\n    >\n      <button\n        onClick={onSaveAs}\n      >\n        Save to file\n      </button>\n      <button\n        onClick={() => importInputRef.current.click()}\n      >\n        Import from file\n      </button>\n      <HiddenForm\n        ref={importFormRef}\n      >\n        <input\n          accept=\"text/plain, text/markdown\"\n          aria-hidden={true}\n          type=\"file\"\n          onChange={({ target }) => {\n            loadFromFile(target.files[0])\n\n            // clear value to allow to import from same path again\n            importFormRef.current.reset()\n          }}\n          ref={importInputRef}\n        />\n      </HiddenForm>\n      <button\n        onClick={handleReset}\n      >\n        Reset\n      </button>\n      <button\n        onClick={window.print}\n      >\n        Print\n      </button>\n    </Container>\n  )\n}\n\nMenu.propTypes = {\n  onReset: PropTypes.func.isRequired,\n  onSaveAs: PropTypes.func.isRequired,\n  loadFromFile: PropTypes.func.isRequired,\n}\n\nexport default Menu\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\n\nconst AreaBorderBase = styled.div`\n  position: absolute;\n  border-color: ${({ theme }) => theme.pageBackground};\n  border-style: none;\n  border-width: 1px;\n\n  @media print {\n    border-width: 2px;\n  }\n`\n\nconst BORDER_GAP = '0.5em'\nconst AreaBorderTop = styled(AreaBorderBase)`\n  border-top-style: solid;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n  top: 0;\n`\nconst AreaBorderRight = styled(AreaBorderBase)`\n  border-right-style: solid;\n  bottom: ${BORDER_GAP};\n  right: 0;\n  top: ${BORDER_GAP};\n`\nconst AreaBorderBottom = styled(AreaBorderBase)`\n  border-bottom-style: solid;\n  bottom: 0;\n  left: ${BORDER_GAP};\n  right: ${BORDER_GAP};\n`\nconst AreaBorderLeft = styled(AreaBorderBase)`\n  border-left-style: solid;\n  bottom: ${BORDER_GAP};\n  left: 0;\n  top: ${BORDER_GAP};\n`\n\nfunction AreaBorder({\n  top,\n  right,\n  bottom,\n  left,\n}) {\n  return (\n    <React.Fragment>\n      {top && <AreaBorderTop />}\n      {right && <AreaBorderRight />}\n      {bottom && <AreaBorderBottom />}\n      {left && <AreaBorderLeft />}\n    </React.Fragment>\n  )\n}\n\nAreaBorder.propTypes = {\n  top: PropTypes.bool,\n  right: PropTypes.bool,\n  bottom: PropTypes.bool,\n  left: PropTypes.bool,\n}\n\nexport default AreaBorder\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport AreaBorder from 'components/AreaBorder'\nimport Editor from 'components/Editor'\n\n\nconst AreaBox = styled.article`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0.5rem;\n  position: relative;\n`\nconst AreaHeader = styled.h2`\n  font-size: 1.4em;\n  margin: 0 0 0.5rem 0;\n`\nconst HiddenAreaHeader = styled.h2`\n  position: absolute;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  text-indent: -999;\n`\nconst StyledEditor = styled(Editor)`\n  flex: 1;\n`\n\nfunction CanvasArea({\n  border,\n  content,\n  editorState,\n  header,\n  isSimple,\n  onChange,\n  placeholder,\n  ...otherProps\n}) {\n  return (\n    <AreaBox\n      {...otherProps}\n    >\n      {isSimple ? (\n        <HiddenAreaHeader>{header}</HiddenAreaHeader>\n      ) : (\n        <AreaHeader>{header}</AreaHeader>\n      )}\n      <StyledEditor\n        editorState={editorState}\n        isSimple={isSimple}\n        onChange={(nextEditorState) => {\n          onChange({\n            content: Editor.getMarkdownFromEditorState(nextEditorState),\n            editorState: nextEditorState,\n          })\n        }}\n        placeholder={placeholder}\n      />\n      <AreaBorder {...border} />\n    </AreaBox>\n  )\n}\n\nCanvasArea.propTypes = {\n  border: PropTypes.object,\n  content: PropTypes.string.isRequired,\n  editorState: PropTypes.object.isRequired,\n  header: PropTypes.string.isRequired,\n  isSimple: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n}\n\nCanvasArea.defaultProps = {\n  border: [false, false, false, false],\n}\n\nexport default CanvasArea\n","import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport CanvasArea from 'components/CanvasArea'\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst HeaderContainer = styled.div`\n  margin: 0.5rem 0.5rem 0 0.5rem;\n  display: flex;\n`\nconst Header = styled.h1`\n  margin: 0;\n  flex: 1;\n`\nconst HeaderInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  width: 100%;\n`\nconst HeaderContainerRight = styled.div`\n`\nconst PropertyInput = styled.input`\n  border: none;\n  display: block;\n  font-weight: inherit;\n  text-align: right;\n  width: 20em;\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  flex: 1;\n`\n\nfunction CanvasHeader({\n  getProperty,\n  gridArea, /** ignore */\n  header,\n  onHeaderChange,\n  onPropertyChange,\n  sectionProps,\n  ...otherProps\n}) {\n  const handleHeaderChange = useCallback(({ target }) => {\n    onHeaderChange(target.value)\n  }, [onHeaderChange])\n\n  const handleDateChange = useCallback(({ target }) => {\n    onPropertyChange('date', { value: target.value })\n  }, [onPropertyChange])\n  const handleNameChange = useCallback(({ target }) => {\n    onPropertyChange('name', { value: target.value })\n  }, [onPropertyChange])\n\n  return (\n    <Container\n      {...otherProps}\n    >\n      <HeaderContainer>\n        <Header>\n          <HeaderInput\n            aria-label=\"Your Business\"\n            onChange={handleHeaderChange}\n            placeholder=\"Your Business\"\n            {...header}\n          />\n        </Header>\n        <HeaderContainerRight>\n          <PropertyInput\n            onChange={handleDateChange}\n            {...getProperty('date')}\n          />\n          <PropertyInput\n            onChange={handleNameChange}\n            {...getProperty('name')}\n          />\n        </HeaderContainerRight>\n      </HeaderContainer>\n      <StyledCanvasArea\n        isSimple={true}\n        {...sectionProps}\n      />\n    </Container>\n  )\n}\n\nCanvasHeader.propTypes = {\n  getProperty: PropTypes.func.isRequired,\n  gridArea: PropTypes.string,\n  header: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n  }).isRequired,\n  onHeaderChange: PropTypes.func.isRequired,\n  onPropertyChange: PropTypes.func.isRequired,\n  sectionProps: PropTypes.object.isRequired,\n}\n\nexport default CanvasHeader\n","\nexport default {\n  header: {\n    value: '',\n    placeholder: 'Your Business',\n  },\n  localStorageKey: 'businessModelCanvas',\n  props: [\n    {\n      key: 'date',\n      placeholder: 'Date',\n      value: new Date().toLocaleDateString(),\n    },\n    {\n      key: 'name',\n      placeholder: 'Your Name',\n      value: '',\n    },\n  ],\n  sections: [\n    {\n      key: 'purpose',\n      border: {\n        bottom: true,\n      },\n      content: '',\n      header: 'Purpose',\n      isHeader: true,\n      placeholder: 'Step 1:\\nWhat is the business purpose?\\nYou will need it to validate every single part of the model.',\n    },\n    {\n      key: 'customer-segments',\n      border: {\n        left: true,\n      },\n      content: '',\n      header: 'Customer Segments',\n      placeholder: 'Step 2:\\nWhich customers does your business try to serve?',\n    },\n    {\n      key: 'value-propositions',\n      border: {\n        right: true,\n        left: true,\n      },\n      content: '',\n      header: 'Value Propositions',\n      placeholder: 'Step 3:\\nWhich products and services a business offers meet the needs of the customer segments?',\n    },\n    {\n      key: 'channels',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Channels',\n      placeholder: 'Step 4:\\nWhich channels does your business use to deliver the value proposition to the customer segments',\n    },\n    {\n      key: 'customer-relationships',\n      border: { },\n      content: '',\n      header: 'Customer Relationships',\n      placeholder: 'Step 5:\\nWhich type relationship does your business want to create with the customer segments',\n    },\n    {\n      key: 'revenue-streams',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Revenue Streams',\n      placeholder: 'Step 6:\\nHow does your company make income from each customer segment?',\n    },\n    {\n      key: 'key-resources',\n      border: {\n        top: true,\n      },\n      content: '',\n      header: 'Key Resources',\n      placeholder: 'Step 7:\\nWhich resources are necessary to create the value propositions?',\n    },\n    {\n      key: 'key-activities',\n      border: { },\n      content: '',\n      header: 'Key Activities',\n      placeholder: 'Step 8:\\nWhat are the most important activities in executing the value propositions?',\n    },\n    {\n      key: 'key-partners',\n      border: {\n        right: true,\n      },\n      content: '',\n      header: 'Key Partners',\n      placeholder: 'Step 9:\\nWhich buyer-supplier relationships can help you to focus on your core activity, optimise operations and reduce risks?',\n    },\n    {\n      key: 'cost-structure',\n      border: {\n        top: true,\n        right: true,\n      },\n      content: '',\n      header: 'Cost Structure',\n      placeholder: 'Step 10:\\nWhat are the most important monetary consequences while operating under this business model?',\n    },\n  ],\n}\n","import React, { useMemo, useState } from 'react'\nimport useMarkdownSync from 'hooks/useMarkdownSync'\nimport styled from 'styled-components'\nimport { mapObject } from 'utils/object'\n\nimport Editor from 'components/Editor'\nimport Menu from 'components/Menu'\nimport CanvasHeader from 'components/CanvasHeader'\nimport CanvasArea from 'components/CanvasArea'\n\nimport model from './model'\n\n\nconst GridContainer = styled.div`\n  background-color: ${({ theme }) => theme.paperBackground};\n  border-color: ${({ theme }) => theme.pageBackground};\n  border-style: solid;\n  border-width: 0.5em;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-template-rows: 0.5fr 1fr 1fr 1fr;\n  grid-template-areas:\n    \"purpose purpose purpose purpose purpose purpose purpose purpose purpose purpose\"\n    \"key-partners key-partners key-activities key-activities value-propositions value-propositions customer-relationships customer-relationships customer-segments customer-segments\"\n    \"key-partners key-partners key-resources key-resources value-propositions value-propositions channels channels customer-segments customer-segments\"\n    \"cost-structure cost-structure cost-structure cost-structure cost-structure revenue-streams revenue-streams revenue-streams revenue-streams revenue-streams\";\n  margin: auto;\n\n  height: 100%;\n  width: 100%;\n  @media screen {\n    min-width: 90em;\n    min-height: 60em;\n  }\n`\n\nconst StyledCanvasArea = styled(CanvasArea)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst StyledCanvasHeader = styled(CanvasHeader)`\n  grid-area: ${({ gridArea }) => gridArea};\n`\n\nconst getInitialEditorStates = (sections) => sections.reduce(\n  (acc, section) => ({\n    ...acc,\n    [section.key]: Editor.createEditorStateFromMarkdown(section.content),\n  }),\n  {}\n)\n\n\nfunction BusinessModelCanvas() {\n  const markdownSyncApi = useMarkdownSync({ model })\n\n  const initialEditorStates = useMemo(\n    () => getInitialEditorStates(markdownSyncApi.sections),\n    []\n  )\n\n  const [editorStates, setEditorStates] = useState(initialEditorStates)\n  const setSectionEditorState = (key, editorState) => {\n    const nextEditorStates = {\n      ...editorStates,\n      [key]: editorState,\n    }\n    setEditorStates(nextEditorStates)\n  }\n\n  const updateEditorStates = () => {\n    const nextEditorStates = mapObject(editorStates, (key, editorState) => Editor.updateEditorStateWithMarkdown(\n      editorState,\n      markdownSyncApi.getSection(key).content,\n    ))\n    setEditorStates(nextEditorStates)\n  }\n  const handleReset = () => {\n    markdownSyncApi.reset()\n    updateEditorStates()\n  }\n  const handleLoadFromFile = (file) => {\n    markdownSyncApi.loadFromFile(\n      file\n    ).then(\n      updateEditorStates\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <Menu\n        loadFromFile={handleLoadFromFile}\n        onReset={handleReset}\n        onSaveAs={markdownSyncApi.saveAs}\n      />\n      <GridContainer>\n        {(markdownSyncApi.sections.map(({ isHeader, key, ...section }) => {\n          const sectionProps = {\n            editorState: editorStates[key],\n            isSimple: isHeader,\n            onChange: ({ content, editorState }) => {\n              markdownSyncApi.updateSection(key, { content })\n              setSectionEditorState(key, editorState)\n            },\n            ...section,\n          }\n          if (isHeader) {\n            return (\n              <StyledCanvasHeader\n                gridArea={key}\n                header={markdownSyncApi.header}\n                key={key}\n                onHeaderChange={markdownSyncApi.updateHeader}\n                onPropertyChange={markdownSyncApi.updateProperty}\n                getProperty={markdownSyncApi.getProperty}\n                sectionProps={sectionProps}\n              />\n            )\n          } else {\n            return (\n              <StyledCanvasArea\n                gridArea={key}\n                key={key}\n                {...sectionProps}\n              />\n            )\n          }\n        }))}\n      </GridContainer>\n    </React.Fragment>\n  )\n}\n\nexport default BusinessModelCanvas\n","import React from 'react'\nimport { createGlobalStyle, ThemeProvider } from 'styled-components'\n\nimport BusinessModelCanvas from 'components/BusinessModelCanvas'\n\n\nconst GlobalStyle = createGlobalStyle`\n  BODY {\n    background-color: ${({ theme }) => theme.pageBackground};\n    font-size: 14px;\n\n    @media (min-width: 1600px) {\n      font-size: 16px;\n    }\n    @media (min-width: 2000px) {\n      font-size: 18px;\n    }\n  }\n`\n\nfunction App() {\n  return (\n    <ThemeProvider\n      theme={{\n        pageBackground: '#EEEEEE',\n        paperBackground: '#FFFFFF',\n      }}\n    >\n      <React.Fragment>\n        <GlobalStyle />\n        <BusinessModelCanvas />\n      </React.Fragment>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => { // eslint-disable-line no-param-reassign\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nimport './index.css'\nimport 'normalize.css/normalize.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}